[//]: # (title: クロスプラットフォームモバイル開発とは？)

<web-summary>クロスプラットフォームモバイル開発は、多くの時間と労力の節約に役立ちます。なぜ多くの開発者がすでにこの費用対効果の高いテクノロジーに切り替えているのかをご覧ください。</web-summary>

現代では、多くの企業が複数のプラットフォーム、特にAndroidとiOSの両方に対応するモバイルアプリを構築する必要があるという課題に直面しています。これが、クロスプラットフォームモバイル開発ソリューションが最も人気のあるソフトウェア開発トレンドの1つとして登場した理由です。

Statistaによると、2022年第3四半期にはGoogle Play ストアで355万のモバイルアプリが、App Storeで160万のアプリが利用可能であり、AndroidとiOSを合わせると現在、[世界のモバイルOS市場の99%](https://gs.statcounter.com/os-market-share/mobile/worldwide)を占めています。

AndroidとiOSの両方のユーザーにリーチできるモバイルアプリを作成するにはどうすればよいでしょうか？この記事では、なぜより多くのモバイルエンジニアがクロスプラットフォーム、またはマルチプラットフォームのモバイル開発アプローチを選択しているのかについて説明します。

## クロスプラットフォームモバイル開発：定義とソリューション

マルチプラットフォームモバイル開発は、複数のオペレーティングシステムでスムーズに動作する単一のモバイルアプリケーションを構築できるアプローチです。クロスプラットフォームアプリでは、ソースコードの一部、あるいはすべてを共有できます。つまり、開発者はAndroidとiOSの両方で機能するモバイルアセットを、個々のプラットフォームごとに再コーディングすることなく作成およびデプロイできるということです。

### モバイルアプリ開発の異なるアプローチ

AndroidとiOSの両方に対応するアプリケーションを作成するには、主に4つの方法があります。

#### 1. 各OS向けの個別のネイティブアプリ

ネイティブアプリを作成する場合、開発者は特定のオペレーティングシステム向けにアプリケーションを構築し、KotlinやJava（Android用）、Objective-CやSwift（iOS用）など、1つのプラットフォーム専用に設計されたツールやプログラミング言語に依存します。

これらのツールと言語は、特定のOSの機能や能力にアクセスすることを可能にし、直感的なインターフェースを備えた応答性の高いアプリを開発できます。しかし、AndroidとiOSの両方のユーザーにリーチしたい場合、個別のアプリケーションを作成する必要があり、これには多くの時間と労力がかかります。

#### 2. プログレッシブウェブアプリ（PWA）

プログレッシブウェブアプリは、モバイルアプリの機能とウェブ開発で使用されるソリューションを組み合わせたものです。大まかに言えば、ウェブサイトとモバイルアプリケーションの混合型を提供します。開発者はJavaScript、HTML、CSS、WebAssemblyなどのウェブ技術を使用してPWAを構築します。

ウェブアプリケーションは個別のバンドルや配布を必要とせず、オンラインで公開できます。コンピューター、スマートフォン、タブレットのブラウザからアクセスでき、Google PlayやApp Storeを介してインストールする必要はありません。

ここでの欠点は、ユーザーがアプリを使用中に、連絡先、カレンダー、電話などのデバイスのすべての機能を利用できないことであり、その結果、ユーザーエクスペリエンスが制限されます。アプリのパフォーマンスという点では、ネイティブアプリが優位にあります。

#### 3. クロスプラットフォームアプリ

前述のとおり、マルチプラットフォームアプリは、異なるモバイルプラットフォームで同じように動作するように設計されています。クロスプラットフォームフレームワークを使用すると、このようなアプリを開発するために共有可能で再利用可能なコードを書くことができます。

このアプローチには、時間とコストの両面で効率が良いといういくつかの利点があります。クロスプラットフォームモバイル開発のメリットとデメリットについては、後のセクションで詳しく見ていきます。

#### 4. ハイブリッドアプリ

ウェブサイトやフォーラムを閲覧していると、一部の人々が_"クロスプラットフォームモバイル開発"_と_"ハイブリッドモバイル開発"_という用語を同義語として使用していることに気づくかもしれません。しかし、そうすることは完全に正確ではありません。

クロスプラットフォームアプリの場合、モバイルエンジニアは一度コードを書けば、それを異なるプラットフォームで再利用できます。一方、ハイブリッドアプリ開発は、ネイティブ技術とウェブ技術を組み合わせたアプローチです。これは、HTML、CSS、JavaScriptなどのウェブ開発言語で書かれたコードをネイティブアプリに埋め込むことを必要とします。これには、Ionic CapacitorやApache Cordovaのようなフレームワークの助けを借りて、追加のプラグインを使用してプラットフォームのネイティブ機能にアクセスすることができます。

クロスプラットフォーム開発とハイブリッド開発の唯一の類似点は、コードの共有性です。パフォーマンスの面では、ハイブリッドアプリケーションはネイティブアプリと同等ではありません。ハイブリッドアプリは単一のコードベースを展開するため、一部の機能は特定のOSに固有であり、他のOSではうまく機能しません。

### ネイティブアプリ開発とクロスプラットフォームアプリ開発：長年の議論

テックコミュニティでは、[ネイティブ開発とクロスプラットフォーム開発を巡る議論](native-and-cross-platform.md)が依然として未解決のままです。どちらの技術も常に進化しており、それぞれにメリットとデメリットがあります。

一部の専門家は、ネイティブアプリの優れたパフォーマンスとより良いユーザーエクスペリエンスを最も重要なメリットと見なし、マルチプラットフォームソリューションよりもネイティブモバイル開発を依然として好んでいます。

しかし、多くの現代のビジネスでは、AndroidとiOSの両方に存在感を持ちつつ、タイムトゥマーケットとプラットフォームごとの開発コストを削減する必要があります。こういった状況において、NetflixのシニアソフトウェアエンジニアであるDavid HenryとMel Yahyaが[指摘](https://netflixtechblog.com/netflix-android-and-ios-studio-apps-kotlin-multiplatform-d6d4d8d25d23)しているように、[Kotlin Multiplatform (KMP)](https://kotlinlang.org/lp/multiplatform/)のようなクロスプラットフォーム開発技術が役立ちます。

> 信頼性の低いネットワーク接続の可能性が高いことから、堅牢なクライアントサイドの永続性とオフラインサポートのためのモバイルソリューションに傾倒しました。高速な製品提供の必要性から、マルチプラットフォームアーキテクチャの実験に至りました。現在、Kotlin Multiplatformを使用してKotlinでプラットフォーム非依存のビジネスロジックを一度記述し、Android用のKotlinライブラリとiOS用のネイティブUniversal Frameworkにコンパイルすることで、さらに一歩進んでいます。
>
> {style="tip"}

[![Discover Kotlin Multiplatform](discover-kmp.svg){width="700"}](https://www.jetbrains.com/kotlin-multiplatform/)

## クロスプラットフォームモバイル開発はあなたに適していますか？

自分に適したモバイル開発アプローチを選択するかどうかは、ビジネス要件、目的、タスクなど、多くの要因によって異なります。他のソリューションと同様に、クロスプラットフォームモバイル開発にもメリットとデメリットがあります。

### クロスプラットフォーム開発のメリット

企業が他の選択肢よりもこのアプローチを選ぶ理由はたくさんあります。

#### 1. コードの再利用性

クロスプラットフォームプログラミングでは、モバイルエンジニアはすべてのオペレーティングシステムに対して新しいコードを書く必要がありません。単一のコードベースを使用することで、開発者はAPI呼び出し、データストレージ、データシリアライゼーション、分析の実装といった反復的なタスクに費やす時間を削減できます。

Kotlin Multiplatformのような技術を使用すると、アプリのデータ、ビジネス、プレゼンテーション層を一度だけ実装できます。または、KMPを段階的に採用することもできます。頻繁に変更され、通常は同期がずれるロジックの一部（データ検証、フィルタリング、ソートなど）を選択し、それをクロスプラットフォーム化し、その後マイクロライブラリとしてプロジェクトに接続します。

JetBrainsでは、Kotlin Multiplatformに関する調査を定期的に実施し、コミュニティメンバーに異なるプラットフォーム間で共有しているコードのどの部分について尋ねています。

![Parts of code Kotlin Multiplatform users can share between platforms](survey-results-q1-q2-22.png){width=700}

#### 2. 時間の節約

コードの再利用性により、クロスプラットフォームアプリケーションはより少ないコードで済み、コーディングに関しては、コードが少ないほど良いと言えます。コードをあまり書かなくて済むため、時間を節約できます。さらに、コード行が少ないとバグが発生する余地が少なくなり、コードのテストとメンテナンスに費やす時間が短縮されます。

#### 3. 効果的なリソース管理

個別のアプリケーションを構築することはコストがかかります。単一のコードベースを持つことは、リソースを効果的に管理するのに役立ちます。AndroidチームとiOSチームの両方が、共有コードの記述方法と使用方法を学ぶことができます。

#### 4. 開発者にとって魅力的な機会

多くのモバイルエンジニアは、現代のクロスプラットフォーム技術を、製品の技術スタックにおいて望ましい要素だと考えています。開発者は、JSONパースのような反復的で日常的なタスクを実行する必要がある場合、仕事に飽きてしまうかもしれません。しかし、新しい技術やタスクは、彼らの興奮、モチベーション、仕事への喜びを取り戻すことができます。このように、最新の技術スタックを持つことは、モバイル開発チームの編成を容易にし、彼らをより長く仕事に引きつけ、熱意を持続させることにもつながります。

#### 5. より幅広いユーザーにリーチする機会

異なるプラットフォーム間で選択する必要はありません。アプリが複数のオペレーティングシステムと互換性があるため、AndroidとiOSの両方のユーザーのニーズを満たし、リーチを最大化できます。

#### 6. より迅速なタイムトゥマーケットとカスタマイズ

異なるプラットフォーム向けに異なるアプリを構築する必要がないため、製品の開発とローンチを大幅に迅速化できます。さらに、アプリケーションをカスタマイズまたは変換する必要がある場合、プログラマーがコードベースの特定の箇所に小さな変更を加えることが容易になります。これにより、ユーザーのフィードバックに対してより迅速に対応できるようになります。

### クロスプラットフォーム開発アプローチの課題

すべてのソリューションには、それぞれ独自の限界があります。テックコミュニティの一部では、クロスプラットフォームプログラミングが依然としてパフォーマンスに関連する不具合に苦しんでいると主張しています。さらに、プロジェクトリーダーは、開発プロセスの最適化に注力することがアプリのユーザーエクスペリエンスに悪影響を及ぼすのではないかという懸念を抱くかもしれません。

しかし、基盤となる技術の改善により、クロスプラットフォームソリューションはますます[安定](https://blog.jetbrains.com/kotlin/2023/11/kotlin-multiplatform-stable/)し、適応性があり、柔軟になっています。

以下は、6ヶ月間隔で実施されたフレームワーク利用に関する2つのKotlin Multiplatformユーザー調査の結果です。

![Kotlin Multiplatform usage survey results](kmp-survey-results-2023.png){width=700}

もう1つのよく聞かれる懸念は、マルチプラットフォーム開発ではプラットフォームのネイティブ機能をシームレスにサポートすることが不可能であるという点です。しかし、Kotlin Multiplatformでは、Kotlinの[expectedおよびactual宣言](multiplatform-expect-actual.md)を使用することで、マルチプラットフォームアプリがプラットフォーム固有のAPIにアクセスできるようにすることができます。expectedおよびactual宣言を使用すると、共通コードで複数のプラットフォーム間で同じ関数を呼び出すことを「期待」する機能を定義し、JavaおよびObjective-C/SwiftとのKotlinの相互運用性のおかげで、任意のプラットフォーム固有のライブラリと対話できる「actual」な実装を提供できます。

現代のマルチプラットフォームフレームワークが進化し続けるにつれて、モバイルエンジニアはますますネイティブのようなエクスペリエンスを作成できるようになっています。アプリケーションが適切に記述されていれば、ユーザーはその違いに気づかないでしょう。しかし、製品の品質は、選択するクロスプラットフォームアプリ開発ツールに大きく依存します。

## 最も人気のあるクロスプラットフォームソリューション

[最も人気のあるクロスプラットフォームフレームワーク](cross-platform-frameworks.md)には、Flutter、React Native、Kotlin Multiplatformがあります。これらの各フレームワークには、独自の機能と強みがあります。使用するツールによって、開発プロセスと結果は異なる場合があります。

### Flutter

Googleによって作成されたFlutterは、Dartプログラミング言語を使用するクロスプラットフォーム開発フレームワークです。Flutterは、位置情報サービス、カメラ機能、ハードドライブアクセスなどのネイティブ機能をサポートしています。Flutterでサポートされていない特定のアプリ機能を作成する必要がある場合は、[Platform Channelテクノロジー](https://docs.flutter.dev/platform-integration/platform-channels)を使用してプラットフォーム固有のコードを記述できます。

Flutterで構築されたアプリは、そのUXおよびUI層のすべてを共有する必要があります。このフレームワークの最も優れた点の1つは、開発者が変更を加えてすぐに確認できるHot Reload機能です。

このフレームワークは、以下の状況で最適な選択肢となる可能性があります。

*   アプリ間でUIコンポーネントを共有したいが、アプリをネイティブに近い見た目にしたい場合。
*   アプリがCPU/GPUに大きな負荷をかけると予想され、パフォーマンスの最適化が必要になる可能性が高い場合。
*   MVP（実用最小限の製品）を開発する必要がある場合。

Flutterで構築された最も人気のあるアプリには、Google Ads、AlibabaのXianyu、eBay Motors、Hamiltonなどがあります。

[Kotlin MultiplatformとFlutter](kotlin-multiplatform-flutter.md)について詳しく学び、それぞれの機能とクロスプラットフォームプロジェクトへの最適な適合性を判断してください。

### React Native

Facebookは2015年に、モバイルエンジニアがハイブリッドなネイティブ/クロスプラットフォームアプリを構築するのを支援するために設計されたオープンソースフレームワークとしてReact Nativeを発表しました。これは、ユーザーインターフェースを構築するためのJavaScriptライブラリであるReactJSをベースにしています。言い換えれば、JavaScriptを使用してAndroidおよびiOSシステム向けのモバイルアプリを構築します。

React Nativeは、すぐに使えるコンポーネントを備えたいくつかのサードパーティUIライブラリへのアクセスを提供し、モバイルエンジニアの開発プロセスにおける時間節約を支援します。Flutterと同様に、Fast Refresh機能のおかげで、すべての変更を即座に確認できます。

以下のケースでは、アプリにReact Nativeの使用を検討すべきです。

*   アプリケーションが比較的シンプルで、軽量であることが期待される場合。
*   開発チームがJavaScriptまたはReactに精通している場合。

React Nativeで構築されたアプリケーションには、Facebook、Instagram、Skype、Uber Eatsなどがあります。

### Kotlin Multiplatform

Kotlin Multiplatformは、JetBrainsが構築したオープンソース技術で、開発者がネイティブプログラミングのメリットを維持しながら、プラットフォーム間でコードを共有できるようにします。その主なメリットは次のとおりです。

*   必要に応じてネイティブコードを保持しながら、Android、iOS、ウェブ、デスクトップ、サーバーサイド間でコードを再利用できること。
*   既存のプロジェクトとのスムーズな統合。ネイティブ開発とクロスプラットフォーム開発の両方を最大限に活用しながら、プラットフォーム固有のAPIを利用できます。
*   JetBrainsが構築した最新の宣言型クロスプラットフォームUIフレームワークである[Compose Multiplatform](https://www.jetbrains.com/lp/compose-multiplatform/)のおかげで、完全なコード共有の柔軟性とロジックとUIの両方を共有する能力。
*   Androidで既にKotlinを使用している場合、コードベースに新しい言語を導入する必要がないこと。Kotlinのコードと専門知識を再利用できるため、他の技術と比較してKotlin Multiplatformへの移行リスクが低減されます。

チームが新しいマルチプラットフォーム技術の導入にサポートが必要な場合は、[_チームにマルチプラットフォーム開発を導入する方法_](multiplatform-introduce-your-team.md)に関するガイドを確認することをお勧めします。

[![Get Started with Kotlin Multiplatform](get-started-with-kmp.svg){width="700"}](https://www.jetbrains.com/help/kotlin-multiplatform-dev/get-started.html)

McDonald's、Netflix、9GAG、VMware、Cash App、Philipsなど、多くの企業がすでにKotlin Multiplatformの段階的な統合可能性と、その低い導入リスクを活用しています。それらの企業の中には、既存のKotlinコードの特定の重要な部分を共有することで、アプリの安定性を向上させることを選択しているところもあります。また、アプリの品質を損なうことなくコードの再利用を最大化し、モバイル、デスクトップ、ウェブ、TVのすべてのアプリケーションロジックを共有しつつ、各プラットフォームでネイティブUIを維持することを目指しているところもあります。このアプローチの利点は、すでに採用している企業の事例から明らかです。

> グローバル企業やスタートアップによる[Kotlin Multiplatformのすべての事例紹介](case-studies.topic)をチェックしてください。
> {style="note"}

## まとめ

クロスプラットフォーム開発ソリューションが進化し続けるにつれて、その限界は提供されるメリットと比較して見劣りするようになってきました。市場にはさまざまなテクノロジーがあり、それぞれ異なるワークフローと要件に適しています。本記事で議論された各ツールは、クロスプラットフォームを試そうと考えているチームに広範なサポートを提供します。

最終的に、特定のビジネスニーズ、目的、タスクを慎重に検討し、アプリで達成したい明確な目標を設定することが、最適なソリューションを見つけるのに役立ちます。