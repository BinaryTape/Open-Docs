[//]: # (title: 跨平台与原生应用开发：如何选择？)

<web-summary>在选择跨平台与原生应用开发时，请考虑这六个关键因素，为您的下一个应用选择最佳解决方案。</web-summary>

2023 年，人们花费了近 [160 亿小时使用移动应用程序](https://www.statista.com/statistics/1446684/cumulative-time-spent-on-apps/)，这表明对应用的需求持续存在。

移动应用开发不断发展，每年都有新的技术和框架涌现。市场上有各种解决方案，从中选择往往很困难。您可能已经听过长期以来关于“跨平台与原生应用开发”的争论。

在构建应用之前，需要考虑许多因素，例如开发成本、时间和应用功能性。如果您想同时面向 Android 和 iOS 受众，这一点尤其重要。决定哪种移动开发方法最适合您的特定项目可能具有挑战性。为了帮助您在跨平台与原生应用开发之间做出选择，我们列出了六个需要牢记的关键点。

## 什么是原生移动应用开发？

原生移动开发意味着您为特定的移动操作系统（大多数情况下是 Android 或 iOS）构建应用程序。在开发原生应用时，开发者使用特定的编程语言和工具。例如，您可以使用 Kotlin 或 Java 创建原生 Android 应用程序，或者使用 Objective-C 或 Swift 构建 iOS 应用。

以下是其核心优势和局限性：

| **优势** | **局限性** |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **高性能。** 用于构建原生应用的核心编程语言和 API 使它们快速且响应迅速。 | **高成本。** 原生应用开发需要两支独立的团队，具备不同的技能组合，这增加了开发过程的时间和成本。 |
| **直观的用户体验。** 移动工程师使用原生 SDK 开发原生应用，这使得 UI 看起来一致。原生应用的界面设计旨在与特定平台良好协作，这使得它们感觉像是设备不可或缺的一部分，并提供更直观的用户体验。 | **庞大的开发团队。** 管理由多名专家组成的庞大团队可能具有挑战性。参与一个项目的人越多，沟通和协作所需的精力就越大。 |
| **访问特定设备的完整特性集。** 为特定操作系统构建的原生应用可以直接访问设备的硬件，例如摄像头、麦克风和 GPS 定位支持。 | **代码中错误更多。** 更多代码行可能留下更多产生错误的余地。 |
| |**Android 和 iOS 应用逻辑不一致的风险。** 在原生应用开发中，为某个移动平台编写的代码不能适配到另一个平台。例如，由于折扣计算方式的错误，Android 和 iOS 应用可能会显示同一商品的不同的价格。|

## 什么是跨平台应用开发？

跨平台应用开发，也称为多平台开发，是构建兼容多个操作系统的移动应用的过程。移动工程师无需为 iOS 和 Android 创建单独的应用程序，而是可以在多个平台之间共享部分或全部源代码。这样，应用程序在 iOS 和 Android 上的工作方式将相同。

目前有各种开源的[跨平台移动应用开发框架](cross-platform-frameworks.md)可用。其中一些最受欢迎的是 Flutter、React Native 和 Kotlin Multiplatform。以下是它们的一些主要优点和缺点：

| **优点** | **局限性** |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **可共享的代码。** 开发者创建单一代码库，无需为每个操作系统编写新代码。 | **性能问题。** 一些开发者认为多平台应用程序的性能低于原生应用。 |
| **更快的开发速度。** 您无需编写或测试那么多代码，这有助于加速开发过程。 | **难以访问移动设备的原生特性。** 构建需要访问平台特有 API 的跨平台应用需要更多精力。 |
| **成本效益。** 跨平台解决方案是初创公司和预算较小的公司值得考虑的好选择，因为它可以帮助它们降低开发成本。 | **有限的 UI 一致性。** 对于允许共享 UI 的跨平台开发框架，应用程序可能看起来和用起来不如原生。 |
| **新的工作机会。** 您可以通过产品技术栈中现代的跨平台技术吸引新人才加入您的团队。许多开发者希望在工作中应对新挑战，这就是为什么新技术和任务往往会增加开发者的积极性和工作乐趣。 | **招聘过程具挑战性。** 相比原生应用开发者，更难找到可以构建多平台应用的专业人士。例如，在 Glassdoor 上，我们发现美国有 457 个 Android 开发者职位，而 Flutter 开发者空缺只有 58 个。然而，借助 [Kotlin Multiplatform](https://www.jetbrains.com/kotlin-multiplatform/) 等现代技术，这一劣势变得易于管理。您可以招聘一位能够迅速适应跨平台开发的 Android 开发者，因为它们都是 Kotlin。 |
| **灵活的代码共享。** 现代跨平台技术允许开发者跨多个平台复用代码，同时保留原生编程的优势。 | |

[![Discover Kotlin Multiplatform](discover-kmp.svg){width="700"}](https://www.jetbrains.com/kotlin-multiplatform/)

这些只是跨平台应用开发的一些主要优势。您可以阅读我们关于[跨平台移动开发](cross-platform-mobile-development.md)的文章，了解其更多优势和全球公司的用例。至于这种方法的挑战——我们将在下一节中讨论。

### 澄清一些关于跨平台应用开发的常见误区

多平台技术不断发展。一些跨平台开发框架，如 [Kotlin Multiplatform](https://kotlinlang.org/lp/multiplatform/)，提供了构建跨平台和原生应用的优势，并消除了通常与该方法相关的局限性。

#### 1. 跨平台应用的性能低于原生应用。

性能不佳曾长期被认为是多平台应用的主要缺点之一。然而，您产品的性能和质量很大程度上取决于您用于构建应用的工具。最新的跨平台框架提供了开发具有接近原生的用户体验的应用所需的所有工具。

通过使用不同的编译器后端，[Kotlin](multiplatform-share-on-platforms.md) 会编译为平台格式——Android 的 JVM 字节码和 iOS 的原生二进制文件。因此，您的共享代码的性能与原生编写时相同。

#### 2. 跨平台框架不安全。

有一个常见的误解是原生应用更加安全可靠。然而，现代跨平台开发工具允许开发者构建安全的应用，确保可靠的数据保护。移动工程师只需要[采取额外措施来确保其应用安全](https://appstronauts.co/blog/are-cross-platform-apps-as-fast-and-secure-as-native-apps/#:~:text=Unsecurity%20of%20cross%2Dplatform%20apps,a%20cross%2Dplatform%20app%27s%20code.)。

#### 3. 跨平台应用无法访问移动设备的所有原生功能。

确实，并非所有跨平台框架都允许您构建完全访问设备特性的应用。尽管如此，一些现代多平台技术可以帮助您克服这一挑战。例如，Kotlin Multiplatform 可以轻松访问 Android 和 iOS SDK。它提供了[Kotlin 的预期与实际声明机制](multiplatform-connect-to-apis.md)，以帮助您访问设备的性能和特性。

#### 4. 管理跨平台项目通常很困难。

事实上，恰恰相反。跨平台解决方案有助于您更有效地管理资源。您的开发团队可以学习如何编写和复用共享代码。Android 和 iOS 开发者可以通过交互和知识共享实现高效率和透明度。

## 选择跨平台与原生应用开发时需要考虑的 6 个关键方面

现在，让我们来看看在为移动应用开发选择原生与跨平台解决方案时需要考虑的重要因素。

#### 1. 未来应用的类型和目的

第一步是了解您将要构建什么应用，包括其特性和目的。一个具有许多特性的复杂应用将需要大量的编程，特别是如果它是一个没有任何现有模板的新事物。

应用的 UI 对您来说有多重要？您是在追求出色的视觉效果，还是 UI 不那么重要？它是否需要任何特定的硬件功能以及对摄像头和 GPS 定位支持的访问？您需要确保所选择的移动开发方法提供了必要的工具来构建您需要的应用并提供卓越的用户体验。

#### 2. 团队在编程语言和工具方面的经验

您的团队开发者应具备足够的经验和专业知识来使用特定框架。请密切关注开发工具所需的编程技能和语言。

例如，开发者需要了解 Objective-C 或 Swift 来为 iOS 创建原生应用，而需要了解 Kotlin 或 Java 来开发 Android 应用。跨平台框架 Flutter 需要 Dart 知识。如果您使用 Kotlin Multiplatform，Kotlin 语法对 iOS 开发者来说很容易学习，因为它遵循类似于 Swift 的概念。

#### 3. 长期可行性

在选择不同的方法和框架时，您需要确信平台供应商将在长期内继续支持它。您可以深入了解提供商的详细信息、其社区规模以及全球公司的采用情况。例如，Kotlin Multiplatform 由 JetBrains 开发，Flutter 由 Google 开发，React Native 由 Facebook 开发。

[![Explore real-world Kotlin Multiplatform use cases](kmp-use-cases-1.svg){width="700"}](https://www.jetbrains.com/help/kotlin-multiplatform-dev/case-studies.html)

#### 4. 开发成本和您的预算

如上所述，不同的移动开发解决方案和工具会带来不同的开销。根据您的预算灵活性，您可以为您的项目选择适合的解决方案。

#### 5. 行业采用情况

您总能了解技术社区中其他专家对不同方法的看法。Reddit、StackOverflow 和 Google Trends 都是很好的资源。只需看看以下两个词的搜索趋势：“原生移动开发”与“跨平台移动开发”。根据 Google Trends，许多人仍然对学习原生应用开发感兴趣，但跨平台方法也正在获得关注。

![Cross-platform and native mobile development in Google Trends](crossplatform-native-mobile-dev-trends.png){width=700}

如果一项技术被专业人士广泛使用，它就拥有强大的生态系统、众多库以及来自技术社区的最佳实践，这使得开发更快。

#### 6. 可见性和学习资源

如果您正在考虑尝试跨平台应用开发，您应该考虑的因素之一是找到不同多平台框架的学习材料有多容易。查看它们的官方文档、书籍和课程。请确保它们提供了包含长期计划的[产品路线图](https://blog.jetbrains.com/kotlin/2024/10/kotlin-multiplatform-development-roadmap-for-2025/)。

## 您何时应该选择跨平台应用开发？

跨平台移动应用开发解决方案将在您为 Android 和 iOS 构建应用程序时节省时间和精力。

简而言之，如果您满足以下条件，您应该选择跨平台解决方案：

*   您需要为 Android 和 iOS 构建应用。
*   您希望优化开发时间。
*   您希望拥有一个用于应用逻辑的单一代码库，同时保持对 UI 元素的完全控制。并非所有跨平台框架都允许您这样做，但有些，如 Kotlin Multiplatform，使您能够[共享逻辑并保持 UI 原生](multiplatform-connect-to-apis.md)。
*   您渴望拥抱一项不断发展的现代技术。

将新技术和工具引入组织可能具有挑战性。这就是为什么我们创建了一份名为[“如何向您的团队引入多平台移动开发”](multiplatform-introduce-your-team.md)的指南，您将在其中找到一系列行动要点和最佳实践，以帮助尽可能无缝地过渡到多平台。

[![See Kotlin Multiplatform in action](see-kmp-in-action.svg){width="700"}](https://www.jetbrains.com/help/kotlin-multiplatform-dev/get-started.html)

## 您何时应该选择原生应用开发？

在少数特定情况下，选择原生移动开发可能更有意义。如果您满足以下条件，您应该选择此方法：

*   您的应用目标是单一受众——要么是 Android，要么是 iOS。
*   用户界面对您未来的应用至关重要。然而，即使在这种情况下，您也可以使用多平台解决方案在平台之间共享逻辑，同时选择保持 UI 原生。
*   您的团队具备高度熟练的 Android 和 iOS 开发者，但您没有时间引入新技术。

### 总结要点

请牢记上述所有方面、您的项目目标以及最终用户。无论您更适合原生开发还是跨平台开发，都取决于您的独特需求。每种解决方案都有其优势和劣势。

尽管如此，请密切关注社区中发生的事情。了解最新的移动开发趋势将帮助您为项目做出最佳选择。