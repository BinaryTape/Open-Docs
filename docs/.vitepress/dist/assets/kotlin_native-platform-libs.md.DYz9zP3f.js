import{_ as p,C as n,c as d,o as c,ag as s,j as t,a as l,G as a,w as i}from"./chunks/framework.Bksy39di.js";const _=JSON.parse('{"title":"平台库","description":"","frontmatter":{},"headers":[],"relativePath":"kotlin/native-platform-libs.md","filePath":"kotlin/native-platform-libs.md","lastUpdated":1754307826000}'),u={name:"kotlin/native-platform-libs.md"};function m(k,e,b,f,h,v){const o=n("tab"),r=n("tabs");return c(),d("div",null,[e[8]||(e[8]=s('<h1 id="平台库" tabindex="-1">平台库 <a class="header-anchor" href="#平台库" aria-label="Permalink to &quot;平台库&quot;">​</a></h1><p>为了提供对操作系统的原生服务访问，Kotlin/Native 发行版包含了一组针对各目标特有的预构建库。这些库称为 <em>平台库</em>。</p><p>平台库中的包默认可用。您无需指定额外的链接选项即可使用它们。Kotlin/Native 编译器会自动检测哪些平台库被访问，并链接必要的库。</p><p>然而，编译器发行版中的平台库仅仅是原生库的包装器和绑定。这意味着您需要在本地机器上安装原生库本身（例如 <code>.so</code>、<code>.a</code>、<code>.dylib</code>、<code>.dll</code> 等）。</p><h2 id="posix-绑定" tabindex="-1">POSIX 绑定 <a class="header-anchor" href="#posix-绑定" aria-label="Permalink to &quot;POSIX 绑定&quot;">​</a></h2><p>Kotlin 为所有基于 UNIX 和 Windows 的目标平台（包括 Android 和 iOS）提供了 POSIX 平台库。这些平台库包含对平台实现的绑定，它们遵循 <a href="https://en.wikipedia.org/wiki/POSIX" target="_blank" rel="noreferrer">POSIX 标准</a>。</p><p>要使用该库，请将其导入到您的项目：</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> platform.posix.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span></span></code></pre></div><div class="note custom-block"><p class="custom-block-title">NOTE</p><p><code>platform.posix</code> 的内容因 POSIX 实现的差异而在不同平台间有所差异。</p></div><p>您可以在此处探查每个支持平台的 <code>posix.def</code> 文件的内容：</p><ul><li><a href="https://github.com/JetBrains/kotlin/tree/master/kotlin-native/platformLibs/src/platform/ios/posix.def" target="_blank" rel="noreferrer">iOS</a></li><li><a href="https://github.com/JetBrains/kotlin/tree/master/kotlin-native/platformLibs/src/platform/osx/posix.def" target="_blank" rel="noreferrer">macOS</a></li><li><a href="https://github.com/JetBrains/kotlin/tree/master/kotlin-native/platformLibs/src/platform/tvos/posix.def" target="_blank" rel="noreferrer">tvOS</a></li><li><a href="https://github.com/JetBrains/kotlin/tree/master/kotlin-native/platformLibs/src/platform/watchos/posix.def" target="_blank" rel="noreferrer">watchOS</a></li><li><a href="https://github.com/JetBrains/kotlin/tree/master/kotlin-native/platformLibs/src/platform/linux/posix.def" target="_blank" rel="noreferrer">Linux</a></li><li><a href="https://github.com/JetBrains/kotlin/tree/master/kotlin-native/platformLibs/src/platform/mingw/posix.def" target="_blank" rel="noreferrer">Windows (MinGW)</a></li><li><a href="https://github.com/JetBrains/kotlin/tree/master/kotlin-native/platformLibs/src/platform/android/posix.def" target="_blank" rel="noreferrer">Android</a></li></ul><p>POSIX 平台库不适用于 <a href="/kotlin/wasm-overview">WebAssembly</a> 目标平台。</p><h2 id="常用原生库" tabindex="-1">常用原生库 <a class="header-anchor" href="#常用原生库" aria-label="Permalink to &quot;常用原生库&quot;">​</a></h2><p>Kotlin/Native 提供了各种常用原生库的绑定，这些库在不同平台上普遍使用，例如 OpenGL、zlib 和 Foundation。</p><p>在 Apple 平台上，包含 <code>objc</code> 库以启用<a href="/kotlin/native-objc-interop">与 Objective-C 的互操作</a> API。</p><p>您可以根据您的设置，在编译器发行版中探查适用于 Kotlin/Native 目标平台的原生库：</p>',16)),t("ul",null,[e[7]||(e[7]=t("li",null,[t("p",null,[l("如果您"),t("a",{href:"/kotlin/native-get-started#download-and-install-the-compiler"},"安装了独立的 Kotlin/Native 编译器"),l("：")]),t("ol",null,[t("li",null,[l("转到解压后的编译器发行版归档文件，例如 "),t("code",null,"kotlin-native-prebuilt-macos-aarch64-2.1.0"),l("。")]),t("li",null,[l("导航到 "),t("code",null,"klib/platform"),l(" 目录。")]),t("li",null,"选择对应的目标平台文件夹。")])],-1)),t("li",null,[e[6]||(e[6]=t("p",null,"如果您在 IDE 中使用 Kotlin 插件（与 IntelliJ IDEA 和 Android Studio 捆绑）：",-1)),t("ol",null,[t("li",null,[e[2]||(e[2]=t("p",null,[l("在您的命令行工具中，运行以下命令以导航到 "),t("code",null,".konan"),l(" 文件夹：")],-1)),a(r,null,{default:i(()=>[a(o,{title:"macOS 和 Linux"},{default:i(()=>e[0]||(e[0]=[t("div",{class:"language-none vp-adaptive-theme"},[t("button",{title:"Copy Code",class:"copy"}),t("span",{class:"lang"},"none"),t("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",null,"~/.konan/")])])])],-1)])),_:1}),a(o,{title:"Windows"},{default:i(()=>e[1]||(e[1]=[t("div",{class:"language-none vp-adaptive-theme"},[t("button",{title:"Copy Code",class:"copy"}),t("span",{class:"lang"},"none"),t("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[t("code",null,[t("span",{class:"line"},[t("span",null,"%\\USERPROFILE%\\.konan")])])])],-1)])),_:1})]),_:1})]),e[3]||(e[3]=t("li",null,[t("p",null,[l("打开 Kotlin/Native 编译器发行版，例如 "),t("code",null,"kotlin-native-prebuilt-macos-aarch64-2.1.0"),l("。")])],-1)),e[4]||(e[4]=t("li",null,[t("p",null,[l("导航到 "),t("code",null,"klib/platform"),l(" 目录。")])],-1)),e[5]||(e[5]=t("li",null,[t("p",null,"选择对应的目标平台文件夹。")],-1))])])]),e[9]||(e[9]=s('<div class="tip custom-block"><p class="custom-block-title">TIP</p><p>如果您想探查每个支持平台库的定义文件：在编译器发行版文件夹中，导航到 <code>konan/platformDef</code> 目录并选择必要的目标平台。</p></div><h2 id="下一步" tabindex="-1">下一步 <a class="header-anchor" href="#下一步" aria-label="Permalink to &quot;下一步&quot;">​</a></h2><p><a href="/kotlin/native-objc-interop">了解更多关于与 Swift/Objective-C 的互操作</a></p>',3))])}const x=p(u,[["render",m]]);export{_ as __pageData,x as default};
