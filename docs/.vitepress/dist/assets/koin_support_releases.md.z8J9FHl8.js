import{_ as e,c as s,o as a,ag as o}from"./chunks/framework.Bksy39di.js";const r=JSON.parse('{"title":"ç‰ˆæœ¬å‘å¸ƒä¸ API å‡çº§æŒ‡å—","description":"","frontmatter":{"title":"ç‰ˆæœ¬å‘å¸ƒä¸ API å‡çº§æŒ‡å—","custom_edit_url":null},"headers":[],"relativePath":"koin/support/releases.md","filePath":"koin/support/releases.md","lastUpdated":1750001831000}'),l={name:"koin/support/releases.md"};function n(d,i,t,p,c,k){return a(),s("div",null,i[0]||(i[0]=[o(`<h1 id="ç‰ˆæœ¬å‘å¸ƒä¸-api-å‡çº§æŒ‡å—" tabindex="-1">ç‰ˆæœ¬å‘å¸ƒä¸ API å‡çº§æŒ‡å— <a class="header-anchor" href="#ç‰ˆæœ¬å‘å¸ƒä¸-api-å‡çº§æŒ‡å—" aria-label="Permalink to &quot;ç‰ˆæœ¬å‘å¸ƒä¸ API å‡çº§æŒ‡å—&quot;">â€‹</a></h1><div class="info custom-block"><p class="custom-block-title">INFO</p><p>æœ¬é¡µé¢å…¨é¢æ¦‚è¿°äº† Koin çš„æ¯æ¬¡ä¸»è¦ç‰ˆæœ¬å‘å¸ƒï¼Œè¯¦ç»†é˜è¿°äº†æˆ‘ä»¬æ¡†æ¶çš„æ¼”è¿›ï¼Œä»¥å¸®åŠ©æ‚¨è§„åˆ’å‡çº§å¹¶ä¿æŒå…¼å®¹æ€§ã€‚</p></div><p>å¯¹äºæ¯ä¸ªç‰ˆæœ¬ï¼Œæ–‡æ¡£ç»“æ„å¦‚ä¸‹ï¼š</p><ul><li><code>Kotlin</code>: æŒ‡å®šè¯¥ç‰ˆæœ¬ä½¿ç”¨çš„ Kotlin ç‰ˆæœ¬ï¼Œç¡®ä¿è¯­è¨€å…¼å®¹æ€§æ¸…æ™°ï¼Œå¹¶ä½¿æ‚¨èƒ½å¤Ÿåˆ©ç”¨æœ€æ–°çš„ Kotlin ç‰¹æ€§ã€‚</li><li><code>New</code>: çªå‡ºæ–°å¼•å…¥çš„åŠŸèƒ½å’Œæ”¹è¿›ï¼Œè¿™äº›æ”¹è¿›å¢å¼ºäº†åŠŸèƒ½æ€§å¹¶æå‡äº†å¼€å‘è€…ä½“éªŒã€‚</li><li><code>Experimental</code>: åˆ—å‡ºæ ‡è®°ä¸ºå®éªŒæ€§çš„ API å’ŒåŠŸèƒ½ã€‚è¿™äº›åŠŸèƒ½æ­£åœ¨ç§¯æå¼€å‘ä¸­ï¼Œå¹¶å¯èƒ½æ ¹æ®ç¤¾åŒºåé¦ˆè¿›è¡Œæ›´æ”¹ã€‚</li><li><code>Deprecated</code>: è¯†åˆ«å·²æ ‡è®°ä¸ºåºŸå¼ƒçš„ API å’ŒåŠŸèƒ½ï¼Œå¹¶æä¾›å…³äºæ¨èæ›¿ä»£æ–¹æ¡ˆçš„æŒ‡å¯¼ï¼Œå¸®åŠ©æ‚¨ä¸ºæœªæ¥çš„ç§»é™¤åšå‡†å¤‡ã€‚</li><li><code>Breaking</code>: è¯¦ç»†è¯´æ˜ä»»ä½•å¯èƒ½ç ´åå‘åå…¼å®¹æ€§çš„æ›´æ”¹ï¼Œç¡®ä¿æ‚¨åœ¨è¿ç§»è¿‡ç¨‹ä¸­äº†è§£å¿…è¦çš„è°ƒæ•´ã€‚</li></ul><p>è¿™ç§ç»“æ„åŒ–æ–¹æ³•ä¸ä»…é˜æ˜äº†æ¯ä¸ªç‰ˆæœ¬ä¸­çš„å¢é‡å˜åŒ–ï¼Œä¹Ÿå¼ºåŒ–äº†æˆ‘ä»¬åœ¨ Koin é¡¹ç›®ä¸­å¯¹é€æ˜åº¦ã€ç¨³å®šæ€§ä¸æŒç»­æ”¹è¿›çš„æ‰¿è¯ºã€‚</p><p>æ›´å¤šè¯¦æƒ…è¯·å‚é˜… <a href="/koinapi-stability">API ç¨³å®šæ€§å¥‘çº¦</a>ã€‚</p><h2 id="_4-1-1" tabindex="-1">4.1.1 <a class="header-anchor" href="#_4-1-1" aria-label="Permalink to &quot;4.1.1&quot;">â€‹</a></h2><h3 id="æ–°å¢-ğŸ‰" tabindex="-1">æ–°å¢ ğŸ‰ <a class="header-anchor" href="#æ–°å¢-ğŸ‰" aria-label="Permalink to &quot;æ–°å¢ ğŸ‰&quot;">â€‹</a></h3><p><code>koin-ktor</code></p><ul><li>é›†æˆ - æä¾› <code>KtorDIExtension</code> ä»¥é›†æˆ Ktor 3.2 é»˜è®¤ DI å¼•æ“</li></ul><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Application</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setupDatabase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DbConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    dependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        provide</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Database</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; { database }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CustomerRepositoryImpl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> database: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Database</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CustomerRepository</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Application</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">customerDataModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    koinModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        singleOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CustomerRepositoryImpl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) bind CustomerRepository::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">class</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="_4-1-0" tabindex="-1">4.1.0 <a class="header-anchor" href="#_4-1-0" aria-label="Permalink to &quot;4.1.0&quot;">â€‹</a></h2><div class="note custom-block"><p class="custom-block-title">NOTE</p><p>ä½¿ç”¨ Kotlin <code>2.1.20</code></p></div><h3 id="æ–°å¢-ğŸ‰-1" tabindex="-1">æ–°å¢ ğŸ‰ <a class="header-anchor" href="#æ–°å¢-ğŸ‰-1" aria-label="Permalink to &quot;æ–°å¢ ğŸ‰&quot;">â€‹</a></h3><p><code>koin-core</code></p><ul><li>é…ç½® - <code>KoinConfiguration</code> API æ—¨åœ¨å¸®åŠ©å°è£…é…ç½®</li><li>ä½œç”¨åŸŸ - å¼•å…¥äº†ä¸€ç§æ–°çš„<strong>ä½œç”¨åŸŸåŸå‹ (Scope Archetype)</strong>ï¼Œç”¨äºé’ˆå¯¹ä½œç”¨åŸŸç±»åˆ«çš„ä¸“ç”¨ä½œç”¨åŸŸç±»å‹é™å®šç¬¦ã€‚å®ä¾‹è§£æç°åœ¨å¯ä»¥é’ˆå¯¹ä½œç”¨åŸŸç±»åˆ«ï¼ˆå³åŸå‹ï¼‰è¿›è¡Œã€‚</li><li>ç‰¹æ€§é€‰é¡¹ - â€œç‰¹æ€§é€‰é¡¹ (Feature Option)â€æ—¨åœ¨å¸®åŠ©åœ¨ Koin å†…éƒ¨è¿›è¡Œç‰¹æ€§æ ‡è®°æ–°ç‰¹æ€§è¡Œä¸ºã€‚æ‚¨å¯ä»¥é€šè¿‡ Koin é…ç½®ä¸­çš„ <code>options</code> å—æ¿€æ´»ä¸€ä¸ªé€‰é¡¹ï¼š</li></ul><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startKoin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // activate a new feature</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        viewModelScopeFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>æ ¸å¿ƒ - å¼•å…¥æ–°çš„ <code>CoreResolver</code>ï¼Œå®ƒå…è®¸ <code>ResolutionExtension</code> å¸®åŠ© Koin åœ¨å¤–éƒ¨ç³»ç»Ÿæˆ–èµ„æºä¸­è§£æï¼ˆå®ƒç”¨äºå¸®åŠ©è¿æ¥ Ktor DIï¼‰</li></ul><p><code>koin-android</code></p><ul><li>å‡çº§åçš„åº“ï¼ˆ<code>androidx.appcompat:appcompat:1.7.0</code>ã€<code>androidx.activity:activity-ktx:1.10.1</code>ï¼‰è¦æ±‚å°†æœ€ä½ SDK çº§åˆ«ä» 14 æé«˜åˆ° 21</li><li>DSL - æ·»åŠ äº†æ–°çš„ Koin æ¨¡å— DSL æ‰©å±• <code>activityScope</code>ã€<code>activityRetainedScope</code> å’Œ <code>fragmentScope</code>ï¼Œä»¥åœ¨ Activity/Fragment ä¸­å£°æ˜ä½œç”¨åŸŸ</li><li>ä½œç”¨åŸŸå‡½æ•° - <code>activityScope()</code>ã€<code>activityRetainedScope()</code> å’Œ <code>fragmentScope()</code> API å‡½æ•°ç°åœ¨ä¹Ÿè§¦å‘ä½œç”¨åŸŸåŸå‹</li></ul><p><code>koin-androidx-compose</code></p><ul><li>ä¸ Koin Compose å¤šå¹³å°ä»¥åŠæ‰€æœ‰ Compose 1.8 &amp; Lifecycle 2.9 å¯¹é½</li></ul><p><code>koin-compose</code></p><ul><li>ä¸ Compose 1.8 &amp; Lifecycle 2.9 å¯¹é½</li><li>æ–°å¢å‡½æ•° - <code>KoinApplicationPreview</code> å¸®åŠ©åœ¨ Android Studio å’Œ IntelliJ ä¸­æ¸²æŸ“å¹¶è¡Œé¢„è§ˆ</li></ul><p><code>koin-compose-viewmodel</code></p><ul><li>æ·»åŠ äº† <code>koinActivityViewModel</code>ï¼Œå…è®¸å°†çˆ¶ Activity è®¾ç½®ä¸ºä¸»æœº</li></ul><p><code>koin-ktor</code></p><ul><li>å¤šå¹³å° - è¯¥æ¨¡å—ç°åœ¨ä»¥ Kotlin KMP æ ¼å¼ç¼–è¯‘ã€‚æ‚¨å¯ä»¥ä»å¤šå¹³å°é¡¹ç›®ä¸­ä½¿ç”¨ <code>koin-ktor</code>ã€‚</li><li>åˆå¹¶ - å…ˆå‰çš„ <code>koin-ktor3</code> æ¨¡å—å·²åˆå¹¶åˆ° <code>koin-ktor</code> ä¸­ã€‚</li><li>æ‰©å±• - å¼•å…¥äº† <code>Application.koinModule { }</code> å’Œ <code>Application.koinModules()</code>ï¼Œå…è®¸æ‚¨ç›´æ¥å°† Koin æ¨¡å—å£°æ˜åˆ° Ktor æ¨¡å—ä¸­</li></ul><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Application</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">customerDataModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    koinModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        singleOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CustomerRepositoryImpl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) bind CustomerRepository::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">class</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>ä½œç”¨åŸŸ - <code>Module.requestScope</code> - å…è®¸åœ¨ Ktor è¯·æ±‚ä½œç”¨åŸŸå†…å£°æ˜å®šä¹‰ï¼ˆé¿å…æ‰‹åŠ¨å£°æ˜ <code>scope&lt;RequestScope&gt;</code>ï¼‰ æ³¨å…¥çš„ä½œç”¨åŸŸä¹Ÿå…è®¸åœ¨æ„é€ å‡½æ•°ä¸­æ³¨å…¥ <code>ApplicationCall</code>ã€‚</li></ul><p><code>koin-core-coroutines</code></p><ul><li>æ¨¡å— DSL - å¼•å…¥æ–°çš„ <code>ModuleConfiguration</code>ï¼Œä»¥å¸®åŠ©å°†æ¨¡å—é…ç½®é›†ä¸­åˆ°ä¸€ä¸ªç»“æ„ä¸­ï¼Œä¾¿äºåç»­æ›´å¥½åœ°éªŒè¯ã€‚</li></ul><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    single</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Simple.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ComponentA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lm1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lazyModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    single</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Simple.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ComponentB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conf </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> moduleConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    modules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m1)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    lazyModules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lm1)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>é…ç½® DSL - Koin é…ç½®ç°åœ¨å¯ä»¥ä½¿ç”¨ <code>ModuleConfiguration</code> æ¥åŠ è½½æ¨¡å—ï¼š</li></ul><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startKoin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    moduleConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        modules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m1)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        lazyModules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lm1)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// or even</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conf </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> moduleConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    modules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m1)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    lazyModules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lm1)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startKoin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    moduleConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conf)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><code>koin-test-coroutines</code></p><ul><li>æ–°å¢ <code>koin-test-coroutines</code> Koin æ¨¡å—ï¼Œä»¥å¼•å…¥ä¸åç¨‹ç›¸å…³çš„æ–°æµ‹è¯• APIã€‚</li><li>æ‰©å±• - æ‰©å±• Verify APIï¼Œè®©æ‚¨å¯ä»¥ä½¿ç”¨ <code>moduleConfiguration</code> æ£€æŸ¥ Koin é…ç½®ï¼Œç„¶åéªŒè¯æ¨¡å—/æƒ°æ€§æ¨¡å— (Lazy Modules) çš„æ··åˆé…ç½®ï¼š</li></ul><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conf </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> moduleConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    modules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m1)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    lazyModules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lm1)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">conf.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">verify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// if you want Android types (koin-android-test)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">conf.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">verify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(extraTypes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> androidTypes)</span></span></code></pre></div><p><code>koin-core-annotations</code></p><ul><li>æ³¨è§£ - <code>@InjectedParam</code> æˆ– <code>@Provided</code> ç”¨äºæ ‡è®°ä¸€ä¸ªå±æ€§ï¼Œä½¿å…¶è¢«è§†ä¸ºæ³¨å…¥å‚æ•°æˆ–åŠ¨æ€æä¾›ã€‚ç›®å‰ç”¨äº <code>Verify</code> APIï¼Œä½†æœªæ¥å¯èƒ½ç”¨äºæ›´è½»é‡çº§çš„ DSL å£°æ˜ã€‚</li></ul><h3 id="å®éªŒæ€§-ğŸš§" tabindex="-1">å®éªŒæ€§ ğŸš§ <a class="header-anchor" href="#å®éªŒæ€§-ğŸš§" aria-label="Permalink to &quot;å®éªŒæ€§ ğŸš§&quot;">â€‹</a></h3><p><code>koin-core</code></p><ul><li>Wasm - ä½¿ç”¨ Kotlin 2.1.20 UUID ç”Ÿæˆ</li></ul><p><code>koin-core-viewmodel</code></p><ul><li>DSL - æ·»åŠ äº†æ¨¡å— DSL æ‰©å±• <code>viewModelScope</code>ï¼Œä»¥å£°æ˜ä½œç”¨åŸŸä¸º ViewModel ä½œç”¨åŸŸåŸå‹ (ViewModel scope archetype) çš„ç»„ä»¶ã€‚</li><li>ä½œç”¨åŸŸå‡½æ•° - æ·»åŠ äº†å‡½æ•° <code>viewModelScope()</code>ï¼Œä¸º ViewModel åˆ›å»ºä½œç”¨åŸŸï¼ˆç»‘å®šåˆ° ViewModel ç±»ï¼‰ã€‚æ­¤ API ç°åœ¨ä½¿ç”¨ <code>ViewModelScopeAutoCloseable</code> æ¥åˆ©ç”¨ <code>AutoCloseable</code> API å¸®åŠ©å£°æ˜å’Œå…³é—­ä½œç”¨åŸŸã€‚ä¸å†éœ€è¦æ‰‹åŠ¨å…³é—­ ViewModel ä½œç”¨åŸŸ</li><li>ç±» - æ›´æ–°äº† <code>ScopeViewModel</code> ç±»ï¼Œä»¥æ”¯æŒå³ç”¨å‹ ViewModel ä½œç”¨åŸŸç±»ï¼ˆå¤„ç†ä½œç”¨åŸŸåˆ›å»ºå’Œå…³é—­ï¼‰</li><li>ç‰¹æ€§é€‰é¡¹ - ä½¿ç”¨ ViewModel ä½œç”¨åŸŸçš„æ„é€ å‡½æ•° ViewModel æ³¨å…¥ï¼Œéœ€è¦æ¿€æ´» Koin é€‰é¡¹ <code>viewModelScopeFactory</code>ï¼š</li></ul><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startKoin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // activate a new ViewModel scope creation</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        viewModelScopeFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// will inject Session from MyScopeViewModel&#39;s scope</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyScopeViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> session: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Session</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    viewModelOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MyScopeViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    viewModelScope</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        scopedOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Session</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><code>koin-compose</code></p><ul><li>Compose å‡½æ•° - æ·»åŠ äº†æ–°çš„ <code>KoinMultiplatformApplication</code> å‡½æ•°ï¼Œå°è¯•æå‡ºä¸€ä¸ªå¤šå¹³å° Compose å…¥å£ç‚¹</li></ul><p><code>koin-core-viewmodel-navigation</code></p><ul><li>å¯¼èˆªæ‰©å±• - æ·»åŠ äº† <code>sharedViewModel</code>ï¼Œä»¥ä»å¯¼èˆªçš„ <code>NavbackEntry</code> é‡ç”¨ ViewModel å®ä¾‹</li></ul><p><code>koin-test</code></p><ul><li>æ³¨è§£ - Koin é…ç½®éªŒè¯ API <code>Verify</code> ç°åœ¨å¸®åŠ©æ‚¨æ£€æŸ¥å¯ç©ºã€æƒ°æ€§ (lazy) å’Œåˆ—è¡¨å‚æ•°ã€‚åªéœ€ä½¿ç”¨ <code>@InjectedParam</code> æˆ– <code>@Provided</code> æ ‡è®°ä¸€ä¸ªå±æ€§ï¼Œä½¿å…¶è¢«è§†ä¸ºæ³¨å…¥å‚æ•°æˆ–åŠ¨æ€æä¾›ã€‚è¿™é¿å…äº† Verify API ä¸­çš„å¤æ‚å£°æ˜ã€‚</li></ul><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// now detected in Verify</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ComponentB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ComponentA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">? </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ComponentBParam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@InjectedParam</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ComponentA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ComponentBProvided</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@Provided</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ComponentA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="åºŸå¼ƒ-âš ï¸" tabindex="-1">åºŸå¼ƒ âš ï¸ <a class="header-anchor" href="#åºŸå¼ƒ-âš ï¸" aria-label="Permalink to &quot;åºŸå¼ƒ âš ï¸&quot;">â€‹</a></h3><p><code>koin-android</code></p><ul><li><code>ScopeViewModel</code> ç°å·²åºŸå¼ƒï¼Œè¯·æ”¹ç”¨ <code>koin-core-viewmodel</code> ä¸­çš„ <code>ScopeViewModel</code> ç±»ã€‚</li></ul><p><code>koin-compose</code></p><ul><li>Compose ä¸Šä¸‹æ–‡ API ä¸å†éœ€è¦ï¼Œå› ä¸º Koin ä¸Šä¸‹æ–‡å·²åœ¨å½“å‰é»˜è®¤ä¸Šä¸‹æ–‡ä¸­æ­£ç¡®å‡†å¤‡ã€‚ä»¥ä¸‹ API å·²åºŸå¼ƒï¼Œå¯ä»¥ç§»é™¤ï¼š<code>KoinContext</code></li></ul><p><code>koin-androidx-compose</code></p><ul><li>Jetpack Compose ä¸Šä¸‹æ–‡ API ä¸å†éœ€è¦ï¼Œå› ä¸º Koin ä¸Šä¸‹æ–‡å·²åœ¨å½“å‰é»˜è®¤ä¸Šä¸‹æ–‡ä¸­æ­£ç¡®å‡†å¤‡ã€‚ä»¥ä¸‹ API å·²åºŸå¼ƒï¼Œå¯ä»¥ç§»é™¤ï¼š<code>KoinAndroidContext</code></li></ul><p><code>koin-androidx-compose-navigation</code></p><ul><li>ç”±äºç”Ÿå‘½å‘¨æœŸåº“æ›´æ–°ï¼Œå‡½æ•° <code>koinNavViewModel</code> ä¸å†éœ€è¦ï¼Œå¯æ›¿æ¢ä¸º <code>koinViewModel</code></li></ul><p><code>koin-core-viewmodel-navigation</code></p><ul><li>ç”±äºç”Ÿå‘½å‘¨æœŸåº“æ›´æ–°ï¼Œå‡½æ•° <code>koinNavViewModel</code> ä¸å†éœ€è¦ï¼Œå¯æ›¿æ¢ä¸º <code>koinViewModel</code></li></ul><p><code>koin-ktor</code></p><ul><li>æ‰©å±• - <code>Application.koin</code> ç°å·²åºŸå¼ƒï¼Œè¯·æ”¹ç”¨ <code>Application.koinModules</code> å’Œ <code>Application.koinModule</code></li></ul><h3 id="ç ´åæ€§å˜æ›´-ğŸ’¥" tabindex="-1">ç ´åæ€§å˜æ›´ ğŸ’¥ <a class="header-anchor" href="#ç ´åæ€§å˜æ›´-ğŸ’¥" aria-label="Permalink to &quot;ç ´åæ€§å˜æ›´ ğŸ’¥&quot;">â€‹</a></h3><p><code>koin-android</code></p><ul><li>æ‰€æœ‰æ—§çš„çŠ¶æ€ ViewModel API ç°å·²ç§»é™¤ï¼š <ul><li><code>stateViewModel()</code>ã€<code>getStateViewModel()</code>ï¼Œè¯·æ”¹ç”¨ <code>viewModel()</code></li><li><code>getSharedStateViewModel()</code>ã€<code>sharedStateViewModel()</code>ï¼Œè¯·æ”¹ç”¨ <code>viewModel()</code> æˆ– <code>activityViewModel()</code> è·å–å…±äº«å®ä¾‹</li></ul></li></ul><p><code>koin-compose</code></p><ul><li>æ—§çš„ Compose API å‡½æ•°å·²ç§»é™¤ï¼š <ul><li>å‡½æ•° <code>inject()</code> å·²è¢«ç§»é™¤ï¼Œå€¾å‘äº <code>koinInject()</code></li><li>å‡½æ•° <code>getViewModel()</code> å·²è¢«ç§»é™¤ï¼Œå€¾å‘äº <code>koinViewModel()</code></li><li>å‡½æ•° <code>rememberKoinInject()</code> å·²ç§»è‡³ <code>koinInject()</code></li></ul></li><li>å‡½æ•° <code>rememberKoinApplication</code> å·²è¢«æ ‡è®°ä¸º <code>@KoinInternalAPI</code></li></ul><h2 id="_4-0-4" tabindex="-1">4.0.4 <a class="header-anchor" href="#_4-0-4" aria-label="Permalink to &quot;4.0.4&quot;">â€‹</a></h2><div class="note custom-block"><p class="custom-block-title">NOTE</p><p>ä½¿ç”¨ Kotlin <code>2.0.21</code></p></div><p>æ‰€æœ‰ä½¿ç”¨çš„åº“ç‰ˆæœ¬éƒ½ä½äº <a href="https://github.com/InsertKoinIO/koin/blob/main/projects/gradle/libs.versions.toml" target="_blank" rel="noreferrer">libs.versions.toml</a> ä¸­ã€‚</p><h3 id="æ–°å¢-ğŸ‰-2" tabindex="-1">æ–°å¢ ğŸ‰ <a class="header-anchor" href="#æ–°å¢-ğŸ‰-2" aria-label="Permalink to &quot;æ–°å¢ ğŸ‰&quot;">â€‹</a></h3><p><code>koin-core</code></p><ul><li><code>KoinPlatformTools.generateId()</code> - å€ŸåŠ©æ­¤æ–°ç‰ˆæœ¬çš„ Kotlinï¼Œæˆ‘ä»¬å—ç›Šäºæ–°çš„ <code>kotlin.uuid.uuid</code> APIã€‚<code>KoinPlatformTools.generateId()</code> Koin å‡½æ•°ç°åœ¨ä½¿ç”¨æ­¤æ–° API åœ¨è·¨å¹³å°ä¸Šç”ŸæˆçœŸå®çš„ UUIDã€‚</li></ul><p><code>koin-viewmodel</code></p><ul><li>Koin 4.0 å¼•å…¥äº†æ–°çš„ ViewModel DSL å’Œ APIï¼Œè¿™äº› API ç»Ÿä¸€äº† Google/Jetbrains KMP APIã€‚ä¸ºäº†é¿å…ä»£ç åº“ä¸­çš„é‡å¤ï¼ŒViewModel API ç°åœ¨ä½äº <code>koin-core-viewmodel</code> å’Œ <code>koin-core-viewmodel-navigation</code> é¡¹ç›®ä¸­ã€‚</li><li>ViewModel DSL çš„å¯¼å…¥æ˜¯ <code>org.koin.core.module.dsl.*</code></li></ul><p>ä»¥ä¸‹ç»™å®šé¡¹ç›®ä¸­çš„ API ç°å·²ç¨³å®šã€‚</p><p><code>koin-core-coroutines</code> - æ‰€æœ‰ API ç°å·²ç¨³å®š</p><ul><li>æ‰€æœ‰ <code>lazyModules</code></li><li><code>awaitAllStartJobs</code>ã€<code>onKoinStarted</code>ã€<code>isAllStartedJobsDone</code></li><li><code>waitAllStartJobs</code>ã€<code>runOnKoinStarted</code></li><li><code>KoinApplication.coroutinesEngine</code></li><li><code>Module.includes(lazy)</code></li><li><code>lazyModule()</code></li><li><code>KoinPlatformCoroutinesTools</code></li></ul><h3 id="å®éªŒæ€§-ğŸš§-1" tabindex="-1">å®éªŒæ€§ ğŸš§ <a class="header-anchor" href="#å®éªŒæ€§-ğŸš§-1" aria-label="Permalink to &quot;å®éªŒæ€§ ğŸš§&quot;">â€‹</a></h3><p><code>koin-test</code></p><ul><li><code>ParameterTypeInjection</code> - æ–° APIï¼Œç”¨äºå¸®åŠ©è®¾è®¡ <code>Verify</code> API çš„åŠ¨æ€å‚æ•°æ³¨å…¥</li></ul><p><code>koin-androidx-startup</code></p><ul><li><code>koin-androidx-startup</code> - ä½¿ç”¨ <code>AndroidX Startup</code>ï¼ˆé€šè¿‡ <code>androidx.startup.Initializer</code> APIï¼‰å¯åŠ¨ Koin çš„æ–°èƒ½åŠ›ã€‚<code>koin-androidx-startup</code> ä¸­çš„æ‰€æœ‰ API éƒ½æ˜¯å®éªŒæ€§çš„ã€‚</li></ul><p><code>koin-compose</code></p><ul><li><code>rememberKoinModules</code> - æ ¹æ® <code>@Composable</code> ç»„ä»¶åŠ è½½/å¸è½½ Koin æ¨¡å—</li><li><code>rememberKoinScope</code> - æ ¹æ® <code>@Composable</code> ç»„ä»¶åŠ è½½/å¸è½½ Koin Scope</li><li><code>KoinScope</code> - ä¸ºæ‰€æœ‰åº•å±‚ Composable å­ç»„ä»¶åŠ è½½ Koin ä½œç”¨åŸŸ</li></ul><h3 id="åºŸå¼ƒ-âš ï¸-1" tabindex="-1">åºŸå¼ƒ âš ï¸ <a class="header-anchor" href="#åºŸå¼ƒ-âš ï¸-1" aria-label="Permalink to &quot;åºŸå¼ƒ âš ï¸&quot;">â€‹</a></h3><p>ä»¥ä¸‹ API å·²è¢«åºŸå¼ƒï¼Œä¸åº”å†ä½¿ç”¨ï¼š</p><ul><li><p><code>koin-test</code></p><ul><li>æ‰€æœ‰ <code>checkModules</code> çš„ APIã€‚è¯·è¿ç§»åˆ° <code>Verify</code> APIã€‚</li></ul></li><li><p><code>koin-android</code></p><ul><li>ViewModel DSLï¼Œå€¾å‘äº <code>koin-core</code> ä¸­æ–°çš„é›†ä¸­å¼ DSL</li><li>æ‰€æœ‰çŠ¶æ€ ViewModel API åœ¨é”™è¯¯çº§åˆ«ä¸Šå·²åºŸå¼ƒï¼š <ul><li><code>stateViewModel()</code>ã€<code>getStateViewModel()</code>ï¼Œè¯·æ”¹ç”¨ <code>viewModel()</code></li><li><code>getSharedStateViewModel()</code>ã€<code>sharedStateViewModel()</code>ï¼Œè¯·æ”¹ç”¨ <code>viewModel()</code> æˆ– <code>activityViewModel()</code> è·å–å…±äº«å®ä¾‹</li></ul></li></ul></li></ul><p><code>koin-compose</code></p><ul><li><p>æ—§çš„ Compose API å‡½æ•°åœ¨é”™è¯¯çº§åˆ«ä¸Šå·²åºŸå¼ƒï¼š</p><ul><li>å‡½æ•° <code>inject()</code> å·²åºŸå¼ƒï¼ˆé”™è¯¯çº§åˆ«ï¼‰ï¼Œå€¾å‘äº <code>koinInject()</code></li><li>å‡½æ•° <code>getViewModel()</code> å·²åºŸå¼ƒï¼ˆé”™è¯¯çº§åˆ«ï¼‰ï¼Œå€¾å‘äº <code>koinViewModel()</code></li><li>å‡½æ•° <code>rememberKoinInject()</code> å·²åºŸå¼ƒï¼ˆé”™è¯¯çº§åˆ«ï¼‰ï¼Œå€¾å‘äº <code>koinInject()</code></li></ul></li><li><p><code>koin-compose-viewmodel</code></p><ul><li>ViewModel DSLï¼Œå€¾å‘äº <code>koin-core</code> ä¸­æ–°çš„é›†ä¸­å¼ DSL</li><li>å‡½æ•° <code>koinNavViewModel</code> ç°å·²åºŸå¼ƒï¼Œå€¾å‘äº <code>koinViewModel</code></li></ul></li></ul><h3 id="ç ´åæ€§å˜æ›´-ğŸ’¥-1" tabindex="-1">ç ´åæ€§å˜æ›´ ğŸ’¥ <a class="header-anchor" href="#ç ´åæ€§å˜æ›´-ğŸ’¥-1" aria-label="Permalink to &quot;ç ´åæ€§å˜æ›´ ğŸ’¥&quot;">â€‹</a></h3><p>ä»¥ä¸‹ API å› ä¸Šä¸€ä¸ªé‡Œç¨‹ç¢‘ä¸­çš„åºŸå¼ƒå·²è¢«ç§»é™¤ï¼š</p><div class="note custom-block"><p class="custom-block-title">NOTE</p><p>æ‰€æœ‰ä½¿ç”¨ <code>@KoinReflectAPI</code> æ³¨è§£çš„ API éƒ½å·²è¢«ç§»é™¤</p></div><p><code>koin-core</code></p><ul><li><code>ApplicationAlreadyStartedException</code> å·²é‡å‘½åä¸º <code>KoinApplicationAlreadyStartedException</code></li><li><code>KoinScopeComponent.closeScope()</code> å·²ç§»é™¤ï¼Œå› ä¸ºå®ƒåœ¨å†…éƒ¨ä¸å†ä½¿ç”¨</li><li>å†…éƒ¨ <code>ResolutionContext</code> å·²ç§»è‡³æ›¿æ¢ <code>InstanceContext</code></li><li><code>KoinPlatformTimeTools</code>ã€<code>Timer</code>ã€<code>measureDuration</code> å·²ç§»é™¤ï¼Œè½¬è€Œä½¿ç”¨ Kotlin Time API</li><li><code>KoinContextHandler</code> å·²ç§»é™¤ï¼Œå€¾å‘äº <code>GlobalContext</code></li></ul><p><code>koin-android</code></p><ul><li>å‡½æ•° <code>fun Fragment.createScope()</code> å·²ç§»é™¤</li><li>æ‰€æœ‰å›´ç»• ViewModel å·¥å‚çš„ APIï¼ˆä¸»è¦æ˜¯å†…éƒ¨ï¼‰éƒ½ä¸ºæ–°çš„å†…éƒ¨æœºåˆ¶è¿›è¡Œäº†é‡æ„</li></ul><p><code>koin-compose</code></p><ul><li>ç§»é™¤ <code>StableParametersDefinition</code>ï¼Œå› ä¸ºå®ƒåœ¨å†…éƒ¨ä¸å†ä½¿ç”¨</li><li>ç§»é™¤æ‰€æœ‰ Lazy ViewModel API - æ—§çš„ <code>viewModel()</code></li><li>ç§»é™¤ <code>rememberStableParametersDefinition()</code>ï¼Œå› ä¸ºå®ƒåœ¨å†…éƒ¨ä¸å†ä½¿ç”¨</li></ul><h2 id="_3-5-6" tabindex="-1">3.5.6 <a class="header-anchor" href="#_3-5-6" aria-label="Permalink to &quot;3.5.6&quot;">â€‹</a></h2><div class="note custom-block"><p class="custom-block-title">NOTE</p><p>ä½¿ç”¨ Kotlin <code>1.9.22</code></p></div><p>æ‰€æœ‰ä½¿ç”¨çš„åº“ç‰ˆæœ¬éƒ½ä½äº <a href="https://github.com/InsertKoinIO/koin/blob/3.5.6/projects/gradle/libs.versions.toml" target="_blank" rel="noreferrer">libs.versions.toml</a> ä¸­ã€‚</p><h3 id="æ–°å¢-ğŸ‰-3" tabindex="-1">æ–°å¢ ğŸ‰ <a class="header-anchor" href="#æ–°å¢-ğŸ‰-3" aria-label="Permalink to &quot;æ–°å¢ ğŸ‰&quot;">â€‹</a></h3><p><code>koin-core</code></p><ul><li><code>KoinContext</code> ç°åœ¨åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š <ul><li><code>fun loadKoinModules(module: Module, createEagerInstances: Boolean = false)</code></li><li><code>fun loadKoinModules(modules: List&lt;Module&gt;, createEagerInstances: Boolean = false)</code></li></ul></li><li><code>koinApplication()</code> å‡½æ•°ç°åœ¨æ”¯æŒå¤šç§æ ¼å¼ï¼š <ul><li><code>koinApplication(createEagerInstances: Boolean = true, appDeclaration: KoinAppDeclaration? = null)</code></li><li><code>koinApplication(appDeclaration: KoinAppDeclaration?)</code></li><li><code>koinApplication(createEagerInstances: Boolean)</code></li></ul></li><li><code>KoinAppDeclaration</code> ç”¨äºå¸®åŠ©å¼€æ”¾å£°æ˜æ ·å¼</li><li><code>KoinPlatformTimeTools</code> ç”¨äº JS çš„ API Time</li><li>iOS - <code>synchronized</code> API ç”¨äº Touchlab Lockable API</li></ul><p><code>koin-androidx-compose</code></p><ul><li>æ–°çš„ <code>KoinAndroidContext</code>ï¼Œç”¨äºä» Android ç¯å¢ƒç»‘å®šåˆ°å½“å‰çš„ Koin ä¸Šä¸‹æ–‡</li></ul><p><code>koin-compose</code></p><ul><li>æ–°çš„ <code>KoinContext</code> ä¸Šä¸‹æ–‡å¯åŠ¨å™¨ï¼Œå¸¦å½“å‰çš„é»˜è®¤ä¸Šä¸‹æ–‡</li></ul><p><code>koin-ktor</code></p><ul><li>ç°åœ¨ä¸º Ktor å®ä¾‹ä½¿ç”¨éš”ç¦»çš„ä¸Šä¸‹æ–‡ï¼ˆä½¿ç”¨ <code>Application.getKoin()</code> è€Œéé»˜è®¤ä¸Šä¸‹æ–‡ï¼‰</li><li>Koin æ’ä»¶å¼•å…¥äº†æ–°çš„ç›‘æ§åŠŸèƒ½</li><li><code>RequestScope</code> å…è®¸ Ktor è¯·æ±‚çš„ä½œç”¨åŸŸå®ä¾‹</li></ul><h3 id="å®éªŒæ€§-ğŸš§-2" tabindex="-1">å®éªŒæ€§ ğŸš§ <a class="header-anchor" href="#å®éªŒæ€§-ğŸš§-2" aria-label="Permalink to &quot;å®éªŒæ€§ ğŸš§&quot;">â€‹</a></h3><p><code>koin-android</code></p><ul><li><code>ViewModelScope</code> å¼•å…¥äº† ViewModel ä½œç”¨åŸŸçš„å®éªŒæ€§ API</li></ul><p><code>koin-core-coroutines</code> - å¼•å…¥æ–° API ä»¥åœ¨åå°åŠ è½½æ¨¡å—</p><h3 id="åºŸå¼ƒ-âš ï¸-2" tabindex="-1">åºŸå¼ƒ âš ï¸ <a class="header-anchor" href="#åºŸå¼ƒ-âš ï¸-2" aria-label="Permalink to &quot;åºŸå¼ƒ âš ï¸&quot;">â€‹</a></h3><p><code>koin-android</code></p><ul><li><code>getLazyViewModelForClass()</code> API éå¸¸å¤æ‚ï¼Œå¹¶ä¼šè°ƒç”¨é»˜è®¤çš„å…¨å±€ä¸Šä¸‹æ–‡ã€‚å»ºè®®åšæŒä½¿ç”¨ Android/Fragment API</li><li><code>resolveViewModelCompat()</code> å·²åºŸå¼ƒï¼Œå€¾å‘äº <code>resolveViewModel()</code></li></ul><p><code>koin-compose</code></p><ul><li>å‡½æ•° <code>get()</code> å’Œ <code>inject()</code> å·²åºŸå¼ƒï¼Œå€¾å‘äº <code>koinInject()</code></li><li>å‡½æ•° <code>getViewModel()</code> å·²åºŸå¼ƒï¼Œå€¾å‘äº <code>koinViewModel()</code></li><li>å‡½æ•° <code>rememberKoinInject()</code> å·²åºŸå¼ƒï¼Œå€¾å‘äº <code>koinInject()</code></li></ul><h3 id="ç ´åæ€§å˜æ›´-ğŸ’¥-2" tabindex="-1">ç ´åæ€§å˜æ›´ ğŸ’¥ <a class="header-anchor" href="#ç ´åæ€§å˜æ›´-ğŸ’¥-2" aria-label="Permalink to &quot;ç ´åæ€§å˜æ›´ ğŸ’¥&quot;">â€‹</a></h3><p><code>koin-core</code></p><ul><li><code>Koin.loadModules(modules: List&lt;Module&gt;, allowOverride: Boolean = true, createEagerInstances : Boolean = false)</code> æ›¿æ¢äº† <code>Koin.loadModules(modules: List&lt;Module&gt;, allowOverride: Boolean = true)</code></li><li>å±æ€§ <code>KoinExtension.koin</code> å·²ç§»è‡³å‡½æ•° <code>KoinExtension.onRegister()</code></li><li>iOS - <code>internal fun globalContextByMemoryModel(): KoinContext</code> ç”¨äºä½¿ç”¨ <code>MutableGlobalContext</code></li></ul><p><code>koin-compose</code></p><ul><li>å‡½æ•° <code>KoinApplication(moduleList: () -&gt; List&lt;Module&gt;, content: @Composable () -&gt; Unit)</code> å·²ç§»é™¤ï¼Œå€¾å‘äº <code>KoinContext</code> å’Œ <code>KoinAndroidContext</code></li></ul><h2 id="_3-4-3" tabindex="-1">3.4.3 <a class="header-anchor" href="#_3-4-3" aria-label="Permalink to &quot;3.4.3&quot;">â€‹</a></h2><div class="note custom-block"><p class="custom-block-title">NOTE</p><p>ä½¿ç”¨ Kotlin <code>1.8.21</code></p></div><h3 id="æ–°å¢-ğŸ‰-4" tabindex="-1">æ–°å¢ ğŸ‰ <a class="header-anchor" href="#æ–°å¢-ğŸ‰-4" aria-label="Permalink to &quot;æ–°å¢ ğŸ‰&quot;">â€‹</a></h3><p><code>koin-core</code></p><ul><li>æ–°çš„ ExtensionManager APIï¼Œç”¨äºå¸®åŠ©ä¸º Koin ç¼–å†™æ‰©å±•å¼•æ“ - <code>ExtensionManager</code> + <code>KoinExtension</code></li><li>Parameters API æ›´æ–°ï¼Œæ–°å¢ <code>parameterArrayOf</code> å’Œ <code>parameterSetOf</code></li></ul><p><code>koin-test</code></p><ul><li><code>Verification</code> API - å¸®åŠ©åœ¨æ¨¡å—ä¸Šè¿è¡Œ <code>verify</code>ã€‚</li></ul><p><code>koin-android</code></p><ul><li>ViewModel æ³¨å…¥çš„å†…éƒ¨æœºåˆ¶</li><li>æ·»åŠ  <code>AndroidScopeComponent.onCloseScope()</code> å‡½æ•°å›è°ƒ</li></ul><p><code>koin-android-test</code></p><ul><li><code>Verification</code> API - å¸®åŠ©åœ¨æ¨¡å—ä¸Šè¿è¡Œ <code>androidVerify()</code>ã€‚</li></ul><p><code>koin-androidx-compose</code></p><ul><li>æ–°å¢ <code>get()</code></li><li>æ–°å¢ <code>getViewModel()</code></li><li>æ–°å¢ Scopes <code>KoinActivityScope</code>ã€<code>KoinFragmentScope</code></li></ul><p><code>koin-androidx-compose-navigation</code> - ç”¨äºå¯¼èˆªçš„æ–°æ¨¡å—</p><ul><li>æ–°å¢ <code>koinNavViewModel()</code></li></ul><p><code>koin-compose</code> - ç”¨äº Compose çš„æ–°å¤šå¹³å° API</p><ul><li><code>koinInject</code>ã€<code>rememberKoinInject</code></li><li><code>KoinApplication</code></li></ul><h3 id="å®éªŒæ€§-ğŸš§-3" tabindex="-1">å®éªŒæ€§ ğŸš§ <a class="header-anchor" href="#å®éªŒæ€§-ğŸš§-3" aria-label="Permalink to &quot;å®éªŒæ€§ ğŸš§&quot;">â€‹</a></h3><p><code>koin-compose</code> - ç”¨äº Compose çš„æ–°å®éªŒæ€§å¤šå¹³å° API</p><ul><li><code>rememberKoinModules</code></li><li><code>KoinScope</code>ã€<code>rememberKoinScope</code></li></ul><h3 id="åºŸå¼ƒ-âš ï¸-3" tabindex="-1">åºŸå¼ƒ âš ï¸ <a class="header-anchor" href="#åºŸå¼ƒ-âš ï¸-3" aria-label="Permalink to &quot;åºŸå¼ƒ âš ï¸&quot;">â€‹</a></h3><p><code>koin-compose</code></p><ul><li>å‡½æ•° <code>get()</code> æ›¿æ¢ <code>inject()</code> çš„ç”¨æ³•ï¼Œé¿å… Lazy å‡½æ•°</li><li>å‡½æ•° <code>getViewModel()</code> æ›¿æ¢ <code>viewModel()</code> å‡½æ•°çš„ç”¨æ³•ï¼Œé¿å… Lazy å‡½æ•°</li></ul><h3 id="ç ´åæ€§å˜æ›´-ğŸ’¥-3" tabindex="-1">ç ´åæ€§å˜æ›´ ğŸ’¥ <a class="header-anchor" href="#ç ´åæ€§å˜æ›´-ğŸ’¥-3" aria-label="Permalink to &quot;ç ´åæ€§å˜æ›´ ğŸ’¥&quot;">â€‹</a></h3><p><code>koin-android</code></p><ul><li><code>LifecycleScopeDelegate</code> ç°å·²ç§»é™¤</li></ul><p><code>koin-androidx-compose</code></p><ul><li>ç§»é™¤ <code>getStateViewModel</code>ï¼Œå€¾å‘äº <code>koinViewModel</code></li></ul>`,157)]))}const E=e(l,[["render",n]]);export{r as __pageData,E as default};
