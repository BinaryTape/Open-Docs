import{_ as h}from"./chunks/ktor_idea_new_project_browser.BM2Qc3X-.js";import{_ as k,C as e,c as u,o as g,j as s,G as a,ag as o,a as r,w as i}from"./chunks/framework.Bksy39di.js";const q=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"ja/ktor/server-packaging.md","filePath":"ja/ktor/server-packaging.md","lastUpdated":1755457140000}'),_={name:"ja/ktor/server-packaging.md"};function m(E,t,b,f,y,v){const d=e("tldr"),l=e("code-block"),n=e("TabItem"),p=e("Tabs"),c=e("snippet");return g(),u("div",null,[t[1]||(t[1]=s("h1",{id:"アプリケーションの配布物を作成する",tabindex:"-1"},[r("アプリケーションの配布物を作成する "),s("a",{class:"header-anchor",href:"#アプリケーションの配布物を作成する","aria-label":'Permalink to "アプリケーションの配布物を作成する"'},"​")],-1)),a(d,null,{default:i(()=>t[0]||(t[0]=[s("p",null,[s("b",null,"コード例"),r(": "),s("a",{href:"https://github.com/ktorio/ktor-documentation/tree/3.2.3/codeSnippets/snippets/deployment-ktor-plugin"}," deployment-ktor-plugin ")],-1)])),_:1}),t[2]||(t[2]=o(`<p><a href="https://github.com/ktorio/ktor-build-plugins" target="_blank" rel="noreferrer">Ktor Gradleプラグイン</a>は、Gradleの<a href="https://docs.gradle.org/current/userguide/application_plugin.html" target="_blank" rel="noreferrer">Applicationプラグイン</a>を自動的に適用します。これにより、コードの依存関係や生成された起動スクリプトを含むアプリケーションをパッケージ化する機能が提供されます。このトピックでは、Ktorアプリケーションをパッケージ化して実行する方法を説明します。</p><h2 id="configure-plugin" tabindex="-1">Ktorプラグインの構成 <a class="header-anchor" href="#configure-plugin" aria-label="Permalink to &quot;Ktorプラグインの構成 {id=&quot;configure-plugin&quot;}&quot;">​</a></h2><p>アプリケーションの配布物を作成するには、まずKtorプラグインを適用する必要があります。</p><ol><li><code>build.gradle.kts</code>ファイルを開き、<code>plugins</code>ブロックにプラグインを追加します。</li></ol><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plugins</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;io.ktor.plugin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) version </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;3.2.3&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ol start="2"><li><a href="./server-dependencies#create-entry-point">メインアプリケーションクラス</a>が構成されていることを確認してください。</li></ol><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">application</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    mainClass.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;com.example.ApplicationKt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="package" tabindex="-1">アプリケーションのパッケージ化 <a class="header-anchor" href="#package" aria-label="Permalink to &quot;アプリケーションのパッケージ化 {id=&quot;package&quot;}&quot;">​</a></h2><p>Applicationプラグインは、アプリケーションをパッケージ化するためのさまざまな方法を提供します。例えば、<code>installDist</code>タスクは、すべてのランタイム依存関係と起動スクリプトとともにアプリケーションをインストールします。完全な配布アーカイブを作成するには、<code>distZip</code>および<code>distTar</code>タスクを使用できます。</p><p>このトピックでは、<code>installDist</code>を使用します。</p><ol><li>ターミナルを開きます。</li><li>オペレーティングシステムに応じて、以下のいずれかの方法で<code>installDist</code>タスクを実行します。</li></ol>`,11)),a(p,{group:"os"},{default:i(()=>[a(n,{title:"Linux/macOS","group-key":"unix"},{default:i(()=>[a(l,{code:"./gradlew installDist"})]),_:1}),a(n,{title:"Windows","group-key":"windows"},{default:i(()=>[a(l,{code:"gradlew.bat installDist"})]),_:1})]),_:1}),t[3]||(t[3]=o('<p>Applicationプラグインは、<code>build/install/&lt;project_name&gt;</code>フォルダー内にアプリケーションのイメージを作成します。</p><h2 id="run" tabindex="-1">アプリケーションの実行 <a class="header-anchor" href="#run" aria-label="Permalink to &quot;アプリケーションの実行 {id=&quot;run&quot;}&quot;">​</a></h2><p><a href="#package">パッケージ化されたアプリケーション</a>を実行するには：</p><ol><li>ターミナルで<code>build/install/&lt;project_name&gt;/bin</code>フォルダーに移動します。</li><li>オペレーティングシステムに応じて、<code>&lt;project_name&gt;</code>または<code>&lt;project_name&gt;.bat</code>実行可能ファイルを実行します。例：</li></ol>',4)),a(c,{id:"run_executable"},{default:i(()=>[a(p,{group:"os"},{default:i(()=>[a(n,{title:"Linux/macOS","group-key":"unix"},{default:i(()=>[a(l,{code:"./ktor-sample"})]),_:1}),a(n,{title:"Windows","group-key":"windows"},{default:i(()=>[a(l,{code:"ktor-sample.bat"})]),_:1})]),_:1})]),_:1}),t[4]||(t[4]=o('<ol start="3"><li>次のメッセージが表示されるまで待ちます。</li></ol><div class="language-Bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[main] INFO  Application - Responding at http://0.0.0.0:8080</span></span></code></pre></div><p>ブラウザでリンクを開き、実行中のアプリケーションを確認します。</p><img src="'+h+'" alt="ブラウザで表示されるKtorアプリケーション" width="430">',4))])}const x=k(_,[["render",m]]);export{q as __pageData,x as default};
