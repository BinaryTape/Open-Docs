import{_ as p,C as r,c as E,o as g,j as i,G as e,ag as h,a as s,w as a}from"./chunks/framework.Bksy39di.js";const v=JSON.parse('{"title":"1.6.x から 2.0.x へのマイグレーション","description":"","frontmatter":{},"headers":[],"relativePath":"ja/ktor/migration-to-20x.md","filePath":"ja/ktor/migration-to-20x.md","lastUpdated":1755457140000}'),c={name:"ja/ktor/migration-to-20x.md"};function y(u,t,F,C,m,f){const d=r("show-structure"),l=r("TabItem"),n=r("Tabs"),k=r("Links"),o=r("list");return g(),E("div",null,[t[65]||(t[65]=i("h1",{id:"_1-6-x-から-2-0-x-へのマイグレーション",tabindex:"-1"},[s("1.6.x から 2.0.x へのマイグレーション "),i("a",{class:"header-anchor",href:"#_1-6-x-から-2-0-x-へのマイグレーション","aria-label":'Permalink to "1.6.x から 2.0.x へのマイグレーション"'},"​")],-1)),e(d,{for:"chapter",depth:"2"}),t[66]||(t[66]=h('<p>このガイドでは、Ktorアプリケーションを1.6.xバージョンから2.0.xバージョンへ移行する方法について説明します。</p><h2 id="server" tabindex="-1">Ktorサーバー <a class="header-anchor" href="#server" aria-label="Permalink to &quot;Ktorサーバー {id=&quot;server&quot;}&quot;">​</a></h2><h3 id="server-package" tabindex="-1">サーバーコードは &#39;io.ktor.server.*&#39; パッケージに移動されました <a class="header-anchor" href="#server-package" aria-label="Permalink to &quot;サーバーコードは &#39;io.ktor.server.*&#39; パッケージに移動されました {id=&quot;server-package&quot;}&quot;">​</a></h3><p>サーバーとクライアントのAPIを統一し、より明確に区別するため、サーバーコードは<code>io.ktor.server.*</code>パッケージに移動されました (<a href="https://youtrack.jetbrains.com/issue/KTOR-2865" target="_blank" rel="noreferrer">KTOR-2865</a>)。 これは、以下に示すように、アプリケーションの<a href="#server-package-dependencies">依存関係</a>と<a href="#server-package-imports">インポート</a>を更新する必要があることを意味します。</p><h4 id="server-package-dependencies" tabindex="-1">依存関係 <a class="header-anchor" href="#server-package-dependencies" aria-label="Permalink to &quot;依存関係 {id=&quot;server-package-dependencies&quot;}&quot;">​</a></h4><table tabindex="0"><thead><tr><th style="text-align:left;">サブシステム</th><th style="text-align:center;">1.6.x</th><th style="text-align:right;">2.0.0</th></tr></thead><tbody><tr><td style="text-align:left;"><a href="https://ktor.io/docs/server-locations.html" target="_blank" rel="noreferrer">Locations</a></td><td style="text-align:center;"><code>io.ktor:ktor-locations</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-locations</code></td></tr><tr><td style="text-align:left;"><a href="./server-webjars">Webjars</a></td><td style="text-align:center;"><code>io.ktor:ktor-webjars</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-webjars</code></td></tr><tr><td style="text-align:left;"><a href="./server-autoheadresponse">AutoHeadResponse</a></td><td style="text-align:center;"><code>io.ktor:ktor-server-core</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-auto-head-response</code></td></tr><tr><td style="text-align:left;"><a href="./server-status-pages">StatusPages</a></td><td style="text-align:center;"><code>io.ktor:ktor-server-core</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-status-pages</code></td></tr><tr><td style="text-align:left;"><a href="./server-call-id">CallId</a></td><td style="text-align:center;"><code>io.ktor:ktor-server-core</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-call-id</code></td></tr><tr><td style="text-align:left;"><a href="./server-double-receive">DoubleReceive</a></td><td style="text-align:center;"><code>io.ktor:ktor-server-core</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-double-receive</code></td></tr><tr><td style="text-align:left;"><a href="./server-html-dsl">HTML DSL</a></td><td style="text-align:center;"><code>io.ktor:ktor-html-builder</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-html-builder</code></td></tr><tr><td style="text-align:left;"><a href="./server-freemarker">FreeMarker</a></td><td style="text-align:center;"><code>io.ktor:ktor-freemarker</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-freemarker</code></td></tr><tr><td style="text-align:left;"><a href="./server-velocity">Velocity</a></td><td style="text-align:center;"><code>io.ktor:ktor-velocity</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-velocity</code></td></tr><tr><td style="text-align:left;"><a href="./server-mustache">Mustache</a></td><td style="text-align:center;"><code>io.ktor:ktor-mustache</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-mustache</code></td></tr><tr><td style="text-align:left;"><a href="./server-thymeleaf">Thymeleaf</a></td><td style="text-align:center;"><code>io.ktor:ktor-thymeleaf</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-thymeleaf</code></td></tr><tr><td style="text-align:left;"><a href="./server-pebble">Pebble</a></td><td style="text-align:center;"><code>io.ktor:ktor-pebble</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-pebble</code></td></tr><tr><td style="text-align:left;"><a href="./server-serialization">kotlinx.serialization</a></td><td style="text-align:center;"><code>io.ktor:ktor-serialization</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-content-negotiation</code>, <code>io.ktor:ktor-serialization-kotlinx-json</code></td></tr><tr><td style="text-align:left;"><a href="./server-serialization">Gson</a></td><td style="text-align:center;"><code>io.ktor:ktor-gson</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-content-negotiation</code>, <code>io.ktor:ktor-serialization-gson</code></td></tr><tr><td style="text-align:left;"><a href="./server-serialization">Jackson</a></td><td style="text-align:center;"><code>io.ktor:ktor-jackson</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-content-negotiation</code>, <code>io.ktor:ktor-serialization-jackson</code></td></tr><tr><td style="text-align:left;"><a href="./server-auth">Authentication</a></td><td style="text-align:center;"><code>io.ktor:ktor-auth</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-auth</code></td></tr><tr><td style="text-align:left;"><a href="./server-jwt">JWT authentication</a></td><td style="text-align:center;"><code>io.ktor:ktor-auth-jwt</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-auth-jwt</code></td></tr><tr><td style="text-align:left;"><a href="./server-ldap">LDAP authentication</a></td><td style="text-align:center;"><code>io.ktor:ktor-auth-ldap</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-auth-ldap</code></td></tr><tr><td style="text-align:left;"><a href="./server-data-conversion">DataConversion</a></td><td style="text-align:center;"><code>io.ktor:ktor-server-core</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-data-conversion</code></td></tr><tr><td style="text-align:left;"><a href="./server-default-headers">DefaultHeaders</a></td><td style="text-align:center;"><code>io.ktor:ktor-server-core</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-default-headers</code></td></tr><tr><td style="text-align:left;"><a href="./server-compression">Compression</a></td><td style="text-align:center;"><code>io.ktor:ktor-server-core</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-compression</code></td></tr><tr><td style="text-align:left;"><a href="./server-caching-headers">CachingHeaders</a></td><td style="text-align:center;"><code>io.ktor:ktor-server-core</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-caching-headers</code></td></tr><tr><td style="text-align:left;"><a href="./server-conditional-headers">ConditionalHeaders</a></td><td style="text-align:center;"><code>io.ktor:ktor-server-core</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-conditional-headers</code></td></tr><tr><td style="text-align:left;"><a href="./server-cors">CORS</a></td><td style="text-align:center;"><code>io.ktor:ktor-server-core</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-cors</code></td></tr><tr><td style="text-align:left;"><a href="./server-forward-headers">Forwarded headers</a></td><td style="text-align:center;"><code>io.ktor:ktor-server-core</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-forwarded-header</code></td></tr><tr><td style="text-align:left;"><a href="./server-hsts">HSTS</a></td><td style="text-align:center;"><code>io.ktor:ktor-server-core</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-hsts</code></td></tr><tr><td style="text-align:left;"><a href="./server-https-redirect">HttpsRedirect</a></td><td style="text-align:center;"><code>io.ktor:ktor-server-core</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-http-redirect</code></td></tr><tr><td style="text-align:left;"><a href="./server-partial-content">PartialContent</a></td><td style="text-align:center;"><code>io.ktor:ktor-server-core</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-partial-content</code></td></tr><tr><td style="text-align:left;"><a href="./server-websockets">WebSockets</a></td><td style="text-align:center;"><code>io.ktor:ktor-websockets</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-websockets</code></td></tr><tr><td style="text-align:left;"><a href="./server-call-logging">CallLogging</a></td><td style="text-align:center;"><code>io.ktor:ktor-server-core</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-call-logging</code></td></tr><tr><td style="text-align:left;"><a href="./server-metrics-micrometer">Micrometer metric</a></td><td style="text-align:center;"><code>io.ktor:ktor-metrics-micrometer</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-metrics-micrometer</code></td></tr><tr><td style="text-align:left;"><a href="./server-metrics-dropwizard">Dropwizard metrics</a></td><td style="text-align:center;"><code>io.ktor:ktor-metrics</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-metrics</code></td></tr><tr><td style="text-align:left;"><a href="./server-sessions">Sessions</a></td><td style="text-align:center;"><code>io.ktor:ktor-server-core</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-sessions</code></td></tr></tbody></table><blockquote><p>すべてのプラグインを一度に追加するには、<code>io.ktor:ktor-server</code>アーティファクトを使用できます。</p></blockquote><h4 id="server-package-imports" tabindex="-1">インポート <a class="header-anchor" href="#server-package-imports" aria-label="Permalink to &quot;インポート {id=&quot;server-package-imports&quot;}&quot;">​</a></h4><table tabindex="0"><thead><tr><th style="text-align:left;">サブシステム</th><th style="text-align:center;">1.6.x</th><th style="text-align:right;">2.0.0</th></tr></thead><tbody><tr><td style="text-align:left;"><a href="./server-create-and-configure">Application</a></td><td style="text-align:center;"><code>import io.ktor.application.*</code></td><td style="text-align:right;"><code>import io.ktor.server.application.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-configuration-file">Configuration</a></td><td style="text-align:center;"><code>import io.ktor.config.*</code></td><td style="text-align:right;"><code>import io.ktor.server.config.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-routing">Routing</a></td><td style="text-align:center;"><code>import io.ktor.routing.*</code></td><td style="text-align:right;"><code>import io.ktor.server.routing.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-autoheadresponse">AutoHeadResponse</a></td><td style="text-align:center;"><code>import io.ktor.features.*</code></td><td style="text-align:right;"><code>import io.ktor.server.plugins.autohead.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-status-pages">StatusPages</a></td><td style="text-align:center;"><code>import io.ktor.features.*</code></td><td style="text-align:right;"><code>import io.ktor.server.plugins.statuspages.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-call-id">CallId</a></td><td style="text-align:center;"><code>import io.ktor.features.*</code></td><td style="text-align:right;"><code>import io.ktor.server.plugins.callid.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-double-receive">DoubleReceive</a></td><td style="text-align:center;"><code>import io.ktor.features.*</code></td><td style="text-align:right;"><code>import io.ktor.server.plugins.doublereceive.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-requests">Requests</a></td><td style="text-align:center;"><code>import io.ktor.request.*</code></td><td style="text-align:right;"><code>import io.ktor.server.request.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-responses">Responses</a></td><td style="text-align:center;"><code>import io.ktor.response.*</code></td><td style="text-align:right;"><code>import io.ktor.server.response.*</code></td></tr><tr><td style="text-align:left;"><a href="#feature-plugin">Plugins</a></td><td style="text-align:center;"><code>import io.ktor.features.*</code></td><td style="text-align:right;"><code>import io.ktor.server.plugins.*</code></td></tr><tr><td style="text-align:left;"><a href="https://ktor.io/docs/server-locations.html" target="_blank" rel="noreferrer">Locations</a></td><td style="text-align:center;"><code>import io.ktor.locations.*</code></td><td style="text-align:right;"><code>import io.ktor.server.locations.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-static-content">Static content</a></td><td style="text-align:center;"><code>import io.ktor.http.content.*</code></td><td style="text-align:right;"><code>import io.ktor.server.http.content.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-html-dsl">HTML DSL</a></td><td style="text-align:center;"><code>import io.ktor.html.*</code></td><td style="text-align:right;"><code>import io.ktor.server.html.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-freemarker">FreeMarker</a></td><td style="text-align:center;"><code>import io.ktor.freemarker.*</code></td><td style="text-align:right;"><code>import io.ktor.server.freemarker.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-velocity">Velocity</a></td><td style="text-align:center;"><code>import io.ktor.velocity.*</code></td><td style="text-align:right;"><code>import io.ktor.server.velocity.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-mustache">Mustache</a></td><td style="text-align:center;"><code>import io.ktor.mustache.*</code></td><td style="text-align:right;"><code>import io.ktor.server.mustache.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-thymeleaf">Thymeleaf</a></td><td style="text-align:center;"><code>import io.ktor.thymeleaf.*</code></td><td style="text-align:right;"><code>import io.ktor.server.thymeleaf.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-pebble">Pebble</a></td><td style="text-align:center;"><code>import io.ktor.pebble.*</code></td><td style="text-align:right;"><code>import io.ktor.server.pebble.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-serialization">ContentNegotiation</a></td><td style="text-align:center;"><code>import io.ktor.features.*</code></td><td style="text-align:right;"><code>import io.ktor.server.plugins.contentnegotiation.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-serialization">kotlinx.serialization</a></td><td style="text-align:center;"><code>import io.ktor.serialization.*</code></td><td style="text-align:right;"><code>import io.ktor.serialization.kotlinx.json.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-serialization">Gson</a></td><td style="text-align:center;"><code>import io.ktor.gson.*</code></td><td style="text-align:right;"><code>import io.ktor.serialization.gson.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-serialization">Jackson</a></td><td style="text-align:center;"><code>import io.ktor.jackson.*</code></td><td style="text-align:right;"><code>import io.ktor.serialization.jackson.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-auth">Authentication</a></td><td style="text-align:center;"><code>import io.ktor.auth.*</code></td><td style="text-align:right;"><code>import io.ktor.server.auth.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-jwt">JWT authentication</a></td><td style="text-align:center;"><code>import io.ktor.auth.jwt.*</code></td><td style="text-align:right;"><code>import io.ktor.server.auth.jwt.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-ldap">LDAP authentication</a></td><td style="text-align:center;"><code>import io.ktor.auth.ldap.*</code></td><td style="text-align:right;"><code>import io.ktor.server.auth.ldap.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-sessions">Sessions</a></td><td style="text-align:center;"><code>import io.ktor.sessions.*</code></td><td style="text-align:right;"><code>import io.ktor.server.sessions.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-default-headers">DefaultHeaders</a></td><td style="text-align:center;"><code>import io.ktor.features.*</code></td><td style="text-align:right;"><code>import io.ktor.server.plugins.defaultheaders.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-compression">Compression</a></td><td style="text-align:center;"><code>import io.ktor.features.*</code></td><td style="text-align:right;"><code>import io.ktor.server.plugins.compression.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-caching-headers">CachingHeaders</a></td><td style="text-align:center;"><code>import io.ktor.features.*</code></td><td style="text-align:right;"><code>import io.ktor.server.plugins.cachingheaders.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-conditional-headers">ConditionalHeaders</a></td><td style="text-align:center;"><code>import io.ktor.features.*</code></td><td style="text-align:right;"><code>import io.ktor.server.plugins.conditionalheaders.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-cors">CORS</a></td><td style="text-align:center;"><code>import io.ktor.features.*</code></td><td style="text-align:right;"><code>import io.ktor.server.plugins.cors.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-forward-headers">Forwarded headers</a></td><td style="text-align:center;"><code>import io.ktor.features.*</code></td><td style="text-align:right;"><code>import io.ktor.server.plugins.forwardedheaders.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-hsts">HSTS</a></td><td style="text-align:center;"><code>import io.ktor.features.*</code></td><td style="text-align:right;"><code>import io.ktor.server.plugins.hsts.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-https-redirect">HttpsRedirect</a></td><td style="text-align:center;"><code>import io.ktor.features.*</code></td><td style="text-align:right;"><code>import io.ktor.server.plugins.httpsredirect.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-partial-content">PartialContent</a></td><td style="text-align:center;"><code>import io.ktor.features.*</code></td><td style="text-align:right;"><code>import io.ktor.server.plugins.partialcontent.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-websockets">WebSockets</a></td><td style="text-align:center;"><code>import io.ktor.websocket.*</code></td><td style="text-align:right;"><code>import io.ktor.server.websocket.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-call-logging">CallLogging</a></td><td style="text-align:center;"><code>import io.ktor.features.*</code></td><td style="text-align:right;"><code>import io.ktor.server.plugins.callloging.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-metrics-micrometer">Micrometer metric</a></td><td style="text-align:center;"><code>import io.ktor.metrics.micrometer.*</code></td><td style="text-align:right;"><code>import io.ktor.server.metrics.micrometer.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-metrics-dropwizard">Dropwizard metrics</a></td><td style="text-align:center;"><code>import io.ktor.metrics.dropwizard.*</code></td><td style="text-align:right;"><code>import io.ktor.server.metrics.dropwizard.*</code></td></tr></tbody></table><h3 id="server-ws-package" tabindex="-1">WebSocketsコードは &#39;websockets&#39; パッケージに移動されました <a class="header-anchor" href="#server-ws-package" aria-label="Permalink to &quot;WebSocketsコードは &#39;websockets&#39; パッケージに移動されました {id=&quot;server-ws-package&quot;}&quot;">​</a></h3><p>WebSocketsコードは<code>http-cio</code>から<code>websockets</code>パッケージに移動されました。これにより、インポートを以下のように更新する必要があります。</p><table tabindex="0"><thead><tr><th style="text-align:left;">1.6.x</th><th style="text-align:right;">2.0.0</th></tr></thead><tbody><tr><td style="text-align:left;"><code>import io.ktor.http.cio.websocket.*</code></td><td style="text-align:right;"><code>import io.ktor.websocket.*</code></td></tr></tbody></table><p>この変更は<a href="#client-ws-package">クライアント</a>にも影響することに注意してください。</p><h3 id="feature-plugin" tabindex="-1">FeatureはPluginに名称変更されました <a class="header-anchor" href="#feature-plugin" aria-label="Permalink to &quot;FeatureはPluginに名称変更されました {id=&quot;feature-plugin&quot;}&quot;">​</a></h3><p>Ktor 2.0.0では、<em>Feature</em> はリクエスト/レスポンスパイプラインをインターセプトする機能をより適切に記述するため、<em><a href="./server-plugins">Plugin</a></em> に名称変更されました (<a href="https://youtrack.jetbrains.com/issue/KTOR-2326" target="_blank" rel="noreferrer">KTOR-2326</a>)。 これはKtor API全体に影響を与え、以下に説明するようにアプリケーションの更新が必要です。</p><h4 id="feature-plugin-imports" tabindex="-1">インポート <a class="header-anchor" href="#feature-plugin-imports" aria-label="Permalink to &quot;インポート {id=&quot;feature-plugin-imports&quot;}&quot;">​</a></h4><p>任意のプラグインをインストールするには、インポートの更新が必要であり、<a href="#server-package-imports">サーバーコードを<code>io.ktor.server.*</code>パッケージに移動すること</a>にも依存します。</p><table tabindex="0"><thead><tr><th style="text-align:left;">1.6.x</th><th style="text-align:right;">2.0.0</th></tr></thead><tbody><tr><td style="text-align:left;"><code>import io.ktor.features.*</code></td><td style="text-align:right;"><code>import io.ktor.server.plugins.*</code></td></tr></tbody></table><h4 id="feature-plugin-custom" tabindex="-1">カスタムプラグイン <a class="header-anchor" href="#feature-plugin-custom" aria-label="Permalink to &quot;カスタムプラグイン {id=&quot;feature-plugin-custom&quot;}&quot;">​</a></h4><p>FeatureからPluginへの名称変更により、<a href="./server-custom-plugins-base-api">カスタムプラグイン</a>に関連するAPIに以下の変更が導入されます。</p><ul><li><code>ApplicationFeature</code>インターフェースは<code>BaseApplicationPlugin</code>に名称変更されました。</li><li><code>Features</code><a href="./server-custom-plugins-base-api#pipelines">パイプラインフェーズ</a>は<code>Plugins</code>に名称変更されました。</li></ul><blockquote><p>v2.0.0以降、Ktorは<a href="./server-custom-plugins">カスタムプラグインを作成するための</a>新しいAPIを提供することに注意してください。一般的に、このAPIはパイプライン、フェーズなどの内部Ktorコンセプトの理解を必要としません。代わりに、<code>onCall</code>、<code>onCallReceive</code>、<code>onCallRespond</code>などの様々なハンドラーを使用して、リクエストとレスポンスを処理する異なるステージにアクセスできます。パイプラインフェーズが新しいAPIハンドラーにどのようにマッピングされるかについては、このセクションで学習できます: <a href="./server-custom-plugins-base-api#mapping">パイプラインフェーズと新しいAPIハンドラーのマッピング</a>。</p></blockquote><h3 id="serialization" tabindex="-1">コンテンツネゴシエーションとシリアライゼーション <a class="header-anchor" href="#serialization" aria-label="Permalink to &quot;コンテンツネゴシエーションとシリアライゼーション {id=&quot;serialization&quot;}&quot;">​</a></h3><p><a href="./server-serialization">コンテンツネゴシエーションとシリアライゼーション</a>サーバーAPIは、サーバーとクライアント間でシリアライゼーションライブラリを再利用するようにリファクタリングされました。 主な変更点は以下の通りです。</p><ul><li><code>ContentNegotiation</code>は<code>ktor-server-core</code>から分離された<code>ktor-server-content-negotiation</code>アーティファクトに移動されました。</li><li>シリアライゼーションライブラリは<code>ktor-*</code>から、クライアントでも使用される<code>ktor-serialization-*</code>アーティファクトに移動されました。</li></ul><p>以下に示すように、アプリケーションの<a href="#dependencies-serialization">依存関係</a>と<a href="#imports-serialization">インポート</a>を更新する必要があります。</p><h4 id="dependencies-serialization" tabindex="-1">依存関係 <a class="header-anchor" href="#dependencies-serialization" aria-label="Permalink to &quot;依存関係 {id=&quot;dependencies-serialization&quot;}&quot;">​</a></h4><table tabindex="0"><thead><tr><th style="text-align:left;">サブシステム</th><th style="text-align:center;">1.6.x</th><th style="text-align:right;">2.0.0</th></tr></thead><tbody><tr><td style="text-align:left;"><a href="./server-serialization">ContentNegotiation</a></td><td style="text-align:center;"><code>io.ktor:ktor-server-core</code></td><td style="text-align:right;"><code>io.ktor:ktor-server-content-negotiation</code></td></tr><tr><td style="text-align:left;"><a href="./server-serialization">kotlinx.serialization</a></td><td style="text-align:center;"><code>io.ktor:ktor-serialization</code></td><td style="text-align:right;"><code>io.ktor:ktor-serialization-kotlinx-json</code></td></tr><tr><td style="text-align:left;"><a href="./server-serialization">Gson</a></td><td style="text-align:center;"><code>io.ktor:ktor-gson</code></td><td style="text-align:right;"><code>io.ktor:ktor-serialization-gson</code></td></tr><tr><td style="text-align:left;"><a href="./server-serialization">Jackson</a></td><td style="text-align:center;"><code>io.ktor:ktor-jackson</code></td><td style="text-align:right;"><code>io.ktor:ktor-serialization-jackson</code></td></tr></tbody></table><h4 id="imports-serialization" tabindex="-1">インポート <a class="header-anchor" href="#imports-serialization" aria-label="Permalink to &quot;インポート {id=&quot;imports-serialization&quot;}&quot;">​</a></h4><table tabindex="0"><thead><tr><th style="text-align:left;">サブシステム</th><th style="text-align:center;">1.6.x</th><th style="text-align:right;">2.0.0</th></tr></thead><tbody><tr><td style="text-align:left;"><a href="./server-serialization">kotlinx.serialization</a></td><td style="text-align:center;"><code>import io.ktor.serialization.*</code></td><td style="text-align:right;"><code>import io.ktor.serialization.kotlinx.json.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-serialization">Gson</a></td><td style="text-align:center;"><code>import io.ktor.gson.*</code></td><td style="text-align:right;"><code>import io.ktor.serialization.gson.*</code></td></tr><tr><td style="text-align:left;"><a href="./server-serialization">Jackson</a></td><td style="text-align:center;"><code>import io.ktor.jackson.*</code></td><td style="text-align:right;"><code>import io.ktor.serialization.jackson.*</code></td></tr></tbody></table><h4 id="serialization-custom-converter" tabindex="-1">カスタムコンバーター <a class="header-anchor" href="#serialization-custom-converter" aria-label="Permalink to &quot;カスタムコンバーター {id=&quot;serialization-custom-converter&quot;}&quot;">​</a></h4><p><a href="./server-serialization#implement_custom_serializer">ContentConverter</a>インターフェースによって公開される関数のシグネチャは、以下のように変更されました。</p>',32)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[0]||(t[0]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"interface"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ContentConverter"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    suspend"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," fun"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," convertForSend"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(context: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"PipelineContext"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Any"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ApplicationCall"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">, contentType: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ContentType"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"value"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Any"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"): "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Any"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"?")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    suspend"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," fun"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," convertForReceive"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(context: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"PipelineContext"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ApplicationReceiveRequest"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ApplicationCall"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">): "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Any"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"?")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[1]||(t[1]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"interface"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ContentConverter"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    suspend"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," fun"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," serialize"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(contentType: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ContentType"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", charset: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Charset"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", typeInfo: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"TypeInfo"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"value"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Any"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"): "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"OutgoingContent"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"?")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    suspend"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," fun"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," deserialize"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(charset: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Charset"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", typeInfo: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"TypeInfo"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", content: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ByteReadChannel"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"): "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Any"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"?")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1})]),_:1}),t[67]||(t[67]=h('<h3 id="testing-api" tabindex="-1">テストAPI <a class="header-anchor" href="#testing-api" aria-label="Permalink to &quot;テストAPI {id=&quot;testing-api&quot;}&quot;">​</a></h3><p>v2.0.0では、Ktorサーバーは<a href="./server-testing">テスト</a>に新しいAPIを使用し、<a href="https://youtrack.jetbrains.com/issue/KTOR-971" target="_blank" rel="noreferrer">KTOR-971</a>で説明されている様々な問題を解決します。主な変更点は以下の通りです。</p><ul><li><code>withTestApplication</code>/<code>withApplication</code>関数は、新しい<code>testApplication</code>関数に置き換えられました。</li><li><code>testApplication</code>関数内では、既存の<a href="./client-create-and-configure">Ktorクライアント</a>インスタンスを使用してサーバーにリクエストを送信し、結果を検証する必要があります。</li><li>特定の機能（例えば、クッキーやWebSockets）をテストするには、新しいクライアントインスタンスを作成し、対応する<a href="./client-plugins">プラグイン</a>をインストールする必要があります。</li></ul><p>1.6.xテストを2.0.0に移行するいくつかの例を見てみましょう。</p><h4 id="basic-test" tabindex="-1">基本的なサーバーテスト <a class="header-anchor" href="#basic-test" aria-label="Permalink to &quot;基本的なサーバーテスト {id=&quot;basic-test&quot;}&quot;">​</a></h4><p>以下のテストでは、<code>handleRequest</code>関数が<code>client.get</code>リクエストに置き換えられています。</p>',6)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[2]||(t[2]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"@Test")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"fun"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," testRootLegacyApi"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    withTestApplication"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(Application::"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"module"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        handleRequest"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpMethod.Get, "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"apply"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpStatusCode.OK, response."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"status"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Hello, world!"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", response.content)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[3]||(t[3]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"@Test")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"fun"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," testRoot"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," testApplication"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," response "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"get"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpStatusCode.OK, response.status)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Hello, world!"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", response."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"bodyAsText"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1})]),_:1}),t[68]||(t[68]=i("h4",{id:"x-www-form-urlencoded",tabindex:"-1"},[s("x-www-form-urlencoded "),i("a",{class:"header-anchor",href:"#x-www-form-urlencoded","aria-label":'Permalink to "x-www-form-urlencoded {id="x-www-form-urlencoded"}"'},"​")],-1)),t[69]||(t[69]=i("p",null,[s("以下のテストでは、"),i("code",null,"handleRequest"),s("関数が"),i("code",null,"client.post"),s("リクエストに置き換えられています。")],-1)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[4]||(t[4]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"@Test")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"fun"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," testPostLegacyApi"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," withTestApplication"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(Application::"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"main"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    with"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"handleRequest"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpMethod.Post, "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/signup"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"){")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        addHeader"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpHeaders.ContentType, ContentType.Application.FormUrlEncoded."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"toString"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        setBody"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"listOf"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"username"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," to "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"JetBrains"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"email"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," to "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"example@jetbrains.com"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"password"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," to "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"foobar"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"confirmation"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," to "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"foobar"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"formUrlEncode"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`"The 'JetBrains' account is created"`),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", response.content)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[5]||(t[5]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"@Test")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"fun"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," testPost"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," testApplication"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," response "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"post"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/signup"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        header"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpHeaders.ContentType, ContentType.Application.FormUrlEncoded."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"toString"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        setBody"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"listOf"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"username"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," to "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"JetBrains"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"email"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," to "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"example@jetbrains.com"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"password"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," to "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"foobar"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"confirmation"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," to "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"foobar"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"formUrlEncode"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`"The 'JetBrains' account is created"`),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", response."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"bodyAsText"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1})]),_:1}),t[70]||(t[70]=i("h4",{id:"multipart-form-data",tabindex:"-1"},[s("multipart/form-data "),i("a",{class:"header-anchor",href:"#multipart-form-data","aria-label":'Permalink to "multipart/form-data {id="multipart-form-data"}"'},"​")],-1)),t[71]||(t[71]=i("p",null,[s("v2.0.0で"),i("code",null,"multipart/form-data"),s("を構築するには、"),i("code",null,"MultiPartFormDataContent"),s("をクライアントの"),i("code",null,"setBody"),s("関数に渡す必要があります。")],-1)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[6]||(t[6]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    @Test")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    fun"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," testUploadLegacyApi"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," withTestApplication"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(Application::"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"main"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        with"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"handleRequest"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpMethod.Post, "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/upload"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"){")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"            val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," boundary "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "WebAppBoundary"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"            val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," fileBytes "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," File"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"ktor_logo.png"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"readBytes"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            addHeader"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpHeaders.ContentType, ContentType.MultiPart.FormData."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"withParameter"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"boundary"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", boundary)."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"toString"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            setBody"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(boundary, "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"listOf"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                PartData."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"FormItem"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Ktor logo"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", { }, "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"headersOf"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                    HttpHeaders.ContentDisposition,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                    ContentDisposition.Inline")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                        ."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"withParameter"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(ContentDisposition.Parameters.Name, "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"description"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                        ."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"toString"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                )),")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                PartData."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"FileItem"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({ fileBytes."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"inputStream"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"asInput"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() }, {}, "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"headersOf"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                    HttpHeaders.ContentDisposition,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                    ContentDisposition.File")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                        ."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"withParameter"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(ContentDisposition.Parameters.Name, "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"image"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                        ."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"withParameter"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(ContentDisposition.Parameters.FileName, "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"ktor_logo.png"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                        ."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"toString"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                ))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            ))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`"Ktor logo is uploaded to 'uploads/ktor_logo.png'"`),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", response.content)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[7]||(t[7]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"@Test")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"fun"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," testUpload"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," testApplication"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," boundary "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "WebAppBoundary"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," response "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"post"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/upload"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        setBody"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            MultiPartFormDataContent"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"                formData"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"                    append"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"description"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Ktor logo"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"                    append"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"image"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"File"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"ktor_logo.png"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"readBytes"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(), Headers."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"build"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"                        append"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpHeaders.ContentType, "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"image/png"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"                        append"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpHeaders.ContentDisposition, "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"filename='),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},'\\"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"ktor_logo.png"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},'\\"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                    })")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                boundary,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                ContentType.MultiPart.FormData."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"withParameter"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"boundary"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", boundary)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            )")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        )")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`"Ktor logo is uploaded to 'uploads/ktor_logo.png'"`),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", response."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"bodyAsText"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1})]),_:1}),t[72]||(t[72]=i("h4",{id:"json-data",tabindex:"-1"},[s("JSONデータ "),i("a",{class:"header-anchor",href:"#json-data","aria-label":'Permalink to "JSONデータ {id="json-data"}"'},"​")],-1)),t[73]||(t[73]=i("p",null,[s("v1.6.xでは、"),i("code",null,"kotlinx.serialization"),s("ライブラリが提供する"),i("code",null,"Json.encodeToString"),s("関数を使用してJSONデータをシリアライズできます。 v2.0.0では、新しいクライアントインスタンスを作成し、特定の形式でコンテンツをシリアライズ/デシリアライズできる"),i("a",{href:"./client-serialization"},"ContentNegotiation"),s("プラグインをインストールする必要があります。")],-1)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[8]||(t[8]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"@Test")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"fun"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," testPostCustomerLegacyApi"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," withTestApplication"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(Application::"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"main"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    with"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"handleRequest"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpMethod.Post, "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/customer"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"){")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        addHeader"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpHeaders.ContentType, ContentType.Application.Json."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"toString"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        setBody"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(Json."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"encodeToString"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Customer"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"3"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Jet"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Brains"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Customer stored correctly"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", response.content)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpStatusCode.Created, response."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"status"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[9]||(t[9]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"@Test")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"fun"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," testPostCustomer"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," testApplication"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," client "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," createClient"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        install"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(ContentNegotiation) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            json"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," response "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"post"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/customer"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        contentType"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(ContentType.Application.Json)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        setBody"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Customer"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"3"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Jet"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Brains"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Customer stored correctly"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", response."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"bodyAsText"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpStatusCode.Created, response.status)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1})]),_:1}),t[74]||(t[74]=i("h4",{id:"preserving-cookies",tabindex:"-1"},[s("テスト中のクッキーの保持 "),i("a",{class:"header-anchor",href:"#preserving-cookies","aria-label":'Permalink to "テスト中のクッキーの保持 {id="preserving-cookies"}"'},"​")],-1)),t[75]||(t[75]=i("p",null,[s("v1.6.xでは、テスト時にリクエスト間でクッキーを保持するために"),i("code",null,"cookiesSession"),s("が使用されます。v2.0.0では、新しいクライアントインスタンスを作成し、"),i("a",{href:"./client-cookies"},"HttpCookies"),s("プラグインをインストールする必要があります。")],-1)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[10]||(t[10]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    @Test")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    fun"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," testRequestsLegacyApi"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," withTestApplication"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(Application::"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"main"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        fun"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," doRequestAndCheckResponse"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(path: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"String"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", expected: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"String"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            handleRequest"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpMethod.Get, path)."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"apply"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"                assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(expected, response.content)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        cookiesSession"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            handleRequest"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpMethod.Get, "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/login"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {}."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"apply"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            doRequestAndCheckResponse"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/user"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Session ID is 123abc. Reload count is 0."'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            doRequestAndCheckResponse"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/user"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Session ID is 123abc. Reload count is 1."'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            doRequestAndCheckResponse"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/user"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Session ID is 123abc. Reload count is 2."'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            handleRequest"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpMethod.Get, "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/logout"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"apply"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            doRequestAndCheckResponse"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/user"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`"Session doesn't exist or is expired."`),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[11]||(t[11]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    @Test")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    fun"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," testRequests"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," testApplication"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," client "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," createClient"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            install"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpCookies)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," loginResponse "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"get"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/login"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," response1 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"get"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/user"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Session ID is 123abc. Reload count is 1."'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", response1."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"bodyAsText"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," response2 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"get"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/user"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Session ID is 123abc. Reload count is 2."'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", response2."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"bodyAsText"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," response3 "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"get"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/user"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Session ID is 123abc. Reload count is 3."'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", response3."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"bodyAsText"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," logoutResponse "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"get"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/logout"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`"Session doesn't exist or is expired."`),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", logoutResponse."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"bodyAsText"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")])])])],-1)])),_:1})]),_:1}),t[76]||(t[76]=i("h4",{id:"testing-ws",tabindex:"-1"},[s("WebSockets "),i("a",{class:"header-anchor",href:"#testing-ws","aria-label":'Permalink to "WebSockets {id="testing-ws"}"'},"​")],-1)),t[77]||(t[77]=i("p",null,[s("旧APIでは、"),i("a",{href:"./server-websockets"},"WebSocket会話"),s("をテストするために"),i("code",null,"handleWebSocketConversation"),s("が使用されます。v2.0.0では、クライアントが提供する"),i("a",{href:"./client-websockets"},"WebSockets"),s("プラグインを使用することでWebSocket会話をテストできます。")],-1)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[12]||(t[12]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    @Test")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    fun"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," testConversationLegacyApi"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        withTestApplication"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(Application::"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"module"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"            handleWebSocketConversation"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/echo"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") { incoming, outgoing "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"->")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," greetingText "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (incoming."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"receive"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"as"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," Frame.Text)."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"readText"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"                assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Please enter your name"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", greetingText)")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                outgoing."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"send"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(Frame."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Text"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"JetBrains"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," responseText "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (incoming."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"receive"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"as"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," Frame.Text)."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"readText"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"                assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Hi, JetBrains!"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", responseText)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[13]||(t[13]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    @Test")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    fun"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," testConversation"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        testApplication"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"            val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," client "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," createClient"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"                install"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(WebSockets)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"webSocket"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"/echo"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," greetingText "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (incoming."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"receive"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"as"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"? Frame.Text)?."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"readText"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() ?: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'""')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"                assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Please enter your name"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", greetingText)")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"                send"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(Frame."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Text"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"JetBrains"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," responseText "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (incoming."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"receive"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"as"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," Frame.Text)."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"readText"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"                assertEquals"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Hi, JetBrains!"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", responseText)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")])])])],-1)])),_:1})]),_:1}),t[78]||(t[78]=h('<h3 id="double-receive" tabindex="-1">DoubleReceive <a class="header-anchor" href="#double-receive" aria-label="Permalink to &quot;DoubleReceive {id=&quot;double-receive&quot;}&quot;">​</a></h3><p>v2.0.0では、<a href="./server-double-receive">DoubleReceive</a>プラグイン設定に<code>cacheRawRequest</code>プロパティが導入され、これは<code>receiveEntireContent</code>とは逆の動作をします。</p><ul><li>v1.6.xでは、<code>receiveEntireContent</code>プロパティはデフォルトで<code>false</code>に設定されています。</li><li>v2.0.0では、<code>cacheRawRequest</code>はデフォルトで<code>true</code>に設定されています。<code>receiveEntireContent</code>プロパティは削除されました。</li></ul><h3 id="forwarded-headers" tabindex="-1">Forwarded headers <a class="header-anchor" href="#forwarded-headers" aria-label="Permalink to &quot;Forwarded headers {id=&quot;forwarded-headers&quot;}&quot;">​</a></h3><p>v2.0.0では、<code>ForwardedHeaderSupport</code>と<code>XForwardedHeaderSupport</code>プラグインは、それぞれ<a href="./server-forward-headers">ForwardedHeaders</a>と<code>XForwardedHeaders</code>に名称変更されました。</p><h3 id="caching-headers" tabindex="-1">Caching headers <a class="header-anchor" href="#caching-headers" aria-label="Permalink to &quot;Caching headers {id=&quot;caching-headers&quot;}&quot;">​</a></h3><p>キャッシュオプションを定義するために使用される<a href="./server-caching-headers#configure">options</a>関数は、<code>OutgoingContent</code>に加えて<code>ApplicationCall</code>をラムダ引数として受け入れるようになりました。</p>',7)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[14]||(t[14]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"install"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(CachingHeaders) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    options"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { outgoingContent "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"->")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        // ...")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[15]||(t[15]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"install"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(CachingHeaders) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    options"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { call, outgoingContent "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"->")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        // ...")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1})]),_:1}),t[79]||(t[79]=i("h3",{id:"conditional-headers",tabindex:"-1"},[s("Conditional headers "),i("a",{class:"header-anchor",href:"#conditional-headers","aria-label":'Permalink to "Conditional headers {id="conditional-headers"}"'},"​")],-1)),t[80]||(t[80]=i("p",null,[s("リソースバージョンのリストを定義するために使用される"),i("a",{href:"./server-conditional-headers#configure"},"version"),s("関数は、"),i("code",null,"OutgoingContent"),s("に加えて"),i("code",null,"ApplicationCall"),s("をラムダ引数として受け入れるようになりました。")],-1)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[16]||(t[16]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"install"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(ConditionalHeaders) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    version"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { outgoingContent "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"->")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        // ... ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[17]||(t[17]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"install"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(ConditionalHeaders) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    version"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { call, outgoingContent "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"->")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        // ... ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1})]),_:1}),t[81]||(t[81]=h('<h3 id="cors" tabindex="-1">CORS <a class="header-anchor" href="#cors" aria-label="Permalink to &quot;CORS {id=&quot;cors&quot;}&quot;">​</a></h3><p><a href="./server-cors">CORS</a>設定で使用されるいくつかの関数が名称変更されました。</p><ul><li><code>host</code> -&gt; <code>allowHost</code></li><li><code>header</code> -&gt; <code>allowHeader</code></li><li><code>method</code> -&gt; <code>allowMethod</code></li></ul>',3)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[18]||(t[18]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"install"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(CORS) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    host"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"0.0.0.0:5000"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    header"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpHeaders.ContentType)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    method"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpMethod.Options)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[19]||(t[19]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"install"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(CORS) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    allowHost"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"0.0.0.0:5000"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    allowHeader"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpHeaders.ContentType)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    allowMethod"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpMethod.Options)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1})]),_:1}),t[82]||(t[82]=h('<h3 id="micrometer-metrics" tabindex="-1">MicrometerMetrics <a class="header-anchor" href="#micrometer-metrics" aria-label="Permalink to &quot;MicrometerMetrics {id=&quot;micrometer-metrics&quot;}&quot;">​</a></h3><p>v1.6.xでは、HTTPリクエストの監視に使用される<a href="./server-metrics-micrometer">Ktorメトリクス</a>のベース名（プレフィックス）を指定するために<code>baseName</code>プロパティが使用されます。 デフォルトでは、<code>ktor.http.server</code>に等しいです。 v2.0.0では、<code>baseName</code>は<code>metricName</code>に置き換えられ、そのデフォルト値は<code>ktor.http.server.requests</code>です。</p><h2 id="client" tabindex="-1">Ktorクライアント <a class="header-anchor" href="#client" aria-label="Permalink to &quot;Ktorクライアント {id=&quot;client&quot;}&quot;">​</a></h2><h3 id="request-response" tabindex="-1">リクエストとレスポンス <a class="header-anchor" href="#request-response" aria-label="Permalink to &quot;リクエストとレスポンス {id=&quot;request-response&quot;}&quot;">​</a></h3><p>v2.0.0では、リクエストとレスポンスを行うために使用されるAPIが、より一貫性があり発見しやすいように更新されました (<a href="https://youtrack.jetbrains.com/issue/KTOR-29" target="_blank" rel="noreferrer">KTOR-29</a>)。</p><h4 id="request-overloads" tabindex="-1">リクエスト関数 <a class="header-anchor" href="#request-overloads" aria-label="Permalink to &quot;リクエスト関数 {id=&quot;request-overloads&quot;}&quot;">​</a></h4><p>複数のパラメータを持つ<a href="./client-requests">リクエスト関数</a>は非推奨になりました。例えば、<code>port</code>および<code>path</code>パラメータは、<a href="https://api.ktor.io/ktor-client/ktor-client-core/io.ktor.client.request/-http-request-builder/index.html" target="_blank" rel="noreferrer">HttpRequestBuilder</a>によって公開される<code>url</code>パラメータに置き換える必要があります。</p>',7)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[20]||(t[20]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"get"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(port "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 8080"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", path "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "/customer/3"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[21]||(t[21]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"get"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"url"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(port "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 8080"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", path "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "/customer/3"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") }")])])])],-1)])),_:1})]),_:1}),t[83]||(t[83]=h('<p>また、<code>HttpRequestBuilder</code>を使用すると、リクエスト関数ラムダ内で追加の<a href="./client-requests#parameters">リクエストパラメータ</a>を指定できます。</p><h4 id="request-body" tabindex="-1">リクエストボディ <a class="header-anchor" href="#request-body" aria-label="Permalink to &quot;リクエストボディ {id=&quot;request-body&quot;}&quot;">​</a></h4><p><a href="./client-requests#body">リクエストボディ</a>を設定するために使用されていた<code>HttpRequestBuilder.body</code>プロパティは、<code>HttpRequestBuilder.setBody</code>関数に置き換えられました。</p>',3)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[22]||(t[22]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"post"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"http://localhost:8080/post"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    body "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "Body content"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[23]||(t[23]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"post"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"http://localhost:8080/post"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    setBody"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Body content"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1})]),_:1}),t[84]||(t[84]=h('<h4 id="responses" tabindex="-1">レスポンス <a class="header-anchor" href="#responses" aria-label="Permalink to &quot;レスポンス {id=&quot;responses&quot;}&quot;">​</a></h4><p>v2.0.0では、リクエスト関数（<code>get</code>、<code>post</code>、<code>put</code>、<a href="./client-requests#form_parameters">submitForm</a>など）は、特定の型のオブジェクトを受け取るためのジェネリック引数を受け入れなくなりました。 現在、すべてのリクエスト関数は<code>HttpResponse</code>オブジェクトを返します。これは、特定の型インスタンスを受け取るためのジェネリック引数を持つ<code>body</code>関数を公開しています。 コンテンツを文字列またはチャネルとして受け取るために、<code>bodyAsText</code>または<code>bodyAsChannel</code>を使用することもできます。</p>',2)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[24]||(t[24]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," httpResponse: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"HttpResponse"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"get"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"https://ktor.io/"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," stringBody: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"String"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," httpResponse."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"receive"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," byteArrayBody: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ByteArray"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," httpResponse."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"receive"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[25]||(t[25]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," httpResponse: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"HttpResponse"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"get"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"https://ktor.io/"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," stringBody: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"String"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," httpResponse."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"body"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," byteArrayBody: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ByteArray"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," httpResponse."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"body"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")])])])],-1)])),_:1})]),_:1}),t[85]||(t[85]=i("p",null,[i("a",{href:"./client-serialization"},"ContentNegotiation"),s("プラグインをインストールすると、以下のように任意のオブジェクトを受け取ることができます。")],-1)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[26]||(t[26]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," customer: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Customer"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"get"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"http://localhost:8080/customer/3"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[27]||(t[27]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," customer: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Customer"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"get"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"http://localhost:8080/customer/3"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"body"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")])])])],-1)])),_:1})]),_:1}),t[86]||(t[86]=h(`<h4 id="streaming-response" tabindex="-1">ストリーミングレスポンス <a class="header-anchor" href="#streaming-response" aria-label="Permalink to &quot;ストリーミングレスポンス {id=&quot;streaming-response&quot;}&quot;">​</a></h4><p>リクエスト関数から<a href="#responses">ジェネリック引数が削除された</a>ため、ストリーミングレスポンスを受け取るには個別の関数が必要です。 これを実現するために、<code>prepareGet</code>や<code>preparePost</code>などの<code>prepare</code>プレフィックスが付いた関数が追加されました。</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> suspend</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HttpClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">prepareGet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(builder: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HttpRequestBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">): </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HttpStatement</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> suspend</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HttpClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">preparePost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(builder: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HttpRequestBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">): </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HttpStatement</span></span></code></pre></div><p>以下に、この場合のコード変更方法の例を示します。</p>`,4)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[28]||(t[28]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"get"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"HttpStatement"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"https://ktor.io/"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"execute"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { httpResponse "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"->")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," channel: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ByteReadChannel"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," httpResponse."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"receive"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    while"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ("),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"!"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"channel.isClosedForRead) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        // Read data")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[29]||(t[29]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"prepareGet"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"https://ktor.io/"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"execute"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { httpResponse "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"->")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," channel: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ByteReadChannel"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," httpResponse."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"body"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    while"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ("),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"!"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"channel.isClosedForRead) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        // Read data")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1})]),_:1}),t[87]||(t[87]=h('<p>完全な例は、こちらで確認できます: <a href="./client-responses#streaming">ストリーミングデータ</a>。</p><h3 id="response-validation" tabindex="-1">レスポンス検証 <a class="header-anchor" href="#response-validation" aria-label="Permalink to &quot;レスポンス検証 {id=&quot;response-validation&quot;}&quot;">​</a></h3><p>v2.0.0では、<a href="./client-response-validation">レスポンス検証</a>に使用される<code>expectSuccess</code>プロパティは、デフォルトで<code>false</code>に設定されています。 これには、コードに以下の変更が必要です。</p><ul><li><a href="./client-response-validation#default">デフォルトの検証を有効にする</a>には、非2xxレスポンスに対して例外をスローするように、<code>expectSuccess</code>プロパティを<code>true</code>に設定します。</li><li>もし<code>handleResponseExceptionWithRequest</code>を使用して<a href="./client-response-validation#non-2xx">非2xx例外を処理する</a>場合、<code>expectSuccess</code>も明示的に有効にする必要があります。</li></ul><h4 id="http-response-validator" tabindex="-1">HttpResponseValidator <a class="header-anchor" href="#http-response-validator" aria-label="Permalink to &quot;HttpResponseValidator {id=&quot;http-response-validator&quot;}&quot;">​</a></h4><p><a href="./client-response-validation#non-2xx">handleResponseException</a>関数は、例外に追加情報を提供するために<code>HttpRequest</code>へのアクセスを追加する<code>handleResponseExceptionWithRequest</code>に置き換えられました。</p>',6)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[30]||(t[30]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"HttpResponseValidator"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    handleResponseException"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { exception "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"->")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        // ...")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[31]||(t[31]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"HttpResponseValidator"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    handleResponseExceptionWithRequest"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { exception, request "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"->")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        // ...")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1})]),_:1}),t[88]||(t[88]=h('<h3 id="serialization-client" tabindex="-1">コンテンツネゴシエーションとシリアライゼーション <a class="header-anchor" href="#serialization-client" aria-label="Permalink to &quot;コンテンツネゴシエーションとシリアライゼーション {id=&quot;serialization-client&quot;}&quot;">​</a></h3><p>Ktorクライアントは現在コンテンツネゴシエーションをサポートしており、Ktorサーバーとシリアライゼーションライブラリを共有しています。 主な変更点は以下の通りです。</p><ul><li><code>JsonFeature</code>は、<code>ktor-client-content-negotiation</code>アーティファクトにある<code>ContentNegotiation</code>を推奨し、非推奨になりました。</li><li>シリアライゼーションライブラリは<code>ktor-client-*</code>から<code>ktor-serialization-*</code>アーティファクトに移動されました。</li></ul><p>以下に示すように、クライアントコードの<a href="#imports-dependencies-client">依存関係</a>と<a href="#imports-serialization-client">インポート</a>を更新する必要があります。</p><h4 id="imports-dependencies-client" tabindex="-1">依存関係 <a class="header-anchor" href="#imports-dependencies-client" aria-label="Permalink to &quot;依存関係 {id=&quot;imports-dependencies-client&quot;}&quot;">​</a></h4><table tabindex="0"><thead><tr><th style="text-align:left;">サブシステム</th><th style="text-align:center;">1.6.x</th><th style="text-align:right;">2.0.0</th></tr></thead><tbody><tr><td style="text-align:left;"><code>ContentNegotiation</code></td><td style="text-align:center;">n/a</td><td style="text-align:right;"><code>io.ktor:ktor-client-content-negotiation</code></td></tr><tr><td style="text-align:left;">kotlinx.serialization</td><td style="text-align:center;"><code>io.ktor:ktor-client-serialization</code></td><td style="text-align:right;"><code>io.ktor:ktor-serialization-kotlinx-json</code></td></tr><tr><td style="text-align:left;">Gson</td><td style="text-align:center;"><code>io.ktor:ktor-client-gson</code></td><td style="text-align:right;"><code>io.ktor:ktor-serialization-gson</code></td></tr><tr><td style="text-align:left;">Jackson</td><td style="text-align:center;"><code>io.ktor:ktor-client-jackson</code></td><td style="text-align:right;"><code>io.ktor:ktor-serialization-jackson</code></td></tr></tbody></table><h4 id="imports-serialization-client" tabindex="-1">インポート <a class="header-anchor" href="#imports-serialization-client" aria-label="Permalink to &quot;インポート {id=&quot;imports-serialization-client&quot;}&quot;">​</a></h4><table tabindex="0"><thead><tr><th style="text-align:left;">サブシステム</th><th style="text-align:center;">1.6.x</th><th style="text-align:right;">2.0.0</th></tr></thead><tbody><tr><td style="text-align:left;"><code>ContentNegotiation</code></td><td style="text-align:center;">n/a</td><td style="text-align:right;"><code>import io.ktor.client.plugins.contentnegotiation.*</code></td></tr><tr><td style="text-align:left;">kotlinx.serialization</td><td style="text-align:center;"><code>import io.ktor.client.features.json.*</code></td><td style="text-align:right;"><code>import io.ktor.serialization.kotlinx.json.*</code></td></tr><tr><td style="text-align:left;">Gson</td><td style="text-align:center;"><code>import io.ktor.client.features.json.*</code></td><td style="text-align:right;"><code>import io.ktor.serialization.gson.*</code></td></tr><tr><td style="text-align:left;">Jackson</td><td style="text-align:center;"><code>import io.ktor.client.features.json.*</code></td><td style="text-align:right;"><code>import io.ktor.serialization.jackson.*</code></td></tr></tbody></table><h3 id="ベアラー認証" tabindex="-1">ベアラー認証 <a class="header-anchor" href="#ベアラー認証" aria-label="Permalink to &quot;ベアラー認証&quot;">​</a></h3><p><a href="./client-bearer-auth">refreshTokens</a>関数は、<code>HttpResponse</code>ラムダ引数（<code>it</code>）の代わりに、<a href="https://kotlinlang.org/docs/scope-functions.html#context-object-this-or-it" target="_blank" rel="noreferrer">ラムダレシーバー</a>（<code>this</code>）として<code>RefreshTokenParams</code>インスタンスを使用するようになりました。</p>',10)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[32]||(t[32]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"bearer"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    refreshTokens"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {  "),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// it: HttpResponse")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        // ...")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[33]||(t[33]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"bearer"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    refreshTokens"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { "),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// this: RefreshTokenParams")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        // ...")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1})]),_:1}),t[89]||(t[89]=h('<p><code>RefreshTokenParams</code>は以下のプロパティを公開しています。</p><ul><li><code>response</code>: レスポンスパラメータにアクセスするため</li><li><code>client</code>: トークンをリフレッシュするリクエストを行うため</li><li><code>oldTokens</code>: <code>loadTokens</code>を使用して取得したトークンにアクセスするため</li></ul><h3 id="http-send" tabindex="-1">HttpSend <a class="header-anchor" href="#http-send" aria-label="Permalink to &quot;HttpSend {id=&quot;http-send&quot;}&quot;">​</a></h3><p><a href="./client-http-send">HttpSend</a>プラグインのAPIは以下のように変更されました。</p>',4)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[34]||(t[34]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"client[HttpSend]."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"intercept"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { originalCall, request "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"->")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (originalCall."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"something"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," newCall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," execute"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(request)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        // ...")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[35]||(t[35]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plugin"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpSend)."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"intercept"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { request "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"->")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," originalCall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," execute"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(request)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (originalCall."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"something"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," newCall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," execute"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(request)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        // ...")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1})]),_:1}),t[90]||(t[90]=i("p",null,[s("v2.0.0では、プラグインへのインデックスアクセスは利用できないことに注意してください。"),i("a",{href:"#client-get"},"HttpClient.plugin"),s("関数を使用してください。")],-1)),t[91]||(t[91]=i("h3",{id:"client-get",tabindex:"-1"},[s("HttpClient.get(plugin: HttpClientPlugin) 関数は削除されました "),i("a",{class:"header-anchor",href:"#client-get","aria-label":'Permalink to "HttpClient.get(plugin: HttpClientPlugin) 関数は削除されました {id="client-get"}"'},"​")],-1)),t[92]||(t[92]=i("p",null,[s("2.0.0バージョンでは、クライアントプラグインを受け入れる"),i("code",null,"HttpClient.get"),s("関数は削除されました。代わりに"),i("code",null,"HttpClient.plugin"),s("関数を使用してください。")],-1)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[36]||(t[36]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"get"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpSend)."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"intercept"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},".."),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},". }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// or")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"client[HttpSend]."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"intercept"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},".."),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},". }")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[37]||(t[37]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"client."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plugin"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(HttpSend)."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"intercept"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},".."),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},". }")])])])],-1)])),_:1})]),_:1}),t[93]||(t[93]=h('<h3 id="feature-plugin-client" tabindex="-1">FeatureはPluginに名称変更されました <a class="header-anchor" href="#feature-plugin-client" aria-label="Permalink to &quot;FeatureはPluginに名称変更されました {id=&quot;feature-plugin-client&quot;}&quot;">​</a></h3><p>Ktorサーバーと同様に、クライアントAPIでも_Feature_は_Plugin_に名称変更されました。 これは以下に説明するように、アプリケーションに影響を与える可能性があります。</p><h4 id="feature-plugin-imports-client" tabindex="-1">インポート <a class="header-anchor" href="#feature-plugin-imports-client" aria-label="Permalink to &quot;インポート {id=&quot;feature-plugin-imports-client&quot;}&quot;">​</a></h4><p><a href="./client-plugins#install">プラグインのインストール</a>のためのインポートを更新します。</p>',4)),i("table",null,[t[62]||(t[62]=i("tr",null,[i("td",null,"サブシステム"),i("td",null,"1.6.x"),i("td",null,"2.0.0")],-1)),i("tr",null,[i("td",null,[e(o,null,{default:a(()=>[i("li",null,[e(k,{href:"/ktor/client-default-request",summary:"The DefaultRequest plugin allows you to configure default parameters for all requests."},{default:a(()=>t[38]||(t[38]=[s("Default request")])),_:1})]),i("li",null,[e(k,{href:"/ktor/client-user-agent",summary:"undefined"},{default:a(()=>t[39]||(t[39]=[s("User agent")])),_:1})]),i("li",null,[e(k,{href:"/ktor/client-text-and-charsets",summary:"undefined"},{default:a(()=>t[40]||(t[40]=[s("Charsets")])),_:1})]),i("li",null,[e(k,{href:"/ktor/client-response-validation",summary:"Learn how to validate a response depending on its status code."},{default:a(()=>t[41]||(t[41]=[s("Response validation")])),_:1})]),i("li",null,[e(k,{href:"/ktor/client-timeout",summary:"Code example: %example_name%"},{default:a(()=>t[42]||(t[42]=[s("Timeout")])),_:1})]),i("li",null,[e(k,{href:"/ktor/client-caching",summary:"The HttpCache plugin allows you to save previously fetched resources in an in-memory or persistent cache."},{default:a(()=>t[43]||(t[43]=[s("HttpCache")])),_:1})]),i("li",null,[e(k,{href:"/ktor/client-http-send",summary:"Code example: %example_name%"},{default:a(()=>t[44]||(t[44]=[s("HttpSend")])),_:1})])]),_:1})]),t[45]||(t[45]=i("td",null,[i("code",null,"import io.ktor.client.features.*")],-1)),t[46]||(t[46]=i("td",null,[i("code",null,"import io.ktor.client.plugins.*")],-1))]),i("tr",null,[i("td",null,[e(k,{href:"/ktor/client-auth",summary:"The Auth plugin handles authentication and authorization in your client application."},{default:a(()=>t[47]||(t[47]=[s("Authentication")])),_:1})]),t[48]||(t[48]=i("td",null,[i("code",null," import io.ktor.client.features.auth.* "),i("code",null," import io.ktor.client.features.auth.providers.* ")],-1)),t[49]||(t[49]=i("td",null,[i("code",null," import io.ktor.client.plugins.auth.* "),i("code",null," import io.ktor.client.plugins.auth.providers.* ")],-1))]),i("tr",null,[i("td",null,[e(k,{href:"/ktor/client-cookies",summary:"The HttpCookies plugin handles cookies automatically and keep them between calls in a storage."},{default:a(()=>t[50]||(t[50]=[s("Cookies")])),_:1})]),t[51]||(t[51]=i("td",null,[i("code",null,"import io.ktor.client.features.cookies.*")],-1)),t[52]||(t[52]=i("td",null,[i("code",null,"import io.ktor.client.plugins.cookies.*")],-1))]),i("tr",null,[i("td",null,[e(k,{href:"/ktor/client-logging",summary:"Required dependencies: io.ktor:ktor-client-logging Code example: %example_name%"},{default:a(()=>t[53]||(t[53]=[s("Logging")])),_:1})]),t[54]||(t[54]=i("td",null,[i("code",null,"import io.ktor.client.features.logging.*")],-1)),t[55]||(t[55]=i("td",null,[i("code",null,"import io.ktor.client.plugins.logging.*")],-1))]),i("tr",null,[i("td",null,[e(k,{href:"/ktor/client-websockets",summary:"The Websockets plugin allows you to create a multi-way communication session between a server and a client."},{default:a(()=>t[56]||(t[56]=[s("WebSockets")])),_:1})]),t[57]||(t[57]=i("td",null,[i("code",null,"import io.ktor.client.features.websocket.*")],-1)),t[58]||(t[58]=i("td",null,[i("code",null,"import io.ktor.client.plugins.websocket.*")],-1))]),i("tr",null,[i("td",null,[e(k,{href:"/ktor/client-content-encoding",summary:"The ContentEncoding plugin allows you to enable specified compression algorithms (such as 'gzip' and 'deflate') and configure their settings."},{default:a(()=>t[59]||(t[59]=[s("Content encoding")])),_:1})]),t[60]||(t[60]=i("td",null,[i("code",null,"import io.ktor.client.features.compression.*")],-1)),t[61]||(t[61]=i("td",null,[i("code",null,"import io.ktor.client.plugins.compression.*")],-1))])]),t[94]||(t[94]=h('<h4 id="feature-plugin-custom-client" tabindex="-1">カスタムプラグイン <a class="header-anchor" href="#feature-plugin-custom-client" aria-label="Permalink to &quot;カスタムプラグイン {id=&quot;feature-plugin-custom-client&quot;}&quot;">​</a></h4><p><code>HttpClientFeature</code>インターフェースは<code>HttpClientPlugin</code>に名称変更されました。</p><h3 id="new-mm" tabindex="-1">ネイティブターゲット向けの新しいメモリモデル <a class="header-anchor" href="#new-mm" aria-label="Permalink to &quot;ネイティブターゲット向けの新しいメモリモデル {id=&quot;new-mm&quot;}&quot;">​</a></h3><p>v2.0.0では、<a href="./client-engines#native">ネイティブ</a>ターゲットでKtorクライアントを使用するには、新しいKotlin/Nativeメモリモデルを有効にする必要があります: <a href="./https://github.com/JetBrains/kotlin/blob/master/kotlin-native/NEW_MM#enable-the-new-mm">新しいMMを有効にする</a>。</p><blockquote><p>v2.2.0以降、新しいKotlin/Nativeメモリモデルは<a href="./migration-to-22x#new-mm">デフォルトで有効</a>になっています。</p></blockquote><h3 id="darwin" tabindex="-1">&#39;Ios&#39; エンジンは &#39;Darwin&#39; に名称変更されました <a class="header-anchor" href="#darwin" aria-label="Permalink to &quot;&#39;Ios&#39; エンジンは &#39;Darwin&#39; に名称変更されました {id=&quot;darwin&quot;}&quot;">​</a></h3><p><code>Ios</code><a href="./client-engines">エンジン</a>がiOSだけでなく、macOSやtvOSを含む他のオペレーティングシステムもターゲットとしているため、v2.0.0では<code>Darwin</code>に名称変更されました。これにより、以下の変更が生じます。</p><ul><li><code>io.ktor:ktor-client-ios</code>アーティファクトは<code>io.ktor:ktor-client-darwin</code>に名称変更されました。</li><li><code>HttpClient</code>インスタンスを作成するには、<code>Darwin</code>クラスを引数として渡す必要があります。</li><li><code>IosClientEngineConfig</code>設定クラスは<code>DarwinClientEngineConfig</code>に名称変更されました。</li></ul><p><code>Darwin</code>エンジンの設定方法については、<a href="./client-engines#darwin">Darwin</a>セクションを参照してください。</p><h3 id="client-ws-package" tabindex="-1">WebSocketsコードは &#39;websockets&#39; パッケージに移動されました <a class="header-anchor" href="#client-ws-package" aria-label="Permalink to &quot;WebSocketsコードは &#39;websockets&#39; パッケージに移動されました {id=&quot;client-ws-package&quot;}&quot;">​</a></h3><p>WebSocketsコードは<code>http-cio</code>から<code>websockets</code>パッケージに移動されました。これにより、インポートを以下のように更新する必要があります。</p><table tabindex="0"><thead><tr><th style="text-align:left;">1.6.x</th><th style="text-align:right;">2.0.0</th></tr></thead><tbody><tr><td style="text-align:left;"><code>import io.ktor.http.cio.websocket.*</code></td><td style="text-align:right;"><code>import io.ktor.websocket.*</code></td></tr></tbody></table><h3 id="default-request" tabindex="-1">Default request <a class="header-anchor" href="#default-request" aria-label="Permalink to &quot;Default request {id=&quot;default-request&quot;}&quot;">​</a></h3><p><a href="./client-default-request">DefaultRequest</a>プラグインは、<code>HttpRequestBuilder</code>の代わりに<code>DefaultRequestBuilder</code>設定クラスを使用します。</p>',14)),e(n,{group:"ktor_versions"},{default:a(()=>[e(l,{title:"1.6.x","group-key":"1_6"},{default:a(()=>t[63]||(t[63]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," client "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," HttpClient"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(CIO) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    defaultRequest"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        // this: HttpRequestBuilder")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1}),e(l,{title:"2.0.0","group-key":"2_0"},{default:a(()=>t[64]||(t[64]=[i("div",{class:"language-kotlin vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"kotlin"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"val"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," client "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," HttpClient"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(CIO) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    defaultRequest"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        // this: DefaultRequestBuilder")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1})]),_:1})])}const b=p(c,[["render",y]]);export{v as __pageData,b as default};
