import{_ as r}from"./chunks/icon-1-done.B5D6C9SU.js";import{_ as d}from"./chunks/icon-2-done.e1N9yMQF.js";import{_ as E}from"./chunks/icon-3-done.D86i6ZaO.js";import{_ as o}from"./chunks/icon-4.CODFcxoy.js";import{_ as g}from"./chunks/icon-5-todo.DJgVODZv.js";import{_ as c,a as y}from"./chunks/multiplatform-mobile-upgrade-ios.C-YVNNGz.js";import{_ as F,a as u}from"./chunks/multiplatform-add-package.DxcZA53w.js";import{_ as C,C as p,c as m,o as B,j as i,G as n,ag as h,a,w as l}from"./chunks/framework.Bksy39di.js";const I=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"ja/kmp/multiplatform-upgrade-app.md","filePath":"ja/kmp/multiplatform-upgrade-app.md","lastUpdated":1755522191000}'),b={name:"ja/kmp/multiplatform-upgrade-app.md"};function A(v,s,D,f,w,S){const e=p("secondary-label"),t=p("Links"),k=p("tldr");return B(),m("div",null,[s[22]||(s[22]=i("h1",{id:"iosã¨androidã¦ã‚™ã‚ˆã‚Šå¤šãã®ãƒ­ã‚·ã‚™ãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹",tabindex:"-1"},[a("iOSã¨Androidã§ã‚ˆã‚Šå¤šãã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ "),i("a",{class:"header-anchor",href:"#iosã¨androidã¦ã‚™ã‚ˆã‚Šå¤šãã®ãƒ­ã‚·ã‚™ãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹","aria-label":'Permalink to "iOSã¨Androidã§ã‚ˆã‚Šå¤šãã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹"'},"â€‹")],-1)),n(e,{ref:"IntelliJ IDEA"},null,512),n(e,{ref:"Android Studio"},null,512),n(k,null,{default:l(()=>[s[19]||(s[19]=i("p",null,"ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯IntelliJ IDEAã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ãŒã€Android Studioã§ã‚‚åŒã˜ã‚ˆã†ã«é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã©ã¡ã‚‰ã®IDEã‚‚åŒã˜ã‚³ã‚¢æ©Ÿèƒ½ã¨Kotlin Multiplatformã‚µãƒãƒ¼ãƒˆã‚’å…±æœ‰ã—ã¦ã„ã¾ã™ã€‚",-1)),s[20]||(s[20]=i("br",null,null,-1)),s[21]||(s[21]=i("p",null,[a("ã“ã‚Œã¯ã€ã€Œ"),i("strong",null,"å…±æœ‰ãƒ­ã‚¸ãƒƒã‚¯ã¨ãƒã‚¤ãƒ†ã‚£ãƒ–UIã‚’å‚™ãˆãŸKotlin Multiplatformã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹"),a("ã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®ç¬¬4éƒ¨ã§ã™ã€‚å…ˆã«é€²ã‚€å‰ã«ã€å‰ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’å®Œäº†ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚")],-1)),i("p",null,[s[3]||(s[3]=i("img",{src:r,width:"20",alt:"First step"},null,-1)),s[4]||(s[4]=a()),n(t,{href:"/kmp/multiplatform-create-first-app",summary:"ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯IntelliJ IDEAã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ãŒã€Android Studioã§ã‚‚åŒã˜ã‚ˆã†ã«é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã©ã¡ã‚‰ã®IDEã‚‚åŒã˜ã‚³ã‚¢æ©Ÿèƒ½ã¨Kotlin Multiplatformã‚µãƒãƒ¼ãƒˆã‚’å…±æœ‰ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€å…±æœ‰ãƒ­ã‚¸ãƒƒã‚¯ã¨ãƒã‚¤ãƒ†ã‚£ãƒ–UIã‚’å‚™ãˆãŸKotlin Multiplatformã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®ç¬¬1éƒ¨ã§ã™ã€‚Kotlin Multiplatformã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æ›´æ–°ã™ã‚‹ã€ä¾å­˜é–¢ä¿‚ã‚’è¿½åŠ ã™ã‚‹ã€ã‚ˆã‚Šå¤šãã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç· ã‚ããã‚‹"},{default:l(()=>s[0]||(s[0]=[a("Kotlin Multiplatformã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹")])),_:1}),s[5]||(s[5]=i("br",null,null,-1)),s[6]||(s[6]=i("img",{src:d,width:"20",alt:"Second step"},null,-1)),s[7]||(s[7]=a()),n(t,{href:"/kmp/multiplatform-update-ui",summary:"ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯IntelliJ IDEAã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ãŒã€Android Studioã§ã‚‚åŒã˜ã‚ˆã†ã«é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã©ã¡ã‚‰ã®IDEã‚‚åŒã˜ã‚³ã‚¢æ©Ÿèƒ½ã¨Kotlin Multiplatformã‚µãƒãƒ¼ãƒˆã‚’å…±æœ‰ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€ã€Œå…±æœ‰ãƒ­ã‚¸ãƒƒã‚¯ã¨ãƒã‚¤ãƒ†ã‚£ãƒ–UIã‚’å‚™ãˆãŸKotlin Multiplatformã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹ã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®ç¬¬2éƒ¨ã§ã™ã€‚å…ˆã«é€²ã‚€å‰ã«ã€å‰ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’å®Œäº†ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚Kotlin Multiplatformã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æ›´æ–°ã™ã‚‹ã€ä¾å­˜é–¢ä¿‚ã‚’è¿½åŠ ã™ã‚‹ã€ã‚ˆã‚Šå¤šãã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç· ã‚ããã‚‹"},{default:l(()=>s[1]||(s[1]=[a("ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æ›´æ–°ã™ã‚‹")])),_:1}),s[8]||(s[8]=i("br",null,null,-1)),s[9]||(s[9]=i("img",{src:E,width:"20",alt:"Third step"},null,-1)),s[10]||(s[10]=a()),n(t,{href:"/kmp/multiplatform-dependencies",summary:"ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯IntelliJ IDEAã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ãŒã€Android Studioã§ã‚‚åŒã˜ã‚ˆã†ã«é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã©ã¡ã‚‰ã®IDEã‚‚åŒã˜ã‚³ã‚¢æ©Ÿèƒ½ã¨Kotlin Multiplatformã‚µãƒãƒ¼ãƒˆã‚’å…±æœ‰ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€ã€Œå…±æœ‰ãƒ­ã‚¸ãƒƒã‚¯ã¨ãƒã‚¤ãƒ†ã‚£ãƒ–UIã‚’å‚™ãˆãŸKotlin Multiplatformã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹ã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®ç¬¬3éƒ¨ã§ã™ã€‚å…ˆã«é€²ã‚€å‰ã«ã€å‰ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’å®Œäº†ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚Kotlin Multiplatformã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æ›´æ–°ã™ã‚‹ã€ä¾å­˜é–¢ä¿‚ã‚’è¿½åŠ ã™ã‚‹ã€ã‚ˆã‚Šå¤šãã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç· ã‚ããã‚‹"},{default:l(()=>s[2]||(s[2]=[a("ä¾å­˜é–¢ä¿‚ã‚’è¿½åŠ ã™ã‚‹")])),_:1}),s[11]||(s[11]=i("br",null,null,-1)),s[12]||(s[12]=i("img",{src:o,width:"20",alt:"Fourth step"},null,-1)),s[13]||(s[13]=a()),s[14]||(s[14]=i("strong",null,"ã‚ˆã‚Šå¤šãã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹",-1)),s[15]||(s[15]=i("br",null,null,-1)),s[16]||(s[16]=i("img",{src:g,width:"20",alt:"Fifth step"},null,-1)),s[17]||(s[17]=a(" ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç· ã‚ããã‚‹")),s[18]||(s[18]=i("br",null,null,-1))])]),_:1}),s[23]||(s[23]=h(`<p>å¤–éƒ¨ä¾å­˜é–¢ä¿‚ã‚’ä½¿ç”¨ã—ã¦å…±é€šãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã—ãŸã®ã§ã€ã‚ˆã‚Šè¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã‚’è¿½åŠ ã—å§‹ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ‡ãƒ¼ã‚¿ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã¯ã€Kotlin Multiplatformã‚’ä½¿ç”¨ã—ã¦ã‚³ãƒ¼ãƒ‰ã‚’å…±æœ‰ã™ã‚‹<a href="https://kotlinlang.org/lp/multiplatform/" target="_blank" rel="noreferrer">æœ€ã‚‚ä¸€èˆ¬çš„ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹</a>ã§ã™ã€‚ã“ã®ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ã‚’å®Œäº†ã—ãŸå¾Œã«å°†æ¥ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ãã‚Œã‚‰ã‚’ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ã€æœ€åˆã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ãã‚Œã‚‰ã‚’å®Ÿè£…ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã—ã‚‡ã†ã€‚</p><p>æ›´æ–°ã•ã‚ŒãŸã‚¢ãƒ—ãƒªã¯ã€<a href="https://github.com/r-spacex/SpaceX-API/tree/master/docs#rspacex-api-docs" target="_blank" rel="noreferrer">SpaceX API</a>ã‹ã‚‰ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆçµŒç”±ã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã€SpaceXãƒ­ã‚±ãƒƒãƒˆã®æœ€å¾Œã®æˆåŠŸã—ãŸæ‰“ã¡ä¸Šã’æ—¥ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</p><div class="note custom-block"><p class="custom-block-title">NOTE</p><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æœ€çµ‚çŠ¶æ…‹ã¯ã€ç•°ãªã‚‹ã‚³ãƒ«ãƒ¼ãƒãƒ³ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æŒã¤GitHubãƒªãƒã‚¸ãƒˆãƒªã®2ã¤ã®ãƒ–ãƒ©ãƒ³ãƒã§ç¢ºèªã§ãã¾ã™ã€‚ * <a href="https://github.com/kotlin-hands-on/get-started-with-kmp/tree/main" target="_blank" rel="noreferrer"><code>main</code></a>ãƒ–ãƒ©ãƒ³ãƒã«ã¯KMP-NativeCoroutinesã®å®Ÿè£…ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ * <a href="https://github.com/kotlin-hands-on/get-started-with-kmp/tree/main-skie" target="_blank" rel="noreferrer"><code>main-skie</code></a>ãƒ–ãƒ©ãƒ³ãƒã«ã¯SKIEã®å®Ÿè£…ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚</p></div><h2 id="ä¾å­˜é–¢ä¿‚ã‚’è¿½åŠ ã™ã‚‹" tabindex="-1">ä¾å­˜é–¢ä¿‚ã‚’è¿½åŠ ã™ã‚‹ <a class="header-anchor" href="#ä¾å­˜é–¢ä¿‚ã‚’è¿½åŠ ã™ã‚‹" aria-label="Permalink to &quot;ä¾å­˜é–¢ä¿‚ã‚’è¿½åŠ ã™ã‚‹&quot;">â€‹</a></h2><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ä»¥ä¸‹ã®ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p><ul><li><a href="https://github.com/Kotlin/kotlinx.coroutines" target="_blank" rel="noreferrer"><code>kotlinx.coroutines</code></a>ï¼šåŒæ™‚æ“ä½œã‚’å¯èƒ½ã«ã™ã‚‹éåŒæœŸã‚³ãƒ¼ãƒ‰ã«ã‚³ãƒ«ãƒ¼ãƒãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã€‚</li><li><a href="https://github.com/Kotlin/kotlinx.serialization" target="_blank" rel="noreferrer"><code>kotlinx.serialization</code></a>ï¼šJSONãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ“ä½œã®å‡¦ç†ã«ä½¿ç”¨ã•ã‚Œã‚‹ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã™ã‚‹ãŸã‚ã€‚</li><li><a href="https://ktor.io/" target="_blank" rel="noreferrer">Ktor</a>ï¼šã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆçµŒç”±ã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹ãŸã‚ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€‚</li></ul><h3 id="kotlinx-coroutines" tabindex="-1">kotlinx.coroutines <a class="header-anchor" href="#kotlinx-coroutines" aria-label="Permalink to &quot;kotlinx.coroutines&quot;">â€‹</a></h3><p><code>kotlinx.coroutines</code>ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¿½åŠ ã™ã‚‹ã«ã¯ã€å…±é€šã‚½ãƒ¼ã‚¹ã‚»ãƒƒãƒˆã§ä¾å­˜é–¢ä¿‚ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã“ã‚Œã‚’è¡Œã†ã«ã¯ã€å…±æœ‰ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®<code>build.gradle.kts</code>ãƒ•ã‚¡ã‚¤ãƒ«ã«æ¬¡ã®è¡Œã‚’è¿½åŠ ã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kotlin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ... </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    sourceSets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        commonMain.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">           // ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">           implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.10.2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Multiplatform Gradleãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€<code>kotlinx.coroutines</code>ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å›ºæœ‰ï¼ˆiOSãŠã‚ˆã³Androidï¼‰ã®éƒ¨åˆ†ã«è‡ªå‹•çš„ã«ä¾å­˜é–¢ä¿‚ã‚’è¿½åŠ ã—ã¾ã™ã€‚</p><h3 id="kotlinx-serialization" tabindex="-1">kotlinx.serialization <a class="header-anchor" href="#kotlinx-serialization" aria-label="Permalink to &quot;kotlinx.serialization&quot;">â€‹</a></h3><p><code>kotlinx.serialization</code>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€å¯¾å¿œã™ã‚‹Gradleãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¨­å®šã—ã¾ã™ã€‚ ã“ã‚Œã‚’è¡Œã†ã«ã¯ã€å…±æœ‰ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®<code>build.gradle.kts</code>ãƒ•ã‚¡ã‚¤ãƒ«ã®å†’é ­ã«ã‚ã‚‹æ—¢å­˜ã®<code>plugins {}</code>ãƒ–ãƒ­ãƒƒã‚¯ã«æ¬¡ã®è¡Œã‚’è¿½åŠ ã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plugins</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    kotlin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;plugin.serialization&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) version </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2.2.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="ktor" tabindex="-1">Ktor <a class="header-anchor" href="#ktor" aria-label="Permalink to &quot;Ktor&quot;">â€‹</a></h3><p>å…±æœ‰ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å…±é€šã‚½ãƒ¼ã‚¹ã‚»ãƒƒãƒˆã«ã‚³ã‚¢ä¾å­˜é–¢ä¿‚ï¼ˆ<code>ktor-client-core</code>ï¼‰ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ ã•ã‚‰ã«ã€ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä¾å­˜é–¢ä¿‚ã‚‚è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p><ul><li>ç‰¹å®šã®å½¢å¼ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºãŠã‚ˆã³ãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã§ãã‚‹<code>ContentNegotiation</code>æ©Ÿèƒ½ï¼ˆ<code>ktor-client-content-negotiation</code>ï¼‰ã‚’è¿½åŠ ã—ã¾ã™ã€‚</li><li>Ktorã«JSONå½¢å¼ã¨<code>kotlinx.serialization</code>ã‚’ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«æŒ‡ç¤ºã™ã‚‹ãŸã‚ã«ã€<code>ktor-serialization-kotlinx-json</code>ä¾å­˜é–¢ä¿‚ã‚’è¿½åŠ ã—ã¾ã™ã€‚Ktorã¯JSONãƒ‡ãƒ¼ã‚¿ã‚’æœŸå¾…ã—ã€å¿œç­”ã‚’å—ä¿¡ã—ãŸã¨ãã«ãã‚Œã‚’ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ã«ãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã—ã¾ã™ã€‚</li><li>ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚½ãƒ¼ã‚¹ã‚»ãƒƒãƒˆï¼ˆ<code>ktor-client-android</code>ã€<code>ktor-client-darwin</code>ï¼‰ã®å¯¾å¿œã™ã‚‹ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã«ä¾å­˜é–¢ä¿‚ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚¨ãƒ³ã‚¸ãƒ³ã‚’æä¾›ã—ã¾ã™ã€‚</li></ul><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kotlin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ktorVersion </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;3.2.3&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    sourceSets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        commonMain.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;io.ktor:ktor-client-core:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$ktorVersion</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;io.ktor:ktor-client-content-negotiation:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$ktorVersion</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;io.ktor:ktor-serialization-kotlinx-json:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$ktorVersion</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        androidMain.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;io.ktor:ktor-client-android:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$ktorVersion</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        iosMain.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;io.ktor:ktor-client-darwin:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$ktorVersion</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Sync Gradle Changes</strong>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€Gradleãƒ•ã‚¡ã‚¤ãƒ«ã‚’åŒæœŸã—ã¾ã™ã€‚</p><h2 id="apiãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹" tabindex="-1">APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹ <a class="header-anchor" href="#apiãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹" aria-label="Permalink to &quot;APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹&quot;">â€‹</a></h2><p>ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«<a href="https://github.com/r-spacex/SpaceX-API/tree/master/docs#rspacex-api-docs" target="_blank" rel="noreferrer">SpaceX API</a>ã‚’ä½¿ç”¨ã—ã€<strong>v4/launches</strong>ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‹ã‚‰ã™ã¹ã¦ã®æ‰“ã¡ä¸Šã’ã®ãƒªã‚¹ãƒˆã‚’å–å¾—ã™ã‚‹ãŸã‚ã®å˜ä¸€ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p><h3 id="ãƒ†ã‚™ãƒ¼ã‚¿ãƒ¢ãƒ†ã‚™ãƒ«ã‚’è¿½åŠ ã™ã‚‹" tabindex="-1">ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã‚’è¿½åŠ ã™ã‚‹ <a class="header-anchor" href="#ãƒ†ã‚™ãƒ¼ã‚¿ãƒ¢ãƒ†ã‚™ãƒ«ã‚’è¿½åŠ ã™ã‚‹" aria-label="Permalink to &quot;ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã‚’è¿½åŠ ã™ã‚‹&quot;">â€‹</a></h3><p><code>shared/src/commonMain/kotlin/.../greetingkmp</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æ–°ã—ã„<code>RocketLaunch.kt</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€SpaceX APIã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’æ ¼ç´ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> kotlinx.serialization.SerialName</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> kotlinx.serialization.Serializable</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@Serializable</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RocketLaunch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @SerialName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flight_number&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> flightNumber: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @SerialName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> missionName: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @SerialName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;date_utc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> launchDateUTC: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @SerialName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> launchSuccess: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">?,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><ul><li><code>RocketLaunch</code>ã‚¯ãƒ©ã‚¹ã«ã¯<code>@Serializable</code>ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒä»˜ã‘ã‚‰ã‚Œã¦ã„ã‚‹ãŸã‚ã€<code>kotlinx.serialization</code>ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯è‡ªå‹•çš„ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¶ãƒ¼ã‚’ç”Ÿæˆã§ãã¾ã™ã€‚</li><li><code>@SerialName</code>ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã‚’å†å®šç¾©ã§ãã‚‹ãŸã‚ã€ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ã§ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ã‚ˆã‚Šèª­ã¿ã‚„ã™ã„åå‰ã§å®£è¨€ã§ãã¾ã™ã€‚</li></ul><h3 id="httpã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’æ¥ç¶šã™ã‚‹" tabindex="-1">HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’æ¥ç¶šã™ã‚‹ <a class="header-anchor" href="#httpã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’æ¥ç¶šã™ã‚‹" aria-label="Permalink to &quot;HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’æ¥ç¶šã™ã‚‹&quot;">â€‹</a></h3><ol><li><p><code>shared/src/commonMain/kotlin/.../greetingkmp</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æ–°ã—ã„<code>RocketComponent</code>ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚</p></li><li><p>HTTP GETãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€šã˜ã¦ãƒ­ã‚±ãƒƒãƒˆæ‰“ã¡ä¸Šã’æƒ…å ±ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®<code>httpClient</code>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> io.ktor.client.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> io.ktor.client.plugins.contentnegotiation.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> io.ktor.serialization.kotlinx.json.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> kotlinx.serialization.json.Json</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RocketComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> httpClient </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HttpClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        install</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ContentNegotiation) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                prettyPrint </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                isLenient </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                ignoreUnknownKeys </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><a href="https://ktor.io/docs/serialization-client.html#register_json" target="_blank" rel="noreferrer">ContentNegotiation Ktorãƒ—ãƒ©ã‚°ã‚¤ãƒ³</a>ã¨JSONã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¶ãƒ¼ã¯ã€GETãƒªã‚¯ã‚¨ã‚¹ãƒˆã®çµæœã‚’ãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã—ã¾ã™ã€‚</li><li>ã“ã“ã§ã®JSONã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¶ãƒ¼ã¯ã€<code>prettyPrint</code>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚ˆã‚ŠJSONã‚’ã‚ˆã‚Šèª­ã¿ã‚„ã™ã„å½¢å¼ã§å‡ºåŠ›ã™ã‚‹ã‚ˆã†ã«è¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚<code>isLenient</code>ã«ã‚ˆã‚Šä¸æ­£ãªå½¢å¼ã®JSONã‚’èª­ã¿å–ã‚‹éš›ã«æŸ”è»Ÿæ€§ãŒé«˜ã¾ã‚Šã€<code>ignoreUnknownKeys</code>ã«ã‚ˆã‚Šãƒ­ã‚±ãƒƒãƒˆæ‰“ã¡ä¸Šã’ãƒ¢ãƒ‡ãƒ«ã§å®£è¨€ã•ã‚Œã¦ã„ãªã„ã‚­ãƒ¼ã‚’ç„¡è¦–ã—ã¾ã™ã€‚</li></ul></li><li><p><code>RocketComponent</code>ã«<code>getDateOfLastSuccessfulLaunch()</code>ã‚µã‚¹ãƒšãƒ³ãƒ‰é–¢æ•°ã‚’è¿½åŠ ã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RocketComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> suspend</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getDateOfLastSuccessfulLaunch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p><code>httpClient.get()</code>é–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¦ã€ãƒ­ã‚±ãƒƒãƒˆæ‰“ã¡ä¸Šã’æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> io.ktor.client.request.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> io.ktor.client.call.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RocketComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> suspend</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getDateOfLastSuccessfulLaunch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rockets: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">List</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RocketLaunch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> httpClient.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.spacexdata.com/v4/launches&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><code>httpClient.get()</code>ã‚‚ã‚µã‚¹ãƒšãƒ³ãƒ‰é–¢æ•°ã§ã™ã€‚ã“ã‚Œã¯ã€ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã›ãšã«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çµŒç”±ã§éåŒæœŸã«ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã§ã™ã€‚</li><li>ã‚µã‚¹ãƒšãƒ³ãƒ‰é–¢æ•°ã¯ã€ã‚³ãƒ«ãƒ¼ãƒãƒ³ã¾ãŸã¯ä»–ã®ã‚µã‚¹ãƒšãƒ³ãƒ‰é–¢æ•°ã‹ã‚‰ã®ã¿å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚ŒãŒ<code>getDateOfLastSuccessfulLaunch()</code>ãŒ<code>suspend</code>ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ãƒãƒ¼ã‚¯ã•ã‚ŒãŸç†ç”±ã§ã™ã€‚ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ã‚¹ãƒ¬ãƒƒãƒ‰ãƒ—ãƒ¼ãƒ«ã§å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚</li></ul></li><li><p>é–¢æ•°ã‚’å†åº¦æ›´æ–°ã—ã¦ã€ãƒªã‚¹ãƒˆå†…ã®æœ€å¾Œã®æˆåŠŸã—ãŸæ‰“ã¡ä¸Šã’ã‚’è¦‹ã¤ã‘ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RocketComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> suspend</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getDateOfLastSuccessfulLaunch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rockets: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">List</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RocketLaunch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> httpClient.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.spacexdata.com/v4/launches&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lastSuccessLaunch </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rockets.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">last</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { it.launchSuccess </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>ãƒ­ã‚±ãƒƒãƒˆæ‰“ã¡ä¸Šã’ã®ãƒªã‚¹ãƒˆã¯ã€å¤ã„ã‚‚ã®ã‹ã‚‰æ–°ã—ã„ã‚‚ã®ã¸ã¨æ—¥ä»˜é †ã«ã‚½ãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚</p></li><li><p>æ‰“ã¡ä¸Šã’æ—¥ã‚’UTCã‹ã‚‰ãƒ­ãƒ¼ã‚«ãƒ«æ—¥æ™‚ã«å¤‰æ›ã—ã€å‡ºåŠ›ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> kotlinx.datetime.TimeZone</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> kotlinx.datetime.toLocalDateTime</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> kotlin.time.Instant</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RocketComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> suspend</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getDateOfLastSuccessfulLaunch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rockets: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">List</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RocketLaunch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            httpClient.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.spacexdata.com/v4/launches&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lastSuccessLaunch </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rockets.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">last</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { it.launchSuccess </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> date </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Instant.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lastSuccessLaunch.launchDateUTC)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toLocalDateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(TimeZone.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentSystemDefault</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;\${date.month} \${date.day}, \${date.year}&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>æ—¥ä»˜ã¯ã€ŒMMMM DD, YYYYã€å½¢å¼ã«ãªã‚Šã¾ã™ï¼ˆä¾‹ï¼šOCTOBER 5, 2022ï¼‰ã€‚</p></li><li><p><code>getDateOfLastSuccessfulLaunch()</code>é–¢æ•°ã‚’ä½¿ç”¨ã—ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹ã€ã‚‚ã†1ã¤ã®ã‚µã‚¹ãƒšãƒ³ãƒ‰é–¢æ•°<code>launchPhrase()</code>ã‚’è¿½åŠ ã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RocketComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    suspend</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> launchPhrase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;The last successful launch was on \${</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getDateOfLastSuccessfulLaunch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">()} ğŸš€&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (e: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Exception</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Exception during getting the date of the last successful launch </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;Error occurred&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ol><h3 id="flowã‚’ä½œæˆã™ã‚‹" tabindex="-1">Flowã‚’ä½œæˆã™ã‚‹ <a class="header-anchor" href="#flowã‚’ä½œæˆã™ã‚‹" aria-label="Permalink to &quot;Flowã‚’ä½œæˆã™ã‚‹&quot;">â€‹</a></h3><p>ã‚µã‚¹ãƒšãƒ³ãƒ‰é–¢æ•°ã®ä»£ã‚ã‚Šã«Flowã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚ã“ã‚Œã‚‰ã¯ã€ã‚µã‚¹ãƒšãƒ³ãƒ‰é–¢æ•°ãŒè¿”ã™å˜ä¸€ã®å€¤ã§ã¯ãªãã€å€¤ã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’ç™ºè¡Œã—ã¾ã™ã€‚</p><ol><li><p><code>shared/src/commonMain/kotlin</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚‹<code>Greeting.kt</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã¾ã™ã€‚</p></li><li><p><code>Greeting</code>ã‚¯ãƒ©ã‚¹ã«<code>rocketComponent</code>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã—ã¾ã™ã€‚ã“ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã¯ã€æœ€å¾Œã®æˆåŠŸã—ãŸæ‰“ã¡ä¸Šã’æ—¥ã‚’å«ã‚€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæ ¼ç´ã•ã‚Œã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rocketComponent </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RocketComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div></li><li><p><code>greet()</code>é–¢æ•°ãŒ<code>Flow</code>ã‚’è¿”ã™ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> kotlinx.coroutines.delay</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> kotlinx.coroutines.flow.Flow</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> kotlinx.coroutines.flow.flow</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> kotlin.time.Duration.Companion.seconds</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Greeting</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> greet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Flow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> flow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Random.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nextBoolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hi!&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> else</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Hello!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.seconds)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Guess what this is! &gt; \${platform.name.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reversed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">()}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.seconds)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">daysPhrase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rocketComponent.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">launchPhrase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><code>Flow</code>ã¯ã€ã™ã¹ã¦ã®ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹<code>flow()</code>ãƒ“ãƒ«ãƒ€ãƒ¼é–¢æ•°ã§ã“ã“ã«ä½œæˆã•ã‚Œã¾ã™ã€‚</li><li><code>Flow</code>ã¯ã€å„ç™ºè¡Œé–“ã«1ç§’ã®é…å»¶ã‚’ä¼´ã£ã¦æ–‡å­—åˆ—ã‚’ç™ºè¡Œã—ã¾ã™ã€‚æœ€å¾Œã®è¦ç´ ã¯ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å¿œç­”ãŒè¿”ã•ã‚ŒãŸå¾Œã«ã®ã¿ç™ºè¡Œã•ã‚Œã‚‹ãŸã‚ã€æ­£ç¢ºãªé…å»¶ã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ã€‚</li></ul></li></ol><h3 id="ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚’è¿½åŠ ã™ã‚‹" tabindex="-1">ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚’è¿½åŠ ã™ã‚‹ <a class="header-anchor" href="#ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚’è¿½åŠ ã™ã‚‹" aria-label="Permalink to &quot;ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚’è¿½åŠ ã™ã‚‹&quot;">â€‹</a></h3><p>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ã€Androidã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«é©åˆ‡ãªæ¨©é™ãŒå¿…è¦ã§ã™ã€‚ã™ã¹ã¦ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯å…±æœ‰ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰è¡Œã‚ã‚Œã‚‹ãŸã‚ã€ãã®ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚’è¿½åŠ ã™ã‚‹ã®ãŒç†ã«ã‹ãªã£ã¦ã„ã¾ã™ã€‚</p><p><code>composeApp/src/androidMain/AndroidManifest.xml</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã§æ›´æ–°ã—ã¾ã™ã€‚</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;?</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">xml</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;utf-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">?&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">manifest</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xmlns:android</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://schemas.android.com/apk/res/android&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uses-permission</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> android:name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;android.permission.INTERNET&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">manifest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><code>greet()</code>é–¢æ•°ã®æˆ»ã‚Šå€¤ã®å‹ã‚’<code>Flow</code>ã«å¤‰æ›´ã™ã‚‹ã“ã¨ã§ã€å…±æœ‰ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®APIã¯ã™ã§ã«æ›´æ–°ã•ã‚Œã¦ã„ã¾ã™ã€‚ æ¬¡ã«ã€<code>greet()</code>é–¢æ•°å‘¼ã³å‡ºã—ã®çµæœã‚’é©åˆ‡ã«å‡¦ç†ã§ãã‚‹ã‚ˆã†ã«ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒã‚¤ãƒ†ã‚£ãƒ–éƒ¨åˆ†ã‚’æ›´æ–°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p><h2 id="ãƒã‚¤ãƒ†ã‚£ãƒ•ã‚™android-uiã‚’æ›´æ–°ã™ã‚‹" tabindex="-1">ãƒã‚¤ãƒ†ã‚£ãƒ–Android UIã‚’æ›´æ–°ã™ã‚‹ <a class="header-anchor" href="#ãƒã‚¤ãƒ†ã‚£ãƒ•ã‚™android-uiã‚’æ›´æ–°ã™ã‚‹" aria-label="Permalink to &quot;ãƒã‚¤ãƒ†ã‚£ãƒ–Android UIã‚’æ›´æ–°ã™ã‚‹&quot;">â€‹</a></h2><p>å…±æœ‰ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨Androidã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸¡æ–¹ãŒKotlinã§è¨˜è¿°ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€Androidã‹ã‚‰å…±æœ‰ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã®ã¯ç°¡å˜ã§ã™ã€‚</p><h3 id="ãƒ’ã‚™ãƒ¥ãƒ¼ãƒ¢ãƒ†ã‚™ãƒ«ã‚’å°å…¥ã™ã‚‹" tabindex="-1">ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ‡ãƒ«ã‚’å°å…¥ã™ã‚‹ <a class="header-anchor" href="#ãƒ’ã‚™ãƒ¥ãƒ¼ãƒ¢ãƒ†ã‚™ãƒ«ã‚’å°å…¥ã™ã‚‹" aria-label="Permalink to &quot;ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ‡ãƒ«ã‚’å°å…¥ã™ã‚‹&quot;">â€‹</a></h3><p>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚ˆã‚Šè¤‡é›‘ã«ãªã‚‹ã«ã¤ã‚Œã¦ã€UIã‚’å®Ÿè£…ã™ã‚‹<code>App()</code>é–¢æ•°ã‚’å‘¼ã³å‡ºã™<a href="https://developer.android.com/guide/components/activities/intro-activities" target="_blank" rel="noreferrer">Androidã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£</a>ã§ã‚ã‚‹<code>MainActivity</code>ã«ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ‡ãƒ«ã‚’å°å…¥ã™ã‚‹æ™‚ãŒæ¥ã¾ã—ãŸã€‚ ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ‡ãƒ«ã¯ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç®¡ç†ã—ã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãŒãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«å¤‰æ›´ã‚’å—ã‘ã¦ã‚‚æ¶ˆæ»…ã—ã¾ã›ã‚“ã€‚</p><ol><li><p><code>composeApp/build.gradle.kts</code>ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã®ä¾å­˜é–¢ä¿‚ã‚’è¿½åŠ ã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">androidMain.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;androidx.lifecycle:lifecycle-runtime-compose:2.6.2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;androidx.lifecycle:lifecycle-viewmodel-compose:2.6.2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p><code>composeApp/src/androidMain/kotlin/com/jetbrains/greeting/greetingkmp</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã€æ–°ã—ã„<code>MainViewModel</code> Kotlinã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> androidx.lifecycle.ViewModel</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MainViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>ã“ã®ã‚¯ãƒ©ã‚¹ã¯Androidã®<code>ViewModel</code>ã‚¯ãƒ©ã‚¹ã‚’æ‹¡å¼µã—ã¦ãŠã‚Šã€ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¨è¨­å®šå¤‰æ›´ã«é–¢ã—ã¦æ­£ã—ã„å‹•ä½œã‚’ä¿è¨¼ã—ã¾ã™ã€‚</p></li><li><p><a href="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-state-flow/" target="_blank" rel="noreferrer">StateFlow</a>å‹ã®<code>greetingList</code>å€¤ã¨ã€ãã®ãƒãƒƒã‚­ãƒ³ã‚°ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½œæˆã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> kotlinx.coroutines.flow.MutableStateFlow</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> kotlinx.coroutines.flow.StateFlow</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MainViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _greetingList </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MutableStateFlow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">List</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> greetingList: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">StateFlow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">List</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _greetingList</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>ã“ã“ã§ã®<code>StateFlow</code>ã¯<code>Flow</code>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æ‹¡å¼µã—ã¦ã„ã¾ã™ãŒã€å˜ä¸€ã®å€¤ã¾ãŸã¯çŠ¶æ…‹ã‚’æŒã¡ã¾ã™ã€‚</li><li>ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãªãƒãƒƒã‚­ãƒ³ã‚°ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£<code>_greetingList</code>ã¯ã€ã“ã®ã‚¯ãƒ©ã‚¹ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ã¿ãŒèª­ã¿å–ã‚Šå°‚ç”¨ã®<code>greetingList</code>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã“ã¨ã‚’ä¿è¨¼ã—ã¾ã™ã€‚</li></ul></li><li><p>View Modelã®<code>init</code>é–¢æ•°ã§ã€<code>Greeting().greet()</code>ãƒ•ãƒ­ãƒ¼ã‹ã‚‰ã™ã¹ã¦ã®æ–‡å­—åˆ—ã‚’åé›†ã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> androidx.lifecycle.viewModelScope</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> kotlinx.coroutines.launch</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MainViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _greetingList </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MutableStateFlow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">List</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> greetingList: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">StateFlow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">List</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _greetingList</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        viewModelScope.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">launch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            Greeting</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">greet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { phrase </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                 //...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><p><code>collect()</code>é–¢æ•°ã¯ã‚µã‚¹ãƒšãƒ³ãƒ‰ã•ã‚Œã‚‹ãŸã‚ã€ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ‡ãƒ«ã®ã‚¹ã‚³ãƒ¼ãƒ—å†…ã§<code>launch</code>ã‚³ãƒ«ãƒ¼ãƒãƒ³ãŒä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ ã“ã‚Œã¯ã€<code>launch</code>ã‚³ãƒ«ãƒ¼ãƒãƒ³ãŒãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ‡ãƒ«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã®æ­£ã—ã„ãƒ•ã‚§ãƒ¼ã‚ºä¸­ã®ã¿å®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚</p></li><li><p><code>collect</code>ã®å¾Œç¶šãƒ©ãƒ ãƒ€å†…ã§ã€åé›†ã•ã‚ŒãŸ<code>phrase</code>ã‚’<code>list</code>å†…ã®ãƒ•ãƒ¬ãƒ¼ã‚ºã®ãƒªã‚¹ãƒˆã«è¿½åŠ ã™ã‚‹ã‚ˆã†ã«<code>_greetingList</code>ã®å€¤ã‚’æ›´æ–°ã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> kotlinx.coroutines.flow.update</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MainViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        viewModelScope.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">launch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            Greeting</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">greet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { phrase </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                _greetingList.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { list </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> list </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> phrase }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><code>update()</code>é–¢æ•°ã¯å€¤ã‚’è‡ªå‹•çš„ã«æ›´æ–°ã—ã¾ã™ã€‚</p></li></ol><h3 id="ãƒ’ã‚™ãƒ¥ãƒ¼ãƒ¢ãƒ†ã‚™ãƒ«ã®flowã‚’ä½¿ç”¨ã™ã‚‹" tabindex="-1">ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ‡ãƒ«ã®Flowã‚’ä½¿ç”¨ã™ã‚‹ <a class="header-anchor" href="#ãƒ’ã‚™ãƒ¥ãƒ¼ãƒ¢ãƒ†ã‚™ãƒ«ã®flowã‚’ä½¿ç”¨ã™ã‚‹" aria-label="Permalink to &quot;ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ‡ãƒ«ã®Flowã‚’ä½¿ç”¨ã™ã‚‹&quot;">â€‹</a></h3><ol><li><p><code>composeApp/src/androidMain/kotlin</code>ã«ã‚ã‚‹<code>App.kt</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã€ä»¥å‰ã®å®Ÿè£…ã‚’ç½®ãæ›ãˆã‚‹ã‚ˆã†ã«æ›´æ–°ã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> androidx.lifecycle.compose.collectAsStateWithLifecycle</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> androidx.compose.runtime.getValue</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> androidx.lifecycle.viewmodel.compose.viewModel</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@Composable</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> App</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mainViewModel: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainViewModel</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> viewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    MaterialTheme</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> greetings </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">by</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mainViewModel.greetingList.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">collectAsStateWithLifecycle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        Column</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            modifier </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Modifier</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">safeContentPadding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fillMaxSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            verticalArrangement </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Arrangement.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">spacedBy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.dp),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            greetings.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { greeting </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(greeting)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                HorizontalDivider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><code>greetingList</code>ã«å¯¾ã™ã‚‹<code>collectAsStateWithLifecycle()</code>é–¢æ•°å‘¼ã³å‡ºã—ã¯ã€ViewModelã®Flowã‹ã‚‰å€¤ã‚’åé›†ã—ã€ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’æ„è­˜ã—ãŸæ–¹æ³•ã§ãã‚Œã‚’ã‚³ãƒ³ãƒãƒ¼ã‚¶ãƒ–ãƒ«ã‚¹ãƒ†ãƒ¼ãƒˆã¨ã—ã¦è¡¨ç¾ã—ã¾ã™ã€‚</li><li>æ–°ã—ã„FlowãŒä½œæˆã•ã‚Œã‚‹ã¨ã€ã‚³ãƒ³ãƒãƒ¼ã‚ºã®çŠ¶æ…‹ãŒå¤‰æ›´ã•ã‚Œã€åŒºåˆ‡ã‚Šç·šã§åŒºåˆ‡ã‚‰ã‚ŒãŸã‚°ãƒªãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ•ãƒ¬ãƒ¼ã‚ºãŒå‚ç›´ã«é…ç½®ã•ã‚ŒãŸã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ãª<code>Column</code>ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</li></ul></li><li><p>çµæœã‚’ç¢ºèªã™ã‚‹ã«ã¯ã€<strong>composeApp</strong>æ§‹æˆã‚’å†å®Ÿè¡Œã—ã¾ã™ã€‚</p></li></ol><p><img src="`+c+`" alt="Final results" width="300"></p><h2 id="ãƒã‚¤ãƒ†ã‚£ãƒ•ã‚™ios-uiã‚’æ›´æ–°ã™ã‚‹" tabindex="-1">ãƒã‚¤ãƒ†ã‚£ãƒ–iOS UIã‚’æ›´æ–°ã™ã‚‹ <a class="header-anchor" href="#ãƒã‚¤ãƒ†ã‚£ãƒ•ã‚™ios-uiã‚’æ›´æ–°ã™ã‚‹" aria-label="Permalink to &quot;ãƒã‚¤ãƒ†ã‚£ãƒ–iOS UIã‚’æ›´æ–°ã™ã‚‹&quot;">â€‹</a></h2><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®iOSéƒ¨åˆ†ã§ã¯ã€ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã™ã¹ã¦å«ã‚€å…±æœ‰ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«UIã‚’æ¥ç¶šã™ã‚‹ãŸã‚ã«ã€<a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel" target="_blank" rel="noreferrer">Modelâ€“Viewâ€“ViewModel (MVVM)</a>ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å†ã³åˆ©ç”¨ã—ã¾ã™ã€‚</p><p>ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯<code>ContentView.swift</code>ãƒ•ã‚¡ã‚¤ãƒ«ã«<code>import Shared</code>å®£è¨€ã§æ—¢ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚</p><h3 id="viewmodelã‚’å°å…¥ã™ã‚‹" tabindex="-1">ViewModelã‚’å°å…¥ã™ã‚‹ <a class="header-anchor" href="#viewmodelã‚’å°å…¥ã™ã‚‹" aria-label="Permalink to &quot;ViewModelã‚’å°å…¥ã™ã‚‹&quot;">â€‹</a></h3><p><code>iosApp/ContentView.swift</code>ã§ã€<code>ContentView</code>ã®<code>ViewModel</code>ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã€ãã‚Œã®ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿ã‚’æº–å‚™ãŠã‚ˆã³ç®¡ç†ã—ã¾ã™ã€‚ ä¸¦è¡Œå‡¦ç†ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã«ã€<code>startObserving()</code>é–¢æ•°ã‚’<code>task()</code>å‘¼ã³å‡ºã—å†…ã§å‘¼ã³å‡ºã—ã¾ã™ã€‚</p><div class="language-swift vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SwiftUI</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shared</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ContentView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">View </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @ObservedObject</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> viewModel: ViewModel</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> body: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> View {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        ListView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">phrases</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: viewModel.greetings)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">task</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.viewModel.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">startObserving</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ContentView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @MainActor</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ObservableObject </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        @Published</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> greetings: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> startObserving</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ListView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">View </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> phrases: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> body: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> View {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        List</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(phrases, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: \\.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><code>ViewModel</code>ã¯<code>ContentView</code>ã®æ‹¡å¼µã¨ã—ã¦å®£è¨€ã•ã‚Œã¦ãŠã‚Šã€å¯†æ¥ã«é–¢é€£ã—ã¦ã„ã¾ã™ã€‚</li><li><code>ViewModel</code>ã«ã¯ã€<code>String</code>ãƒ•ãƒ¬ãƒ¼ã‚ºã®é…åˆ—ã§ã‚ã‚‹<code>greetings</code>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒã‚ã‚Šã¾ã™ã€‚ SwiftUIã¯ViewModelï¼ˆ<code>ContentView.ViewModel</code>ï¼‰ã‚’ãƒ“ãƒ¥ãƒ¼ï¼ˆ<code>ContentView</code>ï¼‰ã«æ¥ç¶šã—ã¾ã™ã€‚</li><li><code>ContentView.ViewModel</code>ã¯<code>ObservableObject</code>ã¨ã—ã¦å®£è¨€ã•ã‚Œã¦ã„ã¾ã™ã€‚</li><li><code>@Published</code>ãƒ©ãƒƒãƒ‘ãƒ¼ã¯<code>greetings</code>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚</li><li><code>@ObservedObject</code>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ©ãƒƒãƒ‘ãƒ¼ã¯ViewModelã‚’è³¼èª­ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚</li></ul><p>ã“ã®ViewModelã¯ã€ã“ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå¤‰æ›´ã•ã‚Œã‚‹ãŸã³ã«ã‚·ã‚°ãƒŠãƒ«ã‚’ç™ºè¡Œã—ã¾ã™ã€‚ æ¬¡ã«ã€Flowã‚’æ¶ˆè²»ã™ã‚‹ãŸã‚ã«<code>startObserving()</code>é–¢æ•°ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p><h3 id="iosã‹ã‚‰flowã‚’æ¶ˆè²»ã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ•ã‚™ãƒ©ãƒªã‚’é¸æŠã™ã‚‹" tabindex="-1">iOSã‹ã‚‰Flowã‚’æ¶ˆè²»ã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’é¸æŠã™ã‚‹ <a class="header-anchor" href="#iosã‹ã‚‰flowã‚’æ¶ˆè²»ã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ•ã‚™ãƒ©ãƒªã‚’é¸æŠã™ã‚‹" aria-label="Permalink to &quot;iOSã‹ã‚‰Flowã‚’æ¶ˆè²»ã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’é¸æŠã™ã‚‹&quot;">â€‹</a></h3><p>ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ã€iOSã§Flowã‚’æ“ä½œã™ã‚‹ã®ã«å½¹ç«‹ã¤<a href="https://skie.touchlab.co/" target="_blank" rel="noreferrer">SKIE</a>ã¾ãŸã¯<a href="https://github.com/rickclephas/KMP-NativeCoroutines" target="_blank" rel="noreferrer">KMP-NativeCoroutines</a>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚ ã©ã¡ã‚‰ã‚‚ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚ã‚Šã€Kotlin/Nativeã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒã¾ã ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æä¾›ã—ã¦ã„ãªã„Flowã«ã‚ˆã‚‹ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã¨ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚</p><ul><li>SKIEãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€Kotlinã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚ŒãŸObjective-C APIã‚’æ‹¡å¼µã—ã¾ã™ã€‚SKIEã¯Flowã‚’Swiftã®<code>AsyncSequence</code>ã¨åŒç­‰ã®ã‚‚ã®ã«å¤‰æ›ã—ã¾ã™ã€‚SKIEã¯ã€ã‚¹ãƒ¬ãƒƒãƒ‰åˆ¶é™ãªã—ã§ã€è‡ªå‹•çš„ãªåŒæ–¹å‘ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã‚’ä¼´ã†Swiftã®<code>async</code>/<code>await</code>ã‚’ç›´æ¥ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ï¼ˆCombineã¨RxSwiftã«ã¯ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ãŒå¿…è¦ã§ã™ï¼‰ã€‚SKIEã¯ã€ã•ã¾ã–ã¾ãªKotlinå‹ã‚’Swiftã®åŒç­‰å‹ã«ãƒ–ãƒªãƒƒã‚¸ã™ã‚‹ã“ã¨ã‚’å«ã‚ã€Kotlinã‹ã‚‰Swiftãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªAPIã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã®ä»–ã®æ©Ÿèƒ½ã‚‚æä¾›ã—ã¾ã™ã€‚ã¾ãŸã€iOSãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¿½åŠ ã®ä¾å­˜é–¢ä¿‚ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚</li><li>KMP-NativeCoroutinesãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€å¿…è¦ãªãƒ©ãƒƒãƒ‘ãƒ¼ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã§ã€iOSã‹ã‚‰ã‚µã‚¹ãƒšãƒ³ãƒ‰é–¢æ•°ã¨Flowã‚’æ¶ˆè²»ã™ã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã™ã€‚ KMP-NativeCoroutinesã¯ã€Swiftã®<code>async</code>/<code>await</code>æ©Ÿèƒ½ã€Combineã€RxSwiftã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚ KMP-NativeCoroutinesã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€iOSãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«SPMã¾ãŸã¯CocoaPodã®ä¾å­˜é–¢ä¿‚ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</li></ul>`,53)),s[24]||(s[24]=i("h3",{"initial-collapse-state":"collapsed",collapsible:"true",id:"ã‚ªãƒ•ã‚šã‚·ãƒ§ãƒ³1-kmp-nativecoroutinesã‚’æ§‹æˆã™ã‚‹",tabindex:"-1"},[a("ã‚ªãƒ—ã‚·ãƒ§ãƒ³1. KMP-NativeCoroutinesã‚’æ§‹æˆã™ã‚‹ "),i("a",{class:"header-anchor",href:"#ã‚ªãƒ•ã‚šã‚·ãƒ§ãƒ³1-kmp-nativecoroutinesã‚’æ§‹æˆã™ã‚‹","aria-label":'Permalink to "ã‚ªãƒ—ã‚·ãƒ§ãƒ³1. KMP-NativeCoroutinesã‚’æ§‹æˆã™ã‚‹ {initial-collapse-state="collapsed" collapsible="true"}"'},"â€‹")],-1)),s[25]||(s[25]=h(`<div class="note custom-block"><p class="custom-block-title">NOTE</p><p>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒåˆ©ç”¨å¯èƒ½ã‹ã©ã†ã‹ã¯ã€<a href="https://github.com/rickclephas/KMP-NativeCoroutines/releases" target="_blank" rel="noreferrer">KMP-NativeCoroutinesãƒªãƒã‚¸ãƒˆãƒª</a>ã§ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p></div><ol><li><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆ<code>build.gradle.kts</code>ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ<strong><code>shared/build.gradle.kts</code>ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ãªã„</strong>ï¼‰ã®<code>plugins {}</code>ãƒ–ãƒ­ãƒƒã‚¯ã«KSP (Kotlin Symbol Processor)ã¨KMP-NativeCoroutinesãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¿½åŠ ã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plugins</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;com.google.devtools.ksp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2.2.0-2.0.2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;com.rickclephas.kmp.nativecoroutines&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0.0-ALPHA-45&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p><code>shared/build.gradle.kts</code>ãƒ•ã‚¡ã‚¤ãƒ«ã«KMP-NativeCoroutinesãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¿½åŠ ã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plugins</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;com.google.devtools.ksp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;com.rickclephas.kmp.nativecoroutines&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p>åŒã˜ã<code>shared/build.gradle.kts</code>ãƒ•ã‚¡ã‚¤ãƒ«ã§ã€å®Ÿé¨“çš„ãª<code>@ObjCName</code>ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚ªãƒ—ãƒˆã‚¤ãƒ³ã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kotlin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    sourceSets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        all</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            languageSettings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                optIn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;kotlin.experimental.ExperimentalObjCName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                optIn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;kotlin.time.ExperimentalTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p><strong>Sync Gradle Changes</strong>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦Gradleãƒ•ã‚¡ã‚¤ãƒ«ã‚’åŒæœŸã—ã¾ã™ã€‚</p></li></ol><h4 id="kmp-nativecoroutinesã¦ã‚™flowã‚’ãƒãƒ¼ã‚¯ã™ã‚‹" tabindex="-1">KMP-NativeCoroutinesã§Flowã‚’ãƒãƒ¼ã‚¯ã™ã‚‹ <a class="header-anchor" href="#kmp-nativecoroutinesã¦ã‚™flowã‚’ãƒãƒ¼ã‚¯ã™ã‚‹" aria-label="Permalink to &quot;KMP-NativeCoroutinesã§Flowã‚’ãƒãƒ¼ã‚¯ã™ã‚‹&quot;">â€‹</a></h4><ol><li><p><code>shared/src/commonMain/kotlin</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®<code>Greeting.kt</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã¾ã™ã€‚</p></li><li><p><code>greet()</code>é–¢æ•°ã«<code>@NativeCoroutines</code>ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒiOSã§ã®æ­£ã—ã„Flowå‡¦ç†ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã®é©åˆ‡ãªã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã‚’ä¿è¨¼ã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> com.rickclephas.kmp.nativecoroutines.NativeCoroutines</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Greeting</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @NativeCoroutines</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> greet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Flow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> flow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ol><h4 id="xcodeã¦ã‚™spmã‚’ä½¿ç”¨ã—ã¦ãƒ©ã‚¤ãƒ•ã‚™ãƒ©ãƒªã‚’ã‚¤ãƒ³ãƒ›ã‚šãƒ¼ãƒˆã™ã‚‹" tabindex="-1">Xcodeã§SPMã‚’ä½¿ç”¨ã—ã¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ <a class="header-anchor" href="#xcodeã¦ã‚™spmã‚’ä½¿ç”¨ã—ã¦ãƒ©ã‚¤ãƒ•ã‚™ãƒ©ãƒªã‚’ã‚¤ãƒ³ãƒ›ã‚šãƒ¼ãƒˆã™ã‚‹" aria-label="Permalink to &quot;Xcodeã§SPMã‚’ä½¿ç”¨ã—ã¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹&quot;">â€‹</a></h4><ol><li><p><strong>File</strong> | <strong>Open Project in Xcode</strong> ã«ç§»å‹•ã—ã¾ã™ã€‚</p></li><li><p>Xcodeã§ã€å·¦å´ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«ã‚ã‚‹<code>iosApp</code>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å³ã‚¯ãƒªãƒƒã‚¯ã—ã€<strong>Add Package Dependencies</strong>ã‚’é¸æŠã—ã¾ã™ã€‚</p></li><li><p>æ¤œç´¢ãƒãƒ¼ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã‚’å…¥åŠ›ã—ã¾ã™ã€‚</p><div class="language-none vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">none</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://github.com/rickclephas/KMP-NativeCoroutines.git</span></span></code></pre></div></li></ol><p><img src="`+F+'" alt="Importing KMP-NativeCoroutines" width="700"></p><ol start="4"><li><strong>Dependency Rule</strong>ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã§<strong>Exact Version</strong>é …ç›®ã‚’é¸æŠã—ã€éš£æ¥ã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«<code>1.0.0-ALPHA-45</code>ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å…¥åŠ›ã—ã¾ã™ã€‚</li><li><strong>Add Package</strong>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚Xcodeã¯GitHubã‹ã‚‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒ•ã‚§ãƒƒãƒã—ã€åˆ¥ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‹ã„ã¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚’é¸æŠã—ã¾ã™ã€‚</li><li>è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«ã€ã€ŒKMPNativeCoroutinesAsyncã€ã¨ã€ŒKMPNativeCoroutinesCoreã€ã‚’ã‚¢ãƒ—ãƒªã«è¿½åŠ ã—ã€<strong>Add Package</strong>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚</li></ol><p><img src="'+u+`" alt="Add KMP-NativeCoroutines packages" width="500"></p><p>ã“ã‚Œã«ã‚ˆã‚Šã€<code>async/await</code>ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’æ“ä½œã™ã‚‹ãŸã‚ã«å¿…è¦ãªKMP-NativeCoroutinesãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¸€éƒ¨ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã™ã€‚</p><h4 id="kmp-nativecoroutinesãƒ©ã‚¤ãƒ•ã‚™ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦flowã‚’æ¶ˆè²»ã™ã‚‹" tabindex="-1">KMP-NativeCoroutinesãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦Flowã‚’æ¶ˆè²»ã™ã‚‹ <a class="header-anchor" href="#kmp-nativecoroutinesãƒ©ã‚¤ãƒ•ã‚™ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦flowã‚’æ¶ˆè²»ã™ã‚‹" aria-label="Permalink to &quot;KMP-NativeCoroutinesãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦Flowã‚’æ¶ˆè²»ã™ã‚‹&quot;">â€‹</a></h4><ol><li><p><code>iosApp/ContentView.swift</code>ã§ã€KMP-NativeCoroutinesã®<code>asyncSequence()</code>é–¢æ•°ã‚’ä½¿ç”¨ã—ã¦<code>Greeting().greet()</code>é–¢æ•°ã«Flowã‚’æ¶ˆè²»ã™ã‚‹ã‚ˆã†ã«<code>startObserving()</code>é–¢æ•°ã‚’æ›´æ–°ã—ã¾ã™ã€‚</p><div class="language-Swift vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> startObserving</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sequence </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> asyncSequence</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Greeting</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">greet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        for</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> try</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> phrase </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sequence {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.greetings.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(phrase)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Failed with error: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(error)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>ã“ã“ã§ã®ãƒ«ãƒ¼ãƒ—ã¨<code>await</code>ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã¯ã€Flowã‚’åå¾©å‡¦ç†ã—ã€FlowãŒå€¤ã‚’æ”¾å‡ºã™ã‚‹ãŸã³ã«<code>greetings</code>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æ›´æ–°ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚</p></li><li><p><code>ViewModel</code>ãŒ<code>@MainActor</code>ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§ãƒãƒ¼ã‚¯ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚ã“ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€<code>ViewModel</code>å†…ã®ã™ã¹ã¦ã®éåŒæœŸæ“ä½œãŒKotlin/Nativeã®è¦ä»¶ã«æº–æ‹ ã™ã‚‹ãŸã‚ã«ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã§å®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã‚’ä¿è¨¼ã—ã¾ã™ã€‚</p><div class="language-Swift vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> KMPNativeCoroutinesAsync</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> KMPNativeCoroutinesCore</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ContentView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @MainActor</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ObservableObject </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        @Published</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> greetings: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> startObserving</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sequence </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> asyncSequence</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Greeting</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">greet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                for</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> try</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> phrase </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sequence {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                    self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.greetings.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(phrase)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Failed with error: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\(error)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ol>`,12)),s[26]||(s[26]=i("h3",{"initial-collapse-state":"collapsed",collapsible:"true",id:"ã‚ªãƒ•ã‚šã‚·ãƒ§ãƒ³2-skieã‚’æ§‹æˆã™ã‚‹",tabindex:"-1"},[a("ã‚ªãƒ—ã‚·ãƒ§ãƒ³2. SKIEã‚’æ§‹æˆã™ã‚‹ "),i("a",{class:"header-anchor",href:"#ã‚ªãƒ•ã‚šã‚·ãƒ§ãƒ³2-skieã‚’æ§‹æˆã™ã‚‹","aria-label":'Permalink to "ã‚ªãƒ—ã‚·ãƒ§ãƒ³2. SKIEã‚’æ§‹æˆã™ã‚‹ {initial-collapse-state="collapsed" collapsible="true"}"'},"â€‹")],-1)),s[27]||(s[27]=h(`<p>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¨­å®šã™ã‚‹ã«ã¯ã€<code>shared/build.gradle.kts</code>ã«SKIEãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’æŒ‡å®šã—ã€<strong>Sync Gradle Changes</strong>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plugins</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;co.touchlab.skie&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) version </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.10.4&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="skieã‚’ä½¿ç”¨ã—ã¦flowã‚’æ¶ˆè²»ã™ã‚‹" tabindex="-1">SKIEã‚’ä½¿ç”¨ã—ã¦Flowã‚’æ¶ˆè²»ã™ã‚‹ <a class="header-anchor" href="#skieã‚’ä½¿ç”¨ã—ã¦flowã‚’æ¶ˆè²»ã™ã‚‹" aria-label="Permalink to &quot;SKIEã‚’ä½¿ç”¨ã—ã¦Flowã‚’æ¶ˆè²»ã™ã‚‹&quot;">â€‹</a></h4><p><code>Greeting().greet()</code> Flowã‚’åå¾©å‡¦ç†ã—ã€FlowãŒå€¤ã‚’æ”¾å‡ºã™ã‚‹ãŸã³ã«<code>greetings</code>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æ›´æ–°ã™ã‚‹ãŸã‚ã«ã€ãƒ«ãƒ¼ãƒ—ã¨<code>await</code>ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p><p><code>ViewModel</code>ãŒ<code>@MainActor</code>ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§ãƒãƒ¼ã‚¯ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚ ã“ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€<code>ViewModel</code>å†…ã®ã™ã¹ã¦ã®éåŒæœŸæ“ä½œãŒKotlin/Nativeã®è¦ä»¶ã«æº–æ‹ ã™ã‚‹ãŸã‚ã«ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã§å®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã‚’ä¿è¨¼ã—ã¾ã™ã€‚</p><div class="language-Swift vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ContentView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    @MainActor</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ObservableObject </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        @Published</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> greetings: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> startObserving</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            for</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> phrase </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Greeting</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">greet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.greetings.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(phrase)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="viewmodelã‚’æ¶ˆè²»ã—ã€iosã‚¢ãƒ•ã‚šãƒªã‚’å®Ÿè¡Œã™ã‚‹" tabindex="-1">ViewModelã‚’æ¶ˆè²»ã—ã€iOSã‚¢ãƒ—ãƒªã‚’å®Ÿè¡Œã™ã‚‹ <a class="header-anchor" href="#viewmodelã‚’æ¶ˆè²»ã—ã€iosã‚¢ãƒ•ã‚šãƒªã‚’å®Ÿè¡Œã™ã‚‹" aria-label="Permalink to &quot;ViewModelã‚’æ¶ˆè²»ã—ã€iOSã‚¢ãƒ—ãƒªã‚’å®Ÿè¡Œã™ã‚‹&quot;">â€‹</a></h3><p><code>iosApp/iOSApp.swift</code>ã§ã€ã‚¢ãƒ—ãƒªã®ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆã‚’æ›´æ–°ã—ã¾ã™ã€‚</p><div class="language-swift vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@main</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> iOSApp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">App </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">   var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> body: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Scene {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">       WindowGroup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">           ContentView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">viewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: ContentView.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>IntelliJ IDEAã‹ã‚‰<strong>iosApp</strong>æ§‹æˆã‚’å®Ÿè¡Œã—ã¦ã€ã‚¢ãƒ—ãƒªã®ãƒ­ã‚¸ãƒƒã‚¯ãŒåŒæœŸã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</p><p><img src="`+y+'" alt="Final results" width="300"></p><div class="note custom-block"><p class="custom-block-title">NOTE</p><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æœ€çµ‚çŠ¶æ…‹ã¯ã€ç•°ãªã‚‹ã‚³ãƒ«ãƒ¼ãƒãƒ³ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æŒã¤GitHubãƒªãƒã‚¸ãƒˆãƒªã®2ã¤ã®ãƒ–ãƒ©ãƒ³ãƒã§ç¢ºèªã§ãã¾ã™ã€‚ * <a href="https://github.com/kotlin-hands-on/get-started-with-kmp/tree/main" target="_blank" rel="noreferrer"><code>main</code></a>ãƒ–ãƒ©ãƒ³ãƒã«ã¯KMP-NativeCoroutinesã®å®Ÿè£…ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ * <a href="https://github.com/kotlin-hands-on/get-started-with-kmp/tree/main-skie" target="_blank" rel="noreferrer"><code>main-skie</code></a>ãƒ–ãƒ©ãƒ³ãƒã«ã¯SKIEã®å®Ÿè£…ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚</p></div><h2 id="æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ•ã‚š" tabindex="-1">æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ— <a class="header-anchor" href="#æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ•ã‚š" aria-label="Permalink to &quot;æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—&quot;">â€‹</a></h2><p>ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®æœ€çµ‚éƒ¨ã§ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç· ã‚ããã‚Šã€æ¬¡ã«å–ã‚‹ã¹ãã‚¹ãƒ†ãƒƒãƒ—ã‚’ç¢ºèªã—ã¾ã™ã€‚</p><p><strong><a href="./multiplatform-wrap-up">æ¬¡ã®ãƒ‘ãƒ¼ãƒˆã«é€²ã‚€</a></strong></p><h3 id="å‚ç…§" tabindex="-1">å‚ç…§ <a class="header-anchor" href="#å‚ç…§" aria-label="Permalink to &quot;å‚ç…§&quot;">â€‹</a></h3><ul><li><a href="https://kotlinlang.org/docs/composing-suspending-functions.html" target="_blank" rel="noreferrer">ã‚µã‚¹ãƒšãƒ³ãƒ‰é–¢æ•°ã®æ§‹æˆ</a>ã®æ§˜ã€…ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’æ¢ã‚‹ã€‚</li><li><a href="https://kotlinlang.org/docs/native-objc-interop.html" target="_blank" rel="noreferrer">Objective-Cãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã®ç›¸äº’é‹ç”¨æ€§</a>ã«ã¤ã„ã¦è©³ã—ãå­¦ã¶ã€‚</li><li><a href="./multiplatform-ktor-sqldelight">ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¨ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸</a>ã«é–¢ã™ã‚‹ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’å®Œäº†ã™ã‚‹ã€‚</li></ul><h2 id="ãƒ˜ãƒ«ãƒ•ã‚šã‚’å¾—ã‚‹" tabindex="-1">ãƒ˜ãƒ«ãƒ—ã‚’å¾—ã‚‹ <a class="header-anchor" href="#ãƒ˜ãƒ«ãƒ•ã‚šã‚’å¾—ã‚‹" aria-label="Permalink to &quot;ãƒ˜ãƒ«ãƒ—ã‚’å¾—ã‚‹&quot;">â€‹</a></h2><ul><li><strong>Kotlin Slack</strong>ã€‚<a href="https://surveys.jetbrains.com/s3/kotlin-slack-sign-up" target="_blank" rel="noreferrer">æ‹›å¾…ã‚’å—ã‘ã‚‹</a>ã«ã¯ã€<a href="https://kotlinlang.slack.com/archives/C3PQML5NU" target="_blank" rel="noreferrer">#multiplatform</a>ãƒãƒ£ãƒ³ãƒãƒ«ã«å‚åŠ ã—ã¦ãã ã•ã„ã€‚</li><li><strong>Kotlinèª²é¡Œãƒˆãƒ©ãƒƒã‚«ãƒ¼</strong>ã€‚<a href="https://youtrack.jetbrains.com/newIssue?project=KT" target="_blank" rel="noreferrer">æ–°ã—ã„èª²é¡Œã‚’å ±å‘Šã™ã‚‹</a>ã€‚</li></ul>',19))])}const L=C(b,[["render",A]]);export{I as __pageData,L as default};
