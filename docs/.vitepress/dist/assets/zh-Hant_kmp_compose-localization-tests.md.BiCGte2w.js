import{_ as e,C as t,c as l,o as n,j as s,G as h,ag as p,a as o}from"./chunks/framework.Bksy39di.js";const F=JSON.parse('{"title":"本地化測試","description":"","frontmatter":{},"headers":[],"relativePath":"zh-Hant/kmp/compose-localization-tests.md","filePath":"zh-Hant/kmp/compose-localization-tests.md","lastUpdated":1755516278000}'),r={name:"zh-Hant/kmp/compose-localization-tests.md"};function d(k,a,c,g,u,E){const i=t("show-structure");return n(),l("div",null,[a[0]||(a[0]=s("h1",{id:"本地化測試",tabindex:"-1"},[o("本地化測試 "),s("a",{class:"header-anchor",href:"#本地化測試","aria-label":'Permalink to "本地化測試"'},"​")],-1)),h(i,{depth:"2"}),a[1]||(a[1]=p(`<p>為了測試本地化，請驗證針對不同地區設定顯示正確的翻譯字串，並確保格式和佈局能適應地區設定的要求。</p><h2 id="在不同平台上測試地區設定" tabindex="-1">在不同平台上測試地區設定 <a class="header-anchor" href="#在不同平台上測試地區設定" aria-label="Permalink to &quot;在不同平台上測試地區設定&quot;">​</a></h2><h3 id="android" tabindex="-1">Android <a class="header-anchor" href="#android" aria-label="Permalink to &quot;Android&quot;">​</a></h3><p>在 Android 上，您可以透過 <strong>Settings | System | Languages &amp; input | Languages</strong> 變更裝置的系統地區設定。對於自動化測試，您可以使用 <code>adb</code> shell 直接在模擬器上修改地區設定：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adb</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shell</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setprop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> persist.sys.locale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [BCP-47 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">language</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tag]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sleep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span></span></code></pre></div><p>此命令會重新啟動模擬器，讓您以新的地區設定重新啟動應用程式。</p><p>或者，您可以在執行測試之前，使用 Espresso 等框架以程式碼方式配置地區設定。例如，您可以使用 <code>LocaleTestRule()</code> 在測試期間自動切換地區設定。</p><h3 id="ios" tabindex="-1">iOS <a class="header-anchor" href="#ios" aria-label="Permalink to &quot;iOS&quot;">​</a></h3><p>在 iOS 上，您可以透過 <strong>Settings | General | Language &amp; Region</strong> 變更裝置的系統語言和地區。對於使用 XCUITest 框架的自動化 UI 測試，請使用啟動引數來模擬地區設定變更：</p><div class="language-swift vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.launchArguments </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;-AppleLanguages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;(es)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;-AppleLocale&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;es_ES&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><h3 id="桌面" tabindex="-1">桌面 <a class="header-anchor" href="#桌面" aria-label="Permalink to &quot;桌面&quot;">​</a></h3><p>在桌面上，JVM 地區設定通常預設為作業系統的地區設定。設定位置會因不同的桌面平台而異。</p><p>您可以在 UI 初始化之前，在測試設定或應用程式進入點中以程式碼方式設定 JVM 預設地區設定：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">java.util.Locale.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setDefault</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(java.util.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Locale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;es_ES&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span></code></pre></div><h3 id="web" tabindex="-1">Web <a class="header-anchor" href="#web" aria-label="Permalink to &quot;Web&quot;">​</a></h3><p>為了快速檢查，您可以在瀏覽器偏好設定中變更語言設定。對於自動化測試，Selenium 或 Puppeteer 等瀏覽器自動化工具可以模擬地區設定變更。</p><p>或者，您可以嘗試繞過 <code>window.navigator.languages</code> 屬性的唯讀限制來引入自訂地區設定。在 <a href="./compose-resource-environment"></a> 教學課程中了解更多資訊。</p><h2 id="關鍵測試情境" tabindex="-1">關鍵測試情境 <a class="header-anchor" href="#關鍵測試情境" aria-label="Permalink to &quot;關鍵測試情境&quot;">​</a></h2><h3 id="自訂地區設定" tabindex="-1">自訂地區設定 <a class="header-anchor" href="#自訂地區設定" aria-label="Permalink to &quot;自訂地區設定&quot;">​</a></h3><ul><li>以程式碼方式覆寫地區設定。</li><li>斷言 UI 元素、格式化字串和佈局能針對選定的地區設定正確適應，包括在適用情況下處理由右至左的文字。</li></ul><h3 id="預設資源" tabindex="-1">預設資源 <a class="header-anchor" href="#預設資源" aria-label="Permalink to &quot;預設資源&quot;">​</a></h3><p>當指定的地區設定沒有可用翻譯時，會使用預設資源。應用程式必須正確回退到這些預設值。</p><ul><li>使用上述平台特定方法，將地區設定配置為不支援的值。</li><li>驗證回退機制是否正確載入預設資源並正確顯示它們。</li></ul><h3 id="地區設定特定案例" tabindex="-1">地區設定特定案例 <a class="header-anchor" href="#地區設定特定案例" aria-label="Permalink to &quot;地區設定特定案例&quot;">​</a></h3><p>為了避免常見的本地化問題，請考慮以下地區設定特定案例：</p><ul><li>測試<a href="./compose-regional-format">地區設定特定格式</a>，例如日期格式化（<code>MM/dd/yyyy</code> 與 <code>dd/MM/yyyy</code>）和數字格式化。</li><li>驗證 <a href="./compose-rtl">RTL 與 LTR 行為</a>，確保阿拉伯語和希伯來語等由右至左語言能正確顯示字串、佈局和對齊方式。</li></ul>`,26))])}const m=e(r,[["render",d]]);export{F as __pageData,m as default};
