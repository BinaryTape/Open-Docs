import{_ as a,c as i,o as e,ag as t}from"./chunks/framework.Bksy39di.js";const c=JSON.parse('{"title":"Gradle","description":"","frontmatter":{},"headers":[],"relativePath":"zh-Hant/sqldelight/jvm_sqlite/gradle.md","filePath":"zh-Hant/sqldelight/jvm_sqlite/gradle.md","lastUpdated":1748435462000}'),l={name:"zh-Hant/sqldelight/jvm_sqlite/gradle.md"};function n(p,s,d,h,o,r){return e(),i("div",null,s[0]||(s[0]=[t(`<h1 id="gradle" tabindex="-1">Gradle <a class="header-anchor" href="#gradle" aria-label="Permalink to &quot;Gradle&quot;">​</a></h1><p>為了提供更大的客製化能力，你可以使用 Gradle DSL 明確宣告資料庫。</p><h2 id="sqldelight-配置" tabindex="-1">SQLDelight 配置 <a class="header-anchor" href="#sqldelight-配置" aria-label="Permalink to &quot;SQLDelight 配置&quot;">​</a></h2><h3 id="databases" tabindex="-1"><code>databases</code> <a class="header-anchor" href="#databases" aria-label="Permalink to &quot;\`databases\`&quot;">​</a></h3><p>資料庫容器。設定 SQLDelight 以給定的名稱建立每個資料庫。</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-FWI_o" id="tab-Ssm2u4w" checked><label data-title="Kotlin" for="tab-Ssm2u4w">Kotlin</label><input type="radio" name="group-FWI_o" id="tab-VYWXd1Z"><label data-title="Groovy" for="tab-VYWXd1Z">Groovy</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sqldelight</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  databases</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MyDatabase&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Database configuration here.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqldelight {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  databases {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    MyDatabase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Database configuration here.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div></div><hr><h3 id="linksqlite" tabindex="-1"><code>linkSqlite</code> <a class="header-anchor" href="#linksqlite" aria-label="Permalink to &quot;\`linkSqlite\`&quot;">​</a></h3><p>類型：<code>Property&lt;Boolean&gt;</code></p><p>針對原生目標。是否應自動連結 (link) sqlite。 這會新增必要的元資料，以便在專案編譯為動態框架（KMP 近期版本的預設行為）時連結 sqlite。</p><p>請注意，對於靜態框架，此旗標無效。 匯入專案的 XCode 建置應將 <code>-lsqlite3</code> 加入到連結器旗標中。 或者，透過 cocoapods 外掛程式，在 <a href="https://cocoapods.org/pods/sqlite3" target="_blank" rel="noreferrer">sqlite3</a> pod 上<a href="https://kotlinlang.org/docs/native-cocoapods-libraries.html" target="_blank" rel="noreferrer">新增專案依賴</a>。 另一種可能有效的方法是將 <code>sqlite3</code> 加入到 cocoapods 的 <a href="https://guides.cocoapods.org/syntax/podspec.html#libraries" target="_blank" rel="noreferrer"><code>spec.libraries</code> 設定</a>中，例如在 Gradle Kotlin DSL 中：<code>extraSpecAttributes[&quot;libraries&quot;] = &quot;&#39;c++&#39;, &#39;sqlite3&#39;&quot;.</code></p><p>預設為 <code>true</code>。</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-jq29C" id="tab-JZ9_l6p" checked><label data-title="Kotlin" for="tab-JZ9_l6p">Kotlin</label><input type="radio" name="group-jq29C" id="tab-pB7BnM-"><label data-title="Groovy" for="tab-pB7BnM-">Groovy</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">linkSqlite.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">linkSqlite </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span></code></pre></div></div></div><h2 id="資料庫配置" tabindex="-1">資料庫配置 <a class="header-anchor" href="#資料庫配置" aria-label="Permalink to &quot;資料庫配置&quot;">​</a></h2><h3 id="packagename" tabindex="-1"><code>packageName</code> <a class="header-anchor" href="#packagename" aria-label="Permalink to &quot;\`packageName\`&quot;">​</a></h3><p>類型：<code>Property&lt;String&gt;</code></p><p>用於資料庫類別的套件名稱。</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-xhEpi" id="tab-Rh-yVf9" checked><label data-title="Kotlin" for="tab-Rh-yVf9">Kotlin</label><input type="radio" name="group-xhEpi" id="tab-aruWmch"><label data-title="Groovy" for="tab-aruWmch">Groovy</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">packageName.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;com.example.db&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">packageName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;com.example.db&quot;</span></span></code></pre></div></div></div><hr><h3 id="srcdirs" tabindex="-1"><code>srcDirs</code> <a class="header-anchor" href="#srcdirs" aria-label="Permalink to &quot;\`srcDirs\`&quot;">​</a></h3><p>類型：<code>ConfigurableFileCollection</code></p><p>外掛程式將尋找 <code>.sq</code> 和 <code>.sqm</code> 檔案的資料夾集合。</p><p>預設為 <code>src/[prefix]main/sqldelight</code>，其中前綴取決於所套用的 Kotlin 外掛程式，例如多平台專案使用 common。</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-ARygR" id="tab-R6G-3Vl" checked><label data-title="Kotlin" for="tab-R6G-3Vl">Kotlin</label><input type="radio" name="group-ARygR" id="tab-KCkZjJV"><label data-title="Groovy" for="tab-KCkZjJV">Groovy</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">srcDirs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;src/main/sqldelight&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">srcDirs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;src/main/sqldelight&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div></div></div><h4 id="srcdirs-vararg-objects-any" tabindex="-1"><code>srcDirs(vararg objects: Any)</code> <a class="header-anchor" href="#srcdirs-vararg-objects-any" aria-label="Permalink to &quot;\`srcDirs(vararg objects: Any)\`&quot;">​</a></h4><p>外掛程式將尋找 <code>.sq</code> 和 <code>.sqm</code> 檔案的物件集合。</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-2J4HF" id="tab-R43JDAR" checked><label data-title="Kotlin" for="tab-R43JDAR">Kotlin</label><input type="radio" name="group-2J4HF" id="tab-BQWnr0N"><label data-title="Groovy" for="tab-BQWnr0N">Groovy</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">srcDirs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;src/main/sqldelight&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;main/sqldelight&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">srcDirs(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;src/main/sqldelight&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;main/sqldelight&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div></div></div><hr><h3 id="schemaoutputdirectory" tabindex="-1"><code>schemaOutputDirectory</code> <a class="header-anchor" href="#schemaoutputdirectory" aria-label="Permalink to &quot;\`schemaOutputDirectory\`&quot;">​</a></h3><p>類型：<code>DirectoryProperty</code></p><p>應儲存 <code>.db</code> 結構描述檔案的目錄，相對於專案根目錄。 這些檔案用於驗證遷移 (migrations) 能產生具有最新結構描述的資料庫。</p><p>預設為 <code>null</code>。 如果為 <code>null</code>，則不會建立遷移驗證任務。</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-0VnUG" id="tab-j_BjsAH" checked><label data-title="Kotlin" for="tab-j_BjsAH">Kotlin</label><input type="radio" name="group-0VnUG" id="tab-A1A62LU"><label data-title="Groovy" for="tab-A1A62LU">Groovy</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">schemaOutputDirectory.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;src/main/sqldelight/databases&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">schemaOutputDirectory </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;src/main/sqldelight/databases&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div></div></div><hr><h3 id="dependency" tabindex="-1"><code>dependency</code> <a class="header-anchor" href="#dependency" aria-label="Permalink to &quot;\`dependency\`&quot;">​</a></h3><p>類型：<code>Project</code></p><p>可選地指定對其他 Gradle 專案的結構描述依賴（<a href="#schema-dependencies">請見下方</a>）。</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-5Xytv" id="tab-1eDHyuC" checked><label data-title="Kotlin" for="tab-1eDHyuC">Kotlin</label><input type="radio" name="group-5Xytv" id="tab-bkvMO5T"><label data-title="Groovy" for="tab-bkvMO5T">Groovy</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">project</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;:other-project&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dependency project(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;:other-project&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div></div></div><hr><h3 id="dialect" tabindex="-1"><code>dialect</code> <a class="header-anchor" href="#dialect" aria-label="Permalink to &quot;\`dialect\`&quot;">​</a></h3><p>類型：<code>String</code> 或 <code>Provider&lt;MinimalExternalModuleDependency&gt;</code></p><p>你希望針對的 SQL 變體。變體是透過 Gradle 依賴來選擇的。 這些依賴可以指定為 <code>app.cash.sqldelight:{dialect module}:2.1.0</code>。 可用變體請見下方。</p><p>對於 Android 專案，SQLite 版本會根據你的 <code>minSdk</code> 自動選擇。 否則預設為 SQLite 3.18。</p><p>可用變體：</p><ul><li>HSQL：<code>hsql-dialect</code></li><li>MySQL：<code>mysql-dialect</code></li><li>PostgreSQL：<code>postgresql-dialect</code></li><li>SQLite 3.18：<code>sqlite-3-18-dialect</code></li><li>SQLite 3.24：<code>sqlite-3-24-dialect</code></li><li>SQLite 3.25：<code>sqlite-3-25-dialect</code></li><li>SQLite 3.30：<code>sqlite-3-30-dialect</code></li><li>SQLite 3.33：<code>sqlite-3-33-dialect</code></li><li>SQLite 3.35：<code>sqlite-3-35-dialect</code></li><li>SQLite 3.38：<code>sqlite-3-38-dialect</code></li></ul><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-hrzMJ" id="tab-jOnC65P" checked><label data-title="Kotlin" for="tab-jOnC65P">Kotlin</label><input type="radio" name="group-hrzMJ" id="tab-YCebLrC"><label data-title="Groovy" for="tab-YCebLrC">Groovy</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dialect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;app.cash.sqldelight:sqlite-3-24-dialect:2.1.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dialect </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;app.cash.sqldelight:sqlite-3-24-dialect:2.1.0&#39;</span></span></code></pre></div></div></div><hr><h3 id="verifymigrations" tabindex="-1"><code>verifyMigrations</code> <a class="header-anchor" href="#verifymigrations" aria-label="Permalink to &quot;\`verifyMigrations\`&quot;">​</a></h3><p>類型：<code>Property&lt;Boolean&gt;</code></p><p>如果設定為 <code>true</code>，若遷移檔案中有任何錯誤，則在建置過程中將會失敗。</p><p>預設為 <code>false</code>。</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-4cxpu" id="tab-KmnzIUk" checked><label data-title="Kotlin" for="tab-KmnzIUk">Kotlin</label><input type="radio" name="group-4cxpu" id="tab-SOluMHm"><label data-title="Groovy" for="tab-SOluMHm">Groovy</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">verifyMigrations.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">verifyMigrations </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span></code></pre></div></div></div><hr><h3 id="treatnullasunknownforequality" tabindex="-1"><code>treatNullAsUnknownForEquality</code> <a class="header-anchor" href="#treatnullasunknownforequality" aria-label="Permalink to &quot;\`treatNullAsUnknownForEquality\`&quot;">​</a></h3><p>類型：<code>Property&lt;Boolean&gt;</code></p><p>如果設定為 <code>true</code>，當使用 <code>IS</code> 時，SQLDelight 將不會用可空類型值替換相等比較。</p><p>預設為 <code>false</code>。</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-CV71y" id="tab-383gtQJ" checked><label data-title="Kotlin" for="tab-383gtQJ">Kotlin</label><input type="radio" name="group-CV71y" id="tab-fmJAvPl"><label data-title="Groovy" for="tab-fmJAvPl">Groovy</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">treatNullAsUnknownForEquality.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">treatNullAsUnknownForEquality </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span></code></pre></div></div></div><hr><h3 id="generateasync" tabindex="-1"><code>generateAsync</code> <a class="header-anchor" href="#generateasync" aria-label="Permalink to &quot;\`generateAsync\`&quot;">​</a></h3><p>類型：<code>Property&lt;Boolean&gt;</code></p><p>如果設定為 <code>true</code>，SQLDelight 將生成 <code>suspend</code> 查詢方法以用於非同步驅動程式。</p><p>預設為 <code>false</code>。</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-vv87x" id="tab-JVGyi-I" checked><label data-title="Kotlin" for="tab-JVGyi-I">Kotlin</label><input type="radio" name="group-vv87x" id="tab-nwhkzyG"><label data-title="Groovy" for="tab-nwhkzyG">Groovy</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">generateAsync.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">generateAsync </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span></code></pre></div></div></div><hr><h3 id="deriveschemafrommigrations" tabindex="-1"><code>deriveSchemaFromMigrations</code> <a class="header-anchor" href="#deriveschemafrommigrations" aria-label="Permalink to &quot;\`deriveSchemaFromMigrations\`&quot;">​</a></h3><p>類型：<code>Property&lt;Boolean&gt;</code></p><p>如果設定為 <code>true</code>，你的資料庫結構描述將從 <code>.sqm</code> 檔案中派生，彷彿每個遷移都已應用。 如果為 <code>false</code>，你的結構描述則定義在 <code>.sq</code> 檔案中。</p><p>預設為 <code>false</code>。</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-Uv-p6" id="tab-v1si15E" checked><label data-title="Kotlin" for="tab-v1si15E">Kotlin</label><input type="radio" name="group-Uv-p6" id="tab-RwTjodx"><label data-title="Groovy" for="tab-RwTjodx">Groovy</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">deriveSchemaFromMigrations.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">deriveSchemaFromMigrations </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span></code></pre></div></div></div><h2 id="結構描述相依性" tabindex="-1">結構描述相依性 <a class="header-anchor" href="#結構描述相依性" aria-label="Permalink to &quot;結構描述相依性&quot;">​</a></h2><p>您可以指定另一個模組上的結構描述相依性：</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-xx6rE" id="tab-J_We-bi" checked><label data-title="Kotlin" for="tab-J_We-bi">Kotlin</label><input type="radio" name="group-xx6rE" id="tab-Nyuagig"><label data-title="Groovy" for="tab-Nyuagig">Groovy</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// project-a/build.gradle.kts</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sqldelight</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  databases</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MyDatabase&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      packageName.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;com.example.projecta&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">project</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;:ProjectB&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// project-a/build.gradle</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqldelight {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  databases {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    MyDatabase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      packageName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;com.example.projecta&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      dependency project(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;:ProjectB&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div></div><p>這會在 <code>ProjectB</code> 中尋找 <code>MyDatabase</code>，並在編譯時包含其結構描述。為此，<code>ProjectB</code> 必須具有相同名稱的資料庫（在此情況下為 <code>MyDatabase</code>），但需在不同的套件中生成。以下是 <code>ProjectB</code> 的 Gradle 配置範例：</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-7Xi8m" id="tab-ns6W4z6" checked><label data-title="Kotlin" for="tab-ns6W4z6">Kotlin</label><input type="radio" name="group-7Xi8m" id="tab-Iyq8XML"><label data-title="Groovy" for="tab-Iyq8XML">Groovy</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// project-b/build.gradle.kts</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sqldelight</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  databases</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Same database name</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MyDatabase&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      package</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> = &quot;com.example.projectb&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// project-b/build.gradle</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqldelight {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  databases {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Same database name</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    MyDatabase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      package </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;com.example.projectb&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div></div><p>如果您使用 <code>deriveSchemaFromMigrations = true</code>，則每個依賴此模組的模組也必須啟用此功能。</p>`,76)]))}const g=a(l,[["render",n]]);export{c as __pageData,g as default};
