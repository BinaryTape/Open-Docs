import{_ as a,c as i,o as n,ag as t}from"./chunks/framework.Bksy39di.js";const c=JSON.parse('{"title":"Koin è¨»è§£ä½¿ç”¨å…¥é–€","description":"","frontmatter":{"title":"Koin è¨»è§£ä½¿ç”¨å…¥é–€"},"headers":[],"relativePath":"zh-Hant/koin/reference/koin-annotations/start.md","filePath":"zh-Hant/koin/reference/koin-annotations/start.md","lastUpdated":1750001831000}'),e={name:"zh-Hant/koin/reference/koin-annotations/start.md"};function l(p,s,h,o,k,r){return n(),i("div",null,s[0]||(s[0]=[t(`<p>Koin è¨»è§£å°ˆæ¡ˆçš„ç›®æ¨™æ˜¯å¹«åŠ©æ‚¨ä»¥éå¸¸å¿«é€Ÿä¸”ç›´è§€çš„æ–¹å¼å®£å‘Š Koin å®šç¾©ï¼Œä¸¦ç‚ºæ‚¨ç”Ÿæˆæ‰€æœ‰åº•å±¤çš„ Koin DSLã€‚å…¶ç›®æ¨™æ˜¯å€ŸåŠ© Kotlin ç·¨è­¯å™¨ï¼Œå¹«åŠ©é–‹ç™¼è€…é«”é©—å¯¦ç¾æ“´å±•ä¸¦å¿«é€Ÿé–‹ç™¼ ğŸš€ã€‚</p><h2 id="å…¥é–€" tabindex="-1">å…¥é–€ <a class="header-anchor" href="#å…¥é–€" aria-label="Permalink to &quot;å…¥é–€&quot;">â€‹</a></h2><p>ä¸ç†Ÿæ‚‰ Koinï¼Ÿè«‹å…ˆæŸ¥çœ‹ <a href="https://insert-koin.io/docs/quickstart/kotlin" target="_blank" rel="noreferrer">Koin å…¥é–€æŒ‡å—</a></p><p>ä½¿ç”¨å®šç¾©èˆ‡æ¨¡çµ„è¨»è§£æ¨™è¨˜æ‚¨çš„å…ƒä»¶ï¼Œä¸¦ä½¿ç”¨æ…£ç”¨çš„ Koin APIã€‚</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ¨™è¨˜æ‚¨çš„å…ƒä»¶ä»¥å®£å‘Šå®šç¾©</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@Single</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyComponent</span></span></code></pre></div><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å®£å‘Šæ¨¡çµ„ä¸¦æƒæè¨»è§£</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@Module</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@ComponentScan</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyModule</span></span></code></pre></div><p>è«‹æŒ‰ç…§ä»¥ä¸‹æ–¹å¼ä½¿ç”¨ <code>org.koin.ksp.generated.*</code> å°å…¥ï¼Œä»¥ä¾¿èƒ½å¤ ä½¿ç”¨ç”Ÿæˆçš„ç¨‹å¼ç¢¼ï¼š</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨ Koin ç”Ÿæˆ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> org.koin.ksp.generated.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> koin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> startKoin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        printLogger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        modules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          // åœ¨æ­¤ä½¿ç”¨æ‚¨çš„æ¨¡çµ„ï¼Œæ­é… Module é¡åˆ¥ä¸Šç”Ÿæˆçš„ &quot;.module&quot; æ“´å……åŠŸèƒ½</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          MyModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().module</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åƒå¾€å¸¸ä¸€æ¨£ä½¿ç”¨æ‚¨çš„ Koin API</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    koin.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MyComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>å°±æ˜¯é€™æ¨£ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <a href="https://insert-koin.io/docs/reference/introduction" target="_blank" rel="noreferrer">æ…£ç”¨çš„ Koin API</a> åœ¨ Koin ä¸­ä½¿ç”¨æ‚¨çš„æ–°å®šç¾©ã€‚</p><h2 id="ksp-é¸é …" tabindex="-1">KSP é¸é … <a class="header-anchor" href="#ksp-é¸é …" aria-label="Permalink to &quot;KSP é¸é …&quot;">â€‹</a></h2><p>Koin ç·¨è­¯å™¨æä¾›äº†ä¸€äº›é…ç½®é¸é …ã€‚æ ¹æ“šå®˜æ–¹æ–‡ä»¶ï¼Œæ‚¨å¯ä»¥å°‡ä»¥ä¸‹é¸é …æ·»åŠ åˆ°æ‚¨çš„å°ˆæ¡ˆä¸­ï¼š<a href="https://kotlinlang.org/docs/ksp-quickstart.html#pass-options-to-processors" target="_blank" rel="noreferrer">KSP å¿«é€Ÿå…¥é–€æ–‡ä»¶</a></p><h3 id="ç·¨è­¯å®‰å…¨-åœ¨ç·¨è­¯æ™‚æª¢æŸ¥æ‚¨çš„-koin-é…ç½®-å¾-1-3-0-é–‹å§‹" tabindex="-1">ç·¨è­¯å®‰å…¨ - åœ¨ç·¨è­¯æ™‚æª¢æŸ¥æ‚¨çš„ Koin é…ç½® (å¾ 1.3.0 é–‹å§‹) <a class="header-anchor" href="#ç·¨è­¯å®‰å…¨-åœ¨ç·¨è­¯æ™‚æª¢æŸ¥æ‚¨çš„-koin-é…ç½®-å¾-1-3-0-é–‹å§‹" aria-label="Permalink to &quot;ç·¨è­¯å®‰å…¨ - åœ¨ç·¨è­¯æ™‚æª¢æŸ¥æ‚¨çš„ Koin é…ç½® (å¾ 1.3.0 é–‹å§‹)&quot;">â€‹</a></h3><p>Koin è¨»è§£å…è¨±ç·¨è­¯å™¨æ’ä»¶åœ¨ç·¨è­¯æ™‚é©—è­‰æ‚¨çš„ Koin é…ç½®ã€‚æ‚¨å¯ä»¥é€éå°‡ä»¥ä¸‹ KSP é¸é …æ·»åŠ åˆ°æ‚¨çš„ Gradle æ¨¡çµ„ä¸­ä¾†å•Ÿç”¨æ­¤åŠŸèƒ½ï¼š</p><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åœ¨ build.gradle æˆ– build.gradle.kts</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ksp {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    arg(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;KOIN_CONFIG_CHECK&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;true&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>ç·¨è­¯å™¨å°‡æª¢æŸ¥æ‚¨é…ç½®ä¸­ä½¿ç”¨çš„æ‰€æœ‰ä¾è³´é …æ˜¯å¦å·²å®£å‘Šï¼Œä¸¦ä¸”æ‰€æœ‰ä½¿ç”¨çš„æ¨¡çµ„éƒ½å¯è¢«å­˜å–ã€‚</p><h3 id="ä½¿ç”¨-provided-ç¹éç·¨è­¯å®‰å…¨-å¾-1-4-0-é–‹å§‹" tabindex="-1">ä½¿ç”¨ @Provided ç¹éç·¨è­¯å®‰å…¨ (å¾ 1.4.0 é–‹å§‹) <a class="header-anchor" href="#ä½¿ç”¨-provided-ç¹éç·¨è­¯å®‰å…¨-å¾-1-4-0-é–‹å§‹" aria-label="Permalink to &quot;ä½¿ç”¨ @Provided ç¹éç·¨è­¯å®‰å…¨ (å¾ 1.4.0 é–‹å§‹)&quot;">â€‹</a></h3><p>é™¤äº†ç·¨è­¯å™¨ä¸­å¿½ç•¥çš„é¡å‹ (Android å¸¸è¦‹é¡å‹) ä¹‹å¤–ï¼Œç·¨è­¯å™¨æ’ä»¶å¯ä»¥é©—è­‰æ‚¨çš„ Koin é…ç½®ã€‚å¦‚æœæ‚¨æƒ³æ’é™¤æŸå€‹åƒæ•¸ä¸è¢«æª¢æŸ¥ï¼Œå¯ä»¥åœ¨åƒæ•¸ä¸Šä½¿ç”¨ <code>@Provided</code> ä¾†æŒ‡ç¤ºæ­¤é¡å‹æ˜¯å¾ç›®å‰çš„ Koin è¨»è§£é…ç½®å¤–éƒ¨æä¾›çš„ã€‚</p><p>ä»¥ä¸‹è¡¨ç¤º <code>MyProvidedComponent</code> å·²åœ¨ Koin ä¸­å®£å‘Šï¼š</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyProvidedComponent</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@Factory</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyPresenter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@Provided</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> provided : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MyProvidedComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="åœç”¨é è¨­æ¨¡çµ„-å¾-1-3-0-é–‹å§‹" tabindex="-1">åœç”¨é è¨­æ¨¡çµ„ (å¾ 1.3.0 é–‹å§‹) <a class="header-anchor" href="#åœç”¨é è¨­æ¨¡çµ„-å¾-1-3-0-é–‹å§‹" aria-label="Permalink to &quot;åœç”¨é è¨­æ¨¡çµ„ (å¾ 1.3.0 é–‹å§‹)&quot;">â€‹</a></h3><p>é è¨­æƒ…æ³ä¸‹ï¼ŒKoin ç·¨è­¯å™¨æœƒæª¢æ¸¬ä»»ä½•æœªç¶å®šåˆ°æ¨¡çµ„çš„å®šç¾©ï¼Œä¸¦å°‡å…¶æ”¾å…¥ä¸€å€‹ã€Œé è¨­æ¨¡çµ„ã€ä¸­ï¼Œè©²æ¨¡çµ„æ˜¯ç”Ÿæˆåœ¨æ‚¨å°ˆæ¡ˆæ ¹ç›®éŒ„çš„ Koin æ¨¡çµ„ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹é¸é …åœç”¨é è¨­æ¨¡çµ„çš„ä½¿ç”¨å’Œç”Ÿæˆï¼š</p><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åœ¨ build.gradle æˆ– build.gradle.kts</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ksp {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    arg(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;KOIN_DEFAULT_MODULE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;false&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="kotlin-kmp-è¨­å®š" tabindex="-1">Kotlin KMP è¨­å®š <a class="header-anchor" href="#kotlin-kmp-è¨­å®š" aria-label="Permalink to &quot;Kotlin KMP è¨­å®š&quot;">â€‹</a></h3><p>è«‹æŒ‰ç…§å®˜æ–¹æ–‡ä»¶æ‰€è¿°çš„ KSP è¨­å®šï¼š<a href="https://kotlinlang.org/docs/ksp-multiplatform.html" target="_blank" rel="noreferrer">KSP èˆ‡ Kotlin Multiplatform</a></p><p>æ‚¨ä¹Ÿå¯ä»¥æŸ¥çœ‹ <a href="https://github.com/InsertKoinIO/hello-kmp/tree/annotations" target="_blank" rel="noreferrer">Hello Koin KMP</a> å°ˆæ¡ˆï¼Œå…¶ä¸­åŒ…å« Koin è¨»è§£çš„åŸºæœ¬è¨­å®šã€‚</p><h3 id="proguard" tabindex="-1">ProGuard <a class="header-anchor" href="#proguard" aria-label="Permalink to &quot;ProGuard&quot;">â€‹</a></h3><p>å¦‚æœæ‚¨æ‰“ç®—å°‡ Koin è¨»è§£æ‡‰ç”¨ç¨‹å¼ä½œç‚º SDK åµŒå…¥ï¼Œè«‹æŸ¥çœ‹é€™äº› ProGuard è¦å‰‡ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># Keep annotation definitions</span></span>
<span class="line"><span>-keep class org.koin.core.annotation.** { *; }</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Keep classes annotated with Koin annotations  </span></span>
<span class="line"><span>-keep @org.koin.core.annotation.* class * { *; }</span></span></code></pre></div>`,28)]))}const g=a(e,[["render",l]]);export{c as __pageData,g as default};
