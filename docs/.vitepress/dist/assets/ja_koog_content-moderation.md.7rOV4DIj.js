import{_ as i,c as a,o as n,ag as t}from"./chunks/framework.Bksy39di.js";const o=JSON.parse('{"title":"コンテンツモデレーション","description":"","frontmatter":{},"headers":[],"relativePath":"ja/koog/content-moderation.md","filePath":"ja/koog/content-moderation.md","lastUpdated":1755146406000}'),l={name:"ja/koog/content-moderation.md"};function h(k,s,e,p,r,E){return n(),a("div",null,s[0]||(s[0]=[t(`<h1 id="コンテンツモデレーション" tabindex="-1">コンテンツモデレーション <a class="header-anchor" href="#コンテンツモデレーション" aria-label="Permalink to &quot;コンテンツモデレーション&quot;">​</a></h1><p>コンテンツモデレーションは、テキスト、画像、その他のコンテンツを分析し、潜在的に有害、不適切、または安全でない素材を特定するプロセスです。AIシステムの文脈において、モデレーションは以下に役立ちます。</p><ul><li>有害または不適切なユーザー入力をフィルタリングする</li><li>有害または不適切なAI応答の生成を防ぐ</li><li>倫理的ガイドラインおよび法的要件への準拠を確保する</li><li>ユーザーを有害な可能性のあるコンテンツへの露出から保護する</li></ul><p>モデレーションシステムは通常、事前定義された有害コンテンツのカテゴリ（ヘイトスピーチ、暴力、性的コンテンツなど）に対してコンテンツを分析し、コンテンツがこれらのカテゴリのいずれかのポリシーに違反するかどうかを判断します。</p><p>コンテンツモデレーションは、いくつかの理由からAIアプリケーションにおいて非常に重要です。</p><ul><li><p>安全性とセキュリティ</p><ul><li>ユーザーを有害、攻撃的、または不快なコンテンツから保護する</li><li>有害なコンテンツ生成のためのAIシステムの悪用を防ぐ</li><li>すべてのユーザーに安全な環境を維持する</li></ul></li><li><p>法的および倫理的コンプライアンス</p><ul><li>コンテンツ配信に関する規制を遵守する</li><li>AI展開における倫理的ガイドラインを順守する</li><li>有害なコンテンツに関連する潜在的な法的責任を回避する</li></ul></li><li><p>品質管理</p><ul><li>インタラクションの品質と適切性を維持する</li><li>AI応答が組織の価値観と基準に合致していることを確認する</li><li>安全で適切なコンテンツを一貫して提供することでユーザーの信頼を築く</li></ul></li></ul><h2 id="モデレートされるコンテンツの種類" tabindex="-1">モデレートされるコンテンツの種類 <a class="header-anchor" href="#モデレートされるコンテンツの種類" aria-label="Permalink to &quot;モデレートされるコンテンツの種類&quot;">​</a></h2><p>Koogのモデレーションシステムは、様々な種類のコンテンツを分析できます。</p><ul><li><p>ユーザーメッセージ</p><ul><li>AIによって処理される前のユーザーからのテキスト入力</li><li>ユーザーによってアップロードされた画像（OpenAIの<strong>Moderation.Omni</strong>モデルを使用）</li></ul></li><li><p>アシスタントメッセージ</p><ul><li>ユーザーに表示される前のAIが生成した応答</li><li>応答が有害なコンテンツを含んでいないことを確認するためにチェックできる</li></ul></li><li><p>ツールコンテンツ</p><ul><li>AIシステムと統合されたツールによって生成された、またはツールに渡されたコンテンツ</li><li>ツールの入力と出力がコンテンツの安全基準を維持していることを保証する</li></ul></li></ul><h2 id="サポートされているプロバイダーとモデル" tabindex="-1">サポートされているプロバイダーとモデル <a class="header-anchor" href="#サポートされているプロバイダーとモデル" aria-label="Permalink to &quot;サポートされているプロバイダーとモデル&quot;">​</a></h2><p>Koogは、複数のプロバイダーとモデルを通じてコンテンツモデレーションをサポートしています。</p><h3 id="openai" tabindex="-1">OpenAI <a class="header-anchor" href="#openai" aria-label="Permalink to &quot;OpenAI&quot;">​</a></h3><p>OpenAIは2つのモデレーションモデルを提供しています。</p><ul><li><p><strong>OpenAIModels.Moderation.Text</strong></p><ul><li>テキストのみのモデレーション</li><li>旧世代のモデレーションモデル</li><li>複数の有害カテゴリに対してテキストコンテンツを分析</li><li>高速かつ費用対効果が高い</li></ul></li><li><p><strong>OpenAIModels.Moderation.Omni</strong></p><ul><li>テキストと画像のモデレーションの両方をサポート</li><li>最も高性能なOpenAIモデレーションモデル</li><li>テキストと画像の両方で有害なコンテンツを識別可能</li><li>Textモデルよりも包括的</li></ul></li></ul><h3 id="ollama" tabindex="-1">Ollama <a class="header-anchor" href="#ollama" aria-label="Permalink to &quot;Ollama&quot;">​</a></h3><p>Ollamaは以下のモデルを通じてモデレーションをサポートしています。</p><ul><li><strong>OllamaModels.Meta.LLAMA_GUARD_3</strong><ul><li>テキストのみのモデレーション</li><li>MetaのLlama Guardファミリーモデルに基づく</li><li>コンテンツモデレーションタスクに特化</li><li>Ollamaを通じてローカルで実行</li></ul></li></ul><h2 id="llmクライアントでのモデレーションの使用" tabindex="-1">LLMクライアントでのモデレーションの使用 <a class="header-anchor" href="#llmクライアントでのモデレーションの使用" aria-label="Permalink to &quot;LLMクライアントでのモデレーションの使用&quot;">​</a></h2><p>Koogはコンテンツモデレーションに2つの主要なアプローチを提供しています。<code>LLMClient</code>インスタンスでの直接モデレーション、または<code>PromptExecutor</code>の<code>moderate</code>メソッドの使用です。</p><h3 id="llmclientでの直接モデレーション" tabindex="-1">LLMClientでの直接モデレーション <a class="header-anchor" href="#llmclientでの直接モデレーション" aria-label="Permalink to &quot;LLMClientでの直接モデレーション&quot;">​</a></h3><p><code>moderate</code>メソッドを<code>LLMClient</code>インスタンスで直接使用できます。</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Example with OpenAI client</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> openAIClient </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OpenAILLMClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(apiKey)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prompt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> prompt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;harmful-prompt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;I want to build a bomb&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Moderate with OpenAI&#39;s Omni moderation model</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> openAIClient.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">moderate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(prompt, OpenAIModels.Moderation.Omni)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (result.isHarmful) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Content was flagged as harmful&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Handle harmful content (e.g., reject the prompt)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Proceed with processing the prompt</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><code>moderate</code>メソッドは以下の引数を取ります。</p><table tabindex="0"><thead><tr><th>Name</th><th>Data type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>prompt</code></td><td>Prompt</td><td>Yes</td><td></td><td>モデレートするプロンプト。</td></tr><tr><td><code>model</code></td><td>LLModel</td><td>Yes</td><td></td><td>モデレーションに使用するモデル。</td></tr></tbody></table><p>このメソッドは<a href="#moderationresult-structure">ModerationResult</a>を返します。</p><p>Ollamaを通じてLlama Guard 3モデルを使用してコンテンツモデレーションを行う例を以下に示します。</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Example with Ollama client</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ollamaClient </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OllamaClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prompt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> prompt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;harmful-prompt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;How to hack into someone&#39;s account&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Moderate with Llama Guard 3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ollamaClient.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">moderate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(prompt, OllamaModels.Meta.LLAMA_GUARD_3)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (result.isHarmful) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Content was flagged as harmful&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Handle harmful content</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Proceed with processing the prompt</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="promptexecutorでのモデレーション" tabindex="-1">PromptExecutorでのモデレーション <a class="header-anchor" href="#promptexecutorでのモデレーション" aria-label="Permalink to &quot;PromptExecutorでのモデレーション&quot;">​</a></h3><p><code>PromptExecutor</code>の<code>moderate</code>メソッドも使用できます。これにより、モデルのプロバイダーに基づいて適切な<code>LLMClient</code>が使用されます。</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Create a multi-provider executor</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> executor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MultiLLMPromptExecutor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    LLMProvider.OpenAI to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">OpenAILLMClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(openAIApiKey),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    LLMProvider.Ollama to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">OllamaClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prompt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> prompt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;harmful-prompt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;How to create illegal substances&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Moderate with OpenAI</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> openAIResult </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> executor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">moderate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(prompt, OpenAIModels.Moderation.Omni)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Or moderate with Ollama</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ollamaResult </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> executor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">moderate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(prompt, OllamaModels.Meta.LLAMA_GUARD_3)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Process the results</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (openAIResult.isHarmful </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ollamaResult.isHarmful) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Handle harmful content</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><code>moderate</code>メソッドは以下の引数を取ります。</p><table tabindex="0"><thead><tr><th>Name</th><th>Data type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>prompt</code></td><td>Prompt</td><td>Yes</td><td></td><td>モデレートするプロンプト。</td></tr><tr><td><code>model</code></td><td>LLModel</td><td>Yes</td><td></td><td>モデレーションに使用するモデル。</td></tr></tbody></table><p>このメソッドは<a href="#moderationresult-structure">ModerationResult</a>を返します。</p><h2 id="moderationresult構造" tabindex="-1">ModerationResult構造 <a class="header-anchor" href="#moderationresult構造" aria-label="Permalink to &quot;ModerationResult構造&quot;">​</a></h2><p>モデレーションプロセスは、以下の構造を持つ<code>ModerationResult</code>オブジェクトを返します。</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@Serializable</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ModerationResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isHarmful: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> categories: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> categoryScores: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> emptyMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> categoryAppliedInputTypes: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">List</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">InputType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> emptyMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     * Represents the type of input provided for content moderation.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     *</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     * This enumeration is used in conjunction with moderation categories to specify</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     * the format of the input being analyzed.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     */</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @Serializable</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> enum</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> InputType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         * This enum value is typically used to classify inputs as textual data</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         * within the supported input types.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        TEXT,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         * Represents an input type specifically designed for handling and processing images.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         * This enum constant can be used to classify or determine behavior for workflows requiring image-based inputs.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        IMAGE,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><code>ModerationResult</code>オブジェクトには以下のプロパティが含まれます。</p><table tabindex="0"><thead><tr><th>Name</th><th>Data type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>isHarmful</code></td><td>Boolean</td><td>Yes</td><td></td><td>trueの場合、コンテンツは有害としてフラグ付けされました。</td></tr><tr><td><code>categories</code></td><td>Map&lt;ModerationCategory, Boolean&gt;</td><td>Yes</td><td></td><td>モデレーションカテゴリから、どのカテゴリにフラグが立てられたかを示すブール値へのマップ。</td></tr><tr><td><code>categoryScores</code></td><td>Map&lt;ModerationCategory, Double&gt;</td><td>No</td><td>emptyMap()</td><td>モデレーションカテゴリから信頼度スコア (0.0 から 1.0) へのマップ。</td></tr><tr><td><code>categoryAppliedInputTypes</code></td><td>Map&lt;ModerationCategory, List&lt;InputType&gt;&gt;</td><td>No</td><td>emptyMap()</td><td>各カテゴリがどの入力タイプ（<code>TEXT</code>または<code>IMAGE</code>）によってトリガーされたかを示すマップ。</td></tr></tbody></table><h2 id="モデレーションカテゴリ" tabindex="-1">モデレーションカテゴリ <a class="header-anchor" href="#モデレーションカテゴリ" aria-label="Permalink to &quot;モデレーションカテゴリ&quot;">​</a></h2><h3 id="koogモデレーションカテゴリ" tabindex="-1">Koogモデレーションカテゴリ <a class="header-anchor" href="#koogモデレーションカテゴリ" aria-label="Permalink to &quot;Koogモデレーションカテゴリ&quot;">​</a></h3><p>Koogフレームワークが提供する可能性のあるモデレーションカテゴリ（基盤となるLLMおよびLLMプロバイダーに関係なく）は以下の通りです。</p><ol><li><strong>Harassment</strong>: 個人またはグループを嫌がらせまたは貶める意図で、威嚇、いじめ、またはその他の行動を含むコンテンツ。</li><li><strong>HarassmentThreatening</strong>: 個人またはグループを威嚇、強制、または脅迫することを意図した有害なインタラクションまたはコミュニケーション。</li><li><strong>Hate</strong>: 人種、宗教、性別、またはその他の特性に基づき、個人またはグループに対する攻撃的、差別的、または憎悪を表現すると認識される要素を含むコンテンツ。</li><li><strong>HateThreatening</strong>: 憎悪を広めるだけでなく、脅迫的な言葉、行動、または含意を含む有害なコンテンツに焦点を当てた、憎悪関連のモデレーションカテゴリ。</li><li><strong>Illicit</strong>: 違法な活動を含む、法的枠組みまたは倫理的ガイドラインに違反するコンテンツ。</li><li><strong>IllicitViolent</strong>: 違法な活動と暴力の要素を組み合わせたコンテンツ。</li><li><strong>SelfHarm</strong>: 自傷行為または関連する行動に関するコンテンツ。</li><li><strong>SelfHarmIntent</strong>: 個人が自傷行為を行う意図の表現または兆候を含む資料。</li><li><strong>SelfHarmInstructions</strong>: 自傷行為を行うためのガイダンス、テクニック、または奨励を提供するコンテンツ。</li><li><strong>Sexual</strong>: 性的に露骨な、または性的言及を含むコンテンツ。</li><li><strong>SexualMinors</strong>: 性的文脈における未成年者の搾取、虐待、または危険にさらすことに関するコンテンツ。</li><li><strong>Violence</strong>: 個人またはグループに対する暴力および身体的危害を助長、扇動、または描写するコンテンツ。</li><li><strong>ViolenceGraphic</strong>: 暴力のグラフィックな描写を含むコンテンツ。これは視聴者にとって有害、苦痛、またはトリガーとなる可能性があります。</li><li><strong>Defamation</strong>: 検証可能に虚偽であり、生存者の評判を傷つける可能性のある応答。</li><li><strong>SpecializedAdvice</strong>: 専門的な金融、医療、または法的アドバイスを含むコンテンツ。</li><li><strong>Privacy</strong>: 個人の物理的、デジタル、または経済的セキュリティを損なう可能性のある、機密性の高い非公開の個人情報を含むコンテンツ。</li><li><strong>IntellectualProperty</strong>: 第三者の知的財産権を侵害する可能性のある応答。</li><li><strong>ElectionsMisinformation</strong>: 市民選挙における投票の時間、場所、方法を含む、選挙制度およびプロセスに関する事実上不正確な情報を含むコンテンツ。</li></ol><div class="note custom-block"><p class="custom-block-title">NOTE</p><p>これらのカテゴリは、新しいモデレーションカテゴリが追加されたり、既存のカテゴリが時間の経過とともに進化したりする可能性があるため、変更される可能性があります。</p></div><h4 id="openaiモデレーションカテゴリ" tabindex="-1">OpenAIモデレーションカテゴリ <a class="header-anchor" href="#openaiモデレーションカテゴリ" aria-label="Permalink to &quot;OpenAIモデレーションカテゴリ&quot;">​</a></h4><p>OpenAIのモデレーションAPIは以下のカテゴリを提供しています。</p><ul><li><strong>Harassment</strong>: あらゆるターゲットに対するハラスメントの言葉を表現、扇動、または促進するコンテンツ。</li><li><strong>Harassment/threatening</strong>: あらゆるターゲットに対する暴力または深刻な危害を含むハラスメントコンテンツ。</li><li><strong>Hate</strong>: 人種、性別、民族性、宗教、国籍、性的指向、障害状況、またはカーストに基づいて、憎悪を表現、扇動、または促進するコンテンツ。保護されていないグループに向けられた憎悪コンテンツはハラスメントに該当します。</li><li><strong>Hate/threatening</strong>: 人種、性別、民族性、宗教、国籍、性的指向、障害状況、またはカーストに基づいて、対象グループに対する暴力または深刻な危害を含む憎悪コンテンツ。</li><li><strong>Illicit</strong>: 違法行為を行う方法に関するアドバイスまたは指示を与えるコンテンツ。「万引きの方法」のようなフレーズがこのカテゴリに該当します。</li><li><strong>Illicit/violent</strong>: illicitカテゴリでフラグが立てられるコンテンツと同じ種類ですが、暴力または武器の調達への言及も含まれます。</li><li><strong>Self-harm</strong>: 自殺、自傷行為、摂食障害などの自傷行為を促進、奨励、または描写するコンテンツ。</li><li><strong>Self-harm/intent</strong>: 自殺、自傷行為、摂食障害などの自傷行為を行っている、または行う意図があることを話者が表明するコンテンツ。</li><li><strong>Self-harm/instructions</strong>: 自殺、自傷行為、摂食障害などの自傷行為を行うことを奨励するコンテンツ、またはそのような行為を行うための指示やアドバイスを与えるコンテンツ。</li><li><strong>Sexual</strong>: 性行為の描写など、性的興奮を喚起することを目的としたコンテンツ、または性的なサービスを宣伝するコンテンツ（性教育およびウェルネスを除く）。</li><li><strong>Sexual/minors</strong>: 18歳未満の個人を含む性的コンテンツ。</li><li><strong>Violence</strong>: 死、暴力、または身体的傷害を描写するコンテンツ。</li><li><strong>Violence/graphic</strong>: 死、暴力、または身体的傷害を詳細にグラフィックに描写するコンテンツ。</li></ul><h4 id="ollamaハザードカテゴリ" tabindex="-1">Ollamaハザードカテゴリ <a class="header-anchor" href="#ollamaハザードカテゴリ" aria-label="Permalink to &quot;Ollamaハザードカテゴリ&quot;">​</a></h4><p>OllamaのLlama Guardモデルは以下のハザードカテゴリを使用しています。</p><ul><li><p><strong>S1 - Violent crimes</strong>: 以下の暴力犯罪の実行を可能に、奨励、または是認する応答：</p><ul><li>テロ、ジェノサイド、殺人、ヘイトを動機とする暴力犯罪、児童虐待、暴行、傷害、誘拐など、人々に対する違法な暴力。</li><li>動物虐待など、動物に対する違法な暴力。</li></ul></li><li><p><strong>S2 - Non-violent crimes</strong>: 以下の非暴力犯罪の実行を可能に、奨励、または是認する応答：</p><ul><li>人身売買、脅迫、威嚇、ヘイトを動機とする非暴力犯罪などの個人的な犯罪</li><li>詐欺、詐欺行為、マネーロンダリングなどの金融犯罪</li><li>窃盗、放火、破壊行為などの財産犯罪</li><li>規制物質の作成や使用などの薬物犯罪</li><li>無許可の銃器製造などの武器犯罪</li><li>ハッキングなどのサイバー犯罪</li></ul></li><li><p><strong>S3 - Sex-related crimes</strong>: 以下の性関連犯罪の実行を可能に、奨励、または是認する応答：</p><ul><li>人身売買</li><li>レイプなどの性的暴行</li><li>セクシャルハラスメント（身体的、言語的、視覚的）</li><li>売春</li></ul></li><li><p><strong>S4 - Child sexual exploitation</strong>: 児童の性的虐待を含む、説明する、可能にする、奨励する、または是認する応答。</p></li><li><p><strong>S5 - Defamation</strong>: 検証可能に虚偽であり、生存者の評判を傷つける可能性のある応答。</p></li><li><p><strong>S6 - Specialized advice</strong>: 専門的な金融、医療、または法的アドバイスを含む応答、または危険な活動や物体が安全であると示す応答。</p></li><li><p><strong>S7 - Privacy</strong>: 個人の物理的、デジタル、または経済的セキュリティを損なう可能性のある、機密性の高い非公開の個人情報を含む応答。</p></li><li><p><strong>S8 - Intellectual property</strong>: 第三者の知的財産権を侵害する可能性のある応答。</p></li><li><p><strong>S9 - Indiscriminate weapons</strong>: 以下の無差別兵器の作成を可能に、奨励、または是認する応答：</p><ul><li>サリンなどの化学兵器</li><li>炭疽菌などの生物兵器</li><li>コバルト爆弾などの放射能兵器</li><li>核分裂爆弾などの核兵器</li><li>クラスター弾などの高威力爆発性兵器</li></ul></li><li><p><strong>S10 - Hate</strong>: 人種、肌の色、民族性、出身国、障害、宗教的所属、カースト、性的指向、性別、性自認、または重篤な疾患などの機密性の高い個人的特徴に基づいて人々を貶めたり、非人間化したりする応答。</p></li><li><p><strong>S11 - Suicide and self-harm</strong>: 以下の意図的な自傷行為を可能に、奨励、または是認する応答：</p><ul><li>自殺</li><li>カッティングなどの自傷行為</li><li>摂食障害</li></ul></li><li><p><strong>S12 - Sexual content</strong>: エロティカを含む応答。</p></li><li><p><strong>S13 - Elections</strong>: 市民選挙における投票の時間、場所、方法を含む、選挙制度およびプロセスに関する事実上不正確な情報を含む応答。</p></li></ul><h4 id="プロバイダー間のカテゴリマッピング" tabindex="-1">プロバイダー間のカテゴリマッピング <a class="header-anchor" href="#プロバイダー間のカテゴリマッピング" aria-label="Permalink to &quot;プロバイダー間のカテゴリマッピング&quot;">​</a></h4><p>以下の表は、OllamaとOpenAIのモデレーションカテゴリ間のマッピングを示しています。</p><table tabindex="0"><thead><tr><th>Ollama category</th><th>Closest OpenAI moderation category or categories</th><th>Notes</th></tr></thead><tbody><tr><td><strong>S1 – Violent crimes</strong></td><td><code>illicit/violent</code>, <code>violence</code><br>（グロテスクな内容が描写されている場合は<code>violence/graphic</code>）</td><td>暴力的な不正行為の指示や推奨、および暴力的なコンテンツ自体をカバーします。</td></tr><tr><td><strong>S2 – Non‑violent crimes</strong></td><td><code>illicit</code></td><td>非暴力的な犯罪行為（詐欺、ハッキング、薬物製造など）を提供または奨励します。</td></tr><tr><td><strong>S3 – Sex‑related crimes</strong></td><td><code>illicit/violent</code>（レイプ、人身売買など）<br><code>sexual</code>（性的暴行の描写）</td><td>暴力的な性的不正行為は、違法な指示と性的コンテンツを組み合わせたものです。</td></tr><tr><td><strong>S4 – Child sexual exploitation</strong></td><td><code>sexual/minors</code></td><td>未成年者を含むあらゆる性的コンテンツ。</td></tr><tr><td><strong>S5 – Defamation</strong></td><td><strong>UNIQUE</strong></td><td>OpenAIのカテゴリには、専用の名誉毀損フラグがありません。</td></tr><tr><td><strong>S6 – Specialized advice</strong>（医療、法律、金融、危険な活動の「安全」主張）</td><td><strong>UNIQUE</strong></td><td>OpenAIのスキーマには直接表現されていません。</td></tr><tr><td><strong>S7 – Privacy</strong>（露出された個人データ、ドクシング）</td><td><strong>UNIQUE</strong></td><td>OpenAIのモデレーションには、直接的なプライバシー開示カテゴリがありません。</td></tr><tr><td><strong>S8 – Intellectual property</strong></td><td><strong>UNIQUE</strong></td><td>著作権/IPの問題は、OpenAIのモデレーションカテゴリではありません。</td></tr><tr><td><strong>S9 – Indiscriminate weapons</strong></td><td><code>illicit/violent</code></td><td>大量破壊兵器の製造または配備に関する指示は、暴力的な違法コンテンツです。</td></tr><tr><td><strong>S10 – Hate</strong></td><td><code>hate</code>（侮辱）<br><code>hate/threatening</code>（暴力的または殺意を伴う憎悪）</td><td>同じ保護対象クラスの範囲。</td></tr><tr><td><strong>S11 – Suicide and self‑harm</strong></td><td><code>self-harm</code>, <code>self-harm/intent</code>, <code>self-harm/instructions</code></td><td>OpenAIの3つの自傷行為サブタイプと完全に一致します。</td></tr><tr><td><strong>S12 – Sexual content</strong>（エロティカ）</td><td><code>sexual</code></td><td>通常の成人向けエロティカ（未成年者の場合は<code>sexual/minors</code>に移行します）。</td></tr><tr><td><strong>S13 – Elections misinformation</strong></td><td><strong>UNIQUE</strong></td><td>選挙プロセスに関する誤情報は、OpenAIのカテゴリでは個別に扱われていません。</td></tr></tbody></table><h2 id="モデレーション結果の例" tabindex="-1">モデレーション結果の例 <a class="header-anchor" href="#モデレーション結果の例" aria-label="Permalink to &quot;モデレーション結果の例&quot;">​</a></h2><h3 id="openaiモデレーション例-有害なコンテンツ" tabindex="-1">OpenAIモデレーション例（有害なコンテンツ） <a class="header-anchor" href="#openaiモデレーション例-有害なコンテンツ" aria-label="Permalink to &quot;OpenAIモデレーション例（有害なコンテンツ）&quot;">​</a></h3><p>OpenAIは、以下のJSON形式で応答を提供する特定の<code>/moderations</code> APIを提供しています。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;isHarmful&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;categories&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Harassment&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;HarassmentThreatening&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Hate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;HateThreatening&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Sexual&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;SexualMinors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Violence&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ViolenceGraphic&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;SelfHarm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;SelfHarmIntent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;SelfHarmInstructions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Illicit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;IllicitViolent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;categoryScores&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Harassment&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;HarassmentThreatening&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Hate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;HateThreatening&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Sexual&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;SexualMinors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Violence&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0145</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ViolenceGraphic&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;SelfHarm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;SelfHarmIntent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;SelfHarmInstructions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Illicit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.9998</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;IllicitViolent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.9876</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;categoryAppliedInputTypes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Illicit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TEXT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;IllicitViolent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TEXT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Koogでは、上記の応答の構造は以下の応答にマッピングされます。</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    isHarmful </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    categories </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mapOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Harassment to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.HarassmentThreatening to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Hate to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.HateThreatening to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Sexual to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.SexualMinors to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Violence to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0145</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.ViolenceGraphic to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.SelfHarm to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.SelfHarmIntent to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.SelfHarmInstructions to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Illicit to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.9998</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, appliedInputTypes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> listOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(InputType.TEXT)),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.IllicitViolent to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.9876</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, appliedInputTypes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> listOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(InputType.TEXT)),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="openaiモデレーション例-安全なコンテンツ" tabindex="-1">OpenAIモデレーション例（安全なコンテンツ） <a class="header-anchor" href="#openaiモデレーション例-安全なコンテンツ" aria-label="Permalink to &quot;OpenAIモデレーション例（安全なコンテンツ）&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;isHarmful&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;categories&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Harassment&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;HarassmentThreatening&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Hate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;HateThreatening&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Sexual&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;SexualMinors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Violence&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ViolenceGraphic&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;SelfHarm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;SelfHarmIntent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;SelfHarmInstructions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Illicit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;IllicitViolent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;categoryScores&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Harassment&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;HarassmentThreatening&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Hate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;HateThreatening&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Sexual&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;SexualMinors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Violence&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ViolenceGraphic&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;SelfHarm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;SelfHarmIntent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;SelfHarmInstructions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Illicit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;IllicitViolent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0001</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;categoryAppliedInputTypes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Koogでは、上記のOpenAIの応答は次のように表示されます。</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    isHarmful </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    categories </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mapOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Harassment to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.HarassmentThreatening to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Hate to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.HateThreatening to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Sexual to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.SexualMinors to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Violence to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.ViolenceGraphic to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.SelfHarm to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.SelfHarmIntent to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.SelfHarmInstructions to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Illicit to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.IllicitViolent to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, confidenceScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="ollamaモデレーション例-有害なコンテンツ" tabindex="-1">Ollamaモデレーション例（有害なコンテンツ） <a class="header-anchor" href="#ollamaモデレーション例-有害なコンテンツ" aria-label="Permalink to &quot;Ollamaモデレーション例（有害なコンテンツ）&quot;">​</a></h3><p>Ollamaのモデレーション形式はOpenAIのアプローチとは大きく異なります。 Ollamaには、モデレーションに特化したAPIエンドポイントはありません。 代わりに、Ollamaは汎用チャットAPIを使用します。</p><p><code>llama-guard3</code>のようなOllamaモデレーションモデルは、プレーンテキストの結果（アシスタントメッセージ）で応答し、最初の行は常に<code>unsafe</code>または<code>safe</code>であり、次の行またはそれ以降の行にはカンマ区切りのOllamaハザードカテゴリが含まれます。</p><p>例：</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>unsafe</span></span>
<span class="line"><span>S1,S10</span></span></code></pre></div><p>これはKoogでは以下の結果に変換されます。</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    isHarmful </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    categories </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mapOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Harassment to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.HarassmentThreatening to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Hate to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// from S10</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.HateThreatening to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Sexual to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.SexualMinors to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Violence to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.ViolenceGraphic to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.SelfHarm to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.SelfHarmIntent to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.SelfHarmInstructions to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Illicit to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// from S1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.IllicitViolent to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// from S1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="ollamaモデレーション例-安全なコンテンツ" tabindex="-1">Ollamaモデレーション例（安全なコンテンツ） <a class="header-anchor" href="#ollamaモデレーション例-安全なコンテンツ" aria-label="Permalink to &quot;Ollamaモデレーション例（安全なコンテンツ）&quot;">​</a></h3><p>以下は、コンテンツを安全としてマークするOllama応答の例です。</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>safe</span></span></code></pre></div><p>Koogは、この応答を次のように変換します。</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    isHarmful </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    categories </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mapOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Harassment to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.HarassmentThreatening to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Hate to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.HateThreatening to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Sexual to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.SexualMinors to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Violence to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.ViolenceGraphic to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.SelfHarm to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.SelfHarmIntent to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.SelfHarmInstructions to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.Illicit to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ModerationCategory.IllicitViolent to </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModerationCategoryResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div>`,74)]))}const g=i(l,[["render",h]]);export{o as __pageData,g as default};
