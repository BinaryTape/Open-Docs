# 현지화 테스트
<show-structure depth="2"/>

현지화 테스트를 위해 다양한 로케일에서 올바르게 번역된 문자열이 표시되는지 확인하고, 서식 및 레이아웃이 해당 로케일의 요구 사항에 맞춰 조정되는지 확인하세요.

## 다양한 플랫폼에서 로케일 테스트

### Android

Android에서는 **설정 | 시스템 | 언어 및 입력 | 언어**를 통해 기기의 시스템 로케일을 변경할 수 있습니다.
자동화된 테스트의 경우 `adb` 셸을 사용하여 에뮬레이터에서 로케일을 직접 수정할 수 있습니다.

```shell
adb -e shell
setprop persist.sys.locale [BCP-47 language tag];stop;sleep 5;start
```

이 명령은 에뮬레이터를 다시 시작하여 새 로케일로 앱을 다시 실행할 수 있게 합니다.

또는 Espresso와 같은 프레임워크를 사용하여 테스트를 실행하기 전에 로케일을 프로그래밍 방식으로 구성할 수 있습니다. 예를 들어, `LocaleTestRule()`을 사용하여 테스트 중 로케일 전환을 자동화할 수 있습니다.

### iOS

iOS에서는 **설정 | 일반 | 언어 및 지역**을 통해 기기의 시스템 언어 및 지역을 변경할 수 있습니다.
XCUITest 프레임워크를 사용한 자동화된 UI 테스트의 경우 실행 인자를 사용하여 로케일 변경을 시뮬레이션할 수 있습니다.

```swift
app.launchArguments = [
    "-AppleLanguages", "(es)",
    "-AppleLocale", "es_ES"
]
```

### Desktop

데스크톱에서 JVM 로케일은 일반적으로 운영 체제의 로케일을 기본값으로 합니다. 설정 위치는 데스크톱 플랫폼마다 다릅니다.

UI가 초기화되기 전에 테스트 설정 또는 애플리케이션 진입점에서 JVM 기본 로케일을 프로그래밍 방식으로 설정할 수 있습니다.

```java
java.util.Locale.setDefault(java.util.Locale("es_ES"))
``` 

### Web

빠른 확인을 위해 브라우저 환경설정에서 언어 설정을 변경할 수 있습니다.
자동화된 테스트의 경우 Selenium 또는 Puppeteer와 같은 브라우저 자동화 도구로 로케일 변경을 시뮬레이션할 수 있습니다.

또는 `window.navigator.languages` 속성의 읽기 전용 제한을 우회하여 사용자 지정 로케일을 도입할 수 있습니다. [](compose-resource-environment.md) 튜토리얼에서 자세히 알아보세요.

## 주요 테스트 시나리오

### 사용자 지정 로케일

* 로케일을 프로그래밍 방식으로 재정의합니다.
* UI 요소, 서식 지정된 문자열 및 레이아웃이 선택된 로케일에 대해 올바르게 조정되는지 확인하며, 해당하는 경우 우측에서 좌측으로 쓰는 텍스트 처리도 포함합니다.

### 기본 리소스

기본 리소스는 지정된 로케일에 사용할 수 있는 번역이 없을 때 사용됩니다. 애플리케이션은 이 기본값으로 올바르게 폴백(fallback)해야 합니다.

* 위에 설명된 플랫폼별 메서드를 사용하여 로케일을 지원되지 않는 값으로 구성합니다.
* 폴백(fallback) 메커니즘이 기본 리소스를 올바르게 로드하고 제대로 표시하는지 확인합니다.

### 로케일별 사례

일반적인 현지화 문제를 방지하려면 다음 로케일별 사례를 고려하십시오.

* 날짜 서식 (`MM/dd/yyyy` vs. `dd/MM/yyyy`) 및 숫자 서식과 같은 [로케일별 서식 지정](compose-regional-format.md)을 테스트합니다.
* 아랍어 및 히브리어와 같이 우측에서 좌측으로 쓰는 언어에서 문자열, 레이아웃 및 정렬이 올바르게 표시되는지 확인하여 [RTL 및 LTR 동작](compose-rtl.md)의 유효성을 검사합니다.