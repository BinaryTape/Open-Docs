# 總覽

本頁面提供了關於 Koog framework 中子圖的詳細資訊。理解這些概念對於建立複雜的代理工作流程至關重要，這些工作流程需在多個處理步驟中維持上下文。

## 簡介

子圖是 Koog framework 中的一個基本概念，它允許您將複雜的代理工作流程分解為可管理、依序的步驟。每個子圖代表一個處理階段，擁有其自身的上下文、職責和一套可選的工具子集。

子圖是策略的組成部分，而策略是代表整體代理工作流程的圖。有關策略的更多資訊，請參閱 [自訂策略圖](custom-strategy-graphs.md)。

## 理解子圖

子圖是代理策略中一個自包含的處理單元。每個子圖：

- 具有唯一名稱
- 包含由邊連接的節點或子圖的圖
- 可以使用工具註冊表中的任何工具或其子集
- 接收來自上一個子圖（或初始使用者輸入）的輸入
- 產生會傳遞給下一個子圖（或最終輸出）的輸出

要在圖中定義子圖序列，請使用邊連接或使用 `then` 關鍵字定義序列。有關更多資訊，請參閱 [自訂策略圖](custom-strategy-graphs.md)。

### 子圖上下文

每個子圖都在一個上下文中執行，該上下文提供對以下內容的存取：

- 環境
- 代理輸入
- 代理配置
- LLM 上下文（包括對話歷史）
- 狀態管理器
- 儲存
- 會話和策略

上下文會傳遞給子圖中的每個節點，並提供節點執行其操作所需的資源。